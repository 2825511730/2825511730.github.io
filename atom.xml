<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>源码下载_计算机毕业设计_JavaWeb项目源码_公众号【C you again】</title>
  
  
  <link href="https://cyouagain.cn/atom.xml" rel="self"/>
  
  <link href="https://cyouagain.cn/"/>
  <updated>2020-10-05T15:37:32.152Z</updated>
  <id>https://cyouagain.cn/</id>
  
  <author>
    <name>公众号：C you again</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>网站、网页资源快速收录百度API提交助手</title>
    <link href="https://cyouagain.cn/posts/17978.html"/>
    <id>https://cyouagain.cn/posts/17978.html</id>
    <published>2020-10-05T15:32:02.698Z</published>
    <updated>2020-10-05T15:37:32.152Z</updated>
    
    <content type="html"><![CDATA[<h1 id="百度网页收录API提交助手"><a href="#百度网页收录API提交助手" class="headerlink" title="百度网页收录API提交助手"></a>百度网页收录API提交助手</h1><h2 id="扫码体验："><a href="#扫码体验：" class="headerlink" title="扫码体验："></a>扫码体验：</h2><p><img src="https://img-blog.csdnimg.cn/20201005231721964.jpg#pic_left" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20201005231721964.jpg#pic_left" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p><img src="https://img-blog.csdnimg.cn/20201005231909768.jpg#pic_left" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20201005231909768.jpg#pic_left" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h2 id="关于小程序"><a href="#关于小程序" class="headerlink" title="关于小程序"></a>关于小程序</h2><p>网站运营少不了SEO，其中网站资源主动提交是搜索引擎优化中非常关键的一步。百度作为全球最大的中文搜索引擎，拥有庞大的资源网络和使用人群。</p><p>本小程序就是对百度API资源提交方式做了处理和封装，让使用者专注于做网站优化，提高工作效率。具有操作简单、打开即用等特点。</p><p>网页收录API提交助手只作为小程序入门项目，仅供学习参考，无盈利性质。</p><h2 id="功能划分与说明"><a href="#功能划分与说明" class="headerlink" title="功能划分与说明"></a>功能划分与说明</h2><p><img src="https://img-blog.csdnimg.cn/2020100522215059.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/2020100522215059.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201005223555774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20201005223555774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p>如上图所示，将网页收录API提交助手划分为6个区域，其中：</p><p>1~3号属于信息录入区，用于填写程序运行的必要支撑数据</p><p>4号为程序控制区域，用来控制小程序运行、数据更新等</p><p>5号为使用说明区，可以查看小程序的使用信息</p><p>6号为结果展示区，输出程序执行结果</p><h1 id="百度网页收录API提交助手使用说明"><a href="#百度网页收录API提交助手使用说明" class="headerlink" title="百度网页收录API提交助手使用说明"></a>百度网页收录API提交助手使用说明</h1><h2 id="第一步：获取site和token值"><a href="#第一步：获取site和token值" class="headerlink" title="第一步：获取site和token值"></a>第一步：获取site和token值</h2><ul><li><p>浏览器搜索“百度资源平台”或直接输入“<a href="https://ziyuan.baidu.com/%E2%80%9D%E6%89%93%E5%BC%80%E5%B9%B6%E7%99%BB%E9%99%86%E7%BD%91%E7%AB%99">https://ziyuan.baidu.com/”打开并登陆网站</a></p></li><li><p>选择 用户中心-&gt;站点管理-&gt;添加网站-&gt;完成验证。<br><img src="https://img-blog.csdnimg.cn/20201005213534438.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20201005213534438.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p><img src="https://img-blog.csdnimg.cn/2020100521372426.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/2020100521372426.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p></li></ul><p><img src="https://img-blog.csdnimg.cn/20201005213838752.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20201005213838752.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p><img src="https://img-blog.csdnimg.cn/20201005214530141.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20201005214530141.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><ul><li><p>完成验证后点击左侧栏的 普通收录 看到如下界面：</p><p><img src="https://img-blog.csdnimg.cn/202010052149584.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/202010052149584.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>从上图中可以看到：</p></li></ul><p> <strong>site为：</strong> <a href="https://dorm.cyouagain.cn/">https://dorm.cyouagain.cn</a><br> <strong>token：</strong> YYYYYYYYYYY<br> 说明：这里的token值只为做演示，为无效值。</p><h2 id="第二步：-将上述信息填写到小程序"><a href="#第二步：-将上述信息填写到小程序" class="headerlink" title="第二步： 将上述信息填写到小程序"></a>第二步： 将上述信息填写到小程序</h2><p> <img src="https://img-blog.csdnimg.cn/20201005215705297.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20201005215705297.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h2 id="第三步：查看结果"><a href="#第三步：查看结果" class="headerlink" title="第三步：查看结果"></a>第三步：查看结果</h2><p> <img src="https://img-blog.csdnimg.cn/20201005215817718.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20201005215817718.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/2020100521591091.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/2020100521591091.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201005220309579.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20201005220309579.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>以上就是所有教程了，因本人技术有限，难免会出现一些错误，欢迎指正！任何问题请在公众号【C you again】后台私信。</p>]]></content>
    
    
    <summary type="html">网站、网页资源快速收录百度API提交助手，在线提交，SEO网站优化</summary>
    
    
    
    <category term="IT技术圈" scheme="https://cyouagain.cn/categories/IT%E6%8A%80%E6%9C%AF%E5%9C%88/"/>
    
    
    <category term="源码分享" scheme="https://cyouagain.cn/tags/%E6%BA%90%E7%A0%81%E5%88%86%E4%BA%AB/"/>
    
    <category term="系统源码" scheme="https://cyouagain.cn/tags/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    <category term="SEO网站优化" scheme="https://cyouagain.cn/tags/SEO%E7%BD%91%E7%AB%99%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>图书管理系统设计与实现—看这篇就够了</title>
    <link href="https://cyouagain.cn/posts/3700.html"/>
    <id>https://cyouagain.cn/posts/3700.html</id>
    <published>2020-10-02T07:47:56.648Z</published>
    <updated>2020-10-02T14:43:51.421Z</updated>
    
    <content type="html"><![CDATA[<h2 id="图书管理系统设计与实现"><a href="#图书管理系统设计与实现" class="headerlink" title="图书管理系统设计与实现"></a>图书管理系统设计与实现</h2><blockquote><p>图书馆人员结构复杂，人员数量有限，涉及方面很广，如果还使用手工操作处理图书借阅问题，工作将非常繁琐，需要大量的人力、物理、财力，极大的浪费了资源，对于图书管理人员来说，图书馆管理包括图书信息管理、图书类别管理、借阅信息管理、管理员信息管理等等。而这些项目在过去靠手工操作，需要手工记录这些事情，不但麻烦，还经常出错，给广大用户带来很多不便，因此，开发这样一套图书馆管理系统软件。让管理员方便的管理图书及用户信息，方便用户查找图书。</p></blockquote><h4 id="1、本课程设计的目的"><a href="#1、本课程设计的目的" class="headerlink" title="1、本课程设计的目的"></a>1、本课程设计的目的</h4><p>（1）掌握企业级应用系统的基本开发流程；<br>（2）培养开发者掌握应用系统设计的基本思路和方法；<br>（3）培养开发者分析、解决问题的能力；</p><h4 id="2、系统要实现的功能概述"><a href="#2、系统要实现的功能概述" class="headerlink" title="2、系统要实现的功能概述"></a>2、系统要实现的功能概述</h4><p>（1）用户登录。管理员或会员根据用户名和密码进行身份验证登录系统。<br>（2）图书管理。根据图书编号、图书名称查询图书基本信息添加、修改、删除图书。<br>（3）读者管理。根据账号、姓名查询读者基本信息。添加、修改、删除读者信息。<br>（4）图书分类管理。根据分类名称查询图书分类信息。添加、修改、删除图书分类。<br>（5）图书借阅。展示所有正在借阅图书的信息。<br>（6）图书归还。展示所有已归还图书的信息。<br>（7）修改和查询个人信息。</p><h4 id="3、实现平台及技术"><a href="#3、实现平台及技术" class="headerlink" title="3、实现平台及技术"></a>3、实现平台及技术</h4><p>（1）JAVA语言<br>（2）MYSQL数据库<br>（3）WINDOWS 10操作系统<br>（4）JAVAEE 技术<br>（5）Servlet技术<br>（6）Eclipse工具<br>（7）Html、css、JavaScript</p><h4 id="4、需求分析"><a href="#4、需求分析" class="headerlink" title="4、需求分析"></a>4、需求分析</h4><p>  &nbsp;&nbsp;&nbsp;&nbsp;系统的主要目的是实现一个图书管理系统。系统有2类用户分别为管理员、 读者会员。管理员经口令认证进人系统后，管理员可完成维护系统的功能，包括管理图书和管理会员。读者会员则完成查询图书、修改个人资料、查询个人借阅信息、归还借阅图书的功能，工作完成后可以退出系统。</p><h4 id="5、系统功能模块划分"><a href="#5、系统功能模块划分" class="headerlink" title="5、系统功能模块划分"></a>5、系统功能模块划分</h4><h5 id="5-1-系统总体功能模块划分"><a href="#5-1-系统总体功能模块划分" class="headerlink" title="5.1 系统总体功能模块划分"></a>5.1 系统总体功能模块划分</h5><p><img src="https://img-blog.csdnimg.cn/20200615124404743.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200615124404743.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h5 id="5-2-用户登录模块"><a href="#5-2-用户登录模块" class="headerlink" title="5.2 用户登录模块"></a>5.2 用户登录模块</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;当用普通用户输入用户名和密码后，进行验证，如果用户名和密码其中有一个不正确，则不能登录，并有相应的提示，如果用户没有账号，可以在登录页面进行注册，普通用户可以进行个人资料的查询、修改和修改密码，普通用户可以查询图书信息并借阅和退还，在首页面会展示图书借阅信息和借阅历史信息。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;当用管理员输入用户名和密码后，进行验证，如果用户名和密码其中有一个不正确，则不能登录，并有相应的提示，管理员可以进行个人资料的查询、修改和修改密码，管理员可以对图书信息，读者信息，借阅信息进行查看和管理，对图书进行分类</p><p><img src="https://img-blog.csdnimg.cn/20200615124626380.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200615124626380.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h5 id="5-3-图书信息管理模块"><a href="#5-3-图书信息管理模块" class="headerlink" title="5.3 图书信息管理模块"></a>5.3 图书信息管理模块</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;管理员对图书的数量，图书号，图书类型，图书名称等进行修改、删除管理，如果普通用户在线借书，图书总数会相应减少。<br><img src="https://img-blog.csdnimg.cn/20200615124906408.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200615124906408.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h5 id="5-4-读者管理模块"><a href="#5-4-读者管理模块" class="headerlink" title="5.4 读者管理模块"></a>5.4 读者管理模块</h5><p>&nbsp;&nbsp;&nbsp;&nbsp; 管理员对读者信息可以进行进行修改、删除，并且可以主动添加新用户，该模块显示用户借阅天数，天数会自动变化，管理员可以在线监控读者借阅天数，如果到期未还者，账号则不能登录。</p><p><img src="https://img-blog.csdnimg.cn/20200615125026939.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200615125026939.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h5 id="5-5-图书分类管理模块"><a href="#5-5-图书分类管理模块" class="headerlink" title="5.5  图书分类管理模块"></a>5.5  图书分类管理模块</h5><p>&nbsp;&nbsp;&nbsp;&nbsp; 管理员在线对图书进行管理，对图书分类进行增加，修改，删除操作。</p><p><img src="https://img-blog.csdnimg.cn/20200615125228640.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200615125228640.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h5 id="5-6-图书借阅信息模块"><a href="#5-6-图书借阅信息模块" class="headerlink" title="5.6 图书借阅信息模块"></a>5.6 图书借阅信息模块</h5><p>&nbsp;&nbsp;&nbsp;&nbsp; 管理员可以在线管理借阅信息，可以主动帮读者还书。</p><h5 id="5-7-图书归还信息管理模块"><a href="#5-7-图书归还信息管理模块" class="headerlink" title="5.7 图书归还信息管理模块"></a>5.7 图书归还信息管理模块</h5><p>&nbsp;&nbsp;&nbsp;&nbsp; 显示归还图书的详细信息。</p><h5 id="5-8-图书查询模块"><a href="#5-8-图书查询模块" class="headerlink" title="5.8 图书查询模块"></a>5.8 图书查询模块</h5><p>&nbsp;&nbsp;&nbsp;&nbsp; 用户访问图书查询模块时显示当前可以借阅图书，有按图书名称查询图书信息的功能，可以进行借书操作。</p><h5 id="5-9-图书借阅信息模块"><a href="#5-9-图书借阅信息模块" class="headerlink" title="5.9 图书借阅信息模块"></a>5.9 图书借阅信息模块</h5><p>&nbsp;&nbsp;&nbsp;&nbsp; 显示当前登录用户借阅的所有图书，以及各个图书的编号，图书名称，借阅日期，还书日期，读者账号，读者名称信息。登录用户可以进行还书操作，还书是否成功有相应的提示。</p><h5 id="5-10-借阅历史模块"><a href="#5-10-借阅历史模块" class="headerlink" title="5.10 借阅历史模块"></a>5.10 借阅历史模块</h5><p>&nbsp;&nbsp;&nbsp;&nbsp; 显示当前登录用户的图书借阅记录。</p><h4 id="6、数据库设计"><a href="#6、数据库设计" class="headerlink" title="6、数据库设计"></a>6、数据库设计</h4><h5 id="6-1-数据库的-E-R-图"><a href="#6-1-数据库的-E-R-图" class="headerlink" title="6.1 数据库的 E-R 图"></a>6.1 数据库的 E-R 图</h5><p><strong>Admin(用户)表 E-R 图</strong><br><img src="https://img-blog.csdnimg.cn/20200615130101674.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200615130101674.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="><br><strong>Book(图书)表 E-R 图</strong><br><img src="https://img-blog.csdnimg.cn/20200615130325652.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200615130325652.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>BookType(图书类型)表 E-R 图</strong><br><img src="https://img-blog.csdnimg.cn/20200615130337372.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200615130337372.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>History(历史)表 E-R 图</strong><br><img src="https://img-blog.csdnimg.cn/20200615130350933.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200615130350933.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h5 id="6-2-数据库数据结构设计"><a href="#6-2-数据库数据结构设计" class="headerlink" title="6.2 数据库数据结构设计"></a>6.2 数据库数据结构设计</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;数据库采用的是的mysql数据库，系统主要需要维护4张数据表：</p><p><strong>用户表信息（admin）：</strong><br><img src="https://img-blog.csdnimg.cn/2020061513054384.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/2020061513054384.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>图书表信息（book）：</strong><br><img src="https://img-blog.csdnimg.cn/20200615130706685.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200615130706685.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>图书类型表信息（bookType）：</strong><br><img src="https://img-blog.csdnimg.cn/2020061513074918.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/2020061513074918.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>图书历史表信息（history）：</strong><br><img src="https://img-blog.csdnimg.cn/20200615130820658.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200615130820658.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="7、系统详细设计和实现"><a href="#7、系统详细设计和实现" class="headerlink" title="7、系统详细设计和实现"></a>7、系统详细设计和实现</h4><h5 id="7-1-用户登录"><a href="#7-1-用户登录" class="headerlink" title="7.1 用户登录"></a>7.1 用户登录</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;用户登录主要是在登陆窗体中实现身份验证。用户通过输入用户名和密码，进入图 5-1，判别用户名是否存在和密码是否正确。通过系统验证证后才能进入主界面；验证失败，则跳转登陆界面返回错误信息，如登陆账号为空、登陆密码为空、用户名和密码不匹配等并请重新输入。此登陆页面图书管理员和普通用户进入时一样的，通过查询数据库status状态来判断用户属于哪一种，从而进行不同的跳转。<br><img src="https://img-blog.csdnimg.cn/20200615131319259.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200615131319259.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20200615131505376.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200615131505376.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20200615131614109.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200615131614109.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>主要代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.rain.servlet;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.RequestDispatcher;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> javax.websocket.Session;</span><br><span class="line"><span class="keyword">import</span> com.rain.bean.AdminBean;</span><br><span class="line"><span class="keyword">import</span> com.rain.dao.AdminDao;</span><br><span class="line"><span class="meta">@WebServlet(&quot;/LoginServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LoginServlet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Protected <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException</span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//登录的判断</span></span><br><span class="line">        PrintWriter out = response.getWriter();</span><br><span class="line">        request.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        response.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        <span class="comment">//获取账号和密码</span></span><br><span class="line">        String username = request.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        String password = request.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">        AdminDao userdao = <span class="keyword">new</span> AdminDao();</span><br><span class="line">        <span class="comment">//对账号和密码进行判断</span></span><br><span class="line">        <span class="keyword">boolean</span> result = userdao.Login_verify(username, password);</span><br><span class="line">        HttpSession session = request.getSession();</span><br><span class="line">        <span class="comment">//判断输入正确</span></span><br><span class="line">        <span class="keyword">if</span> (result) &#123;</span><br><span class="line">            AdminBean adminbean = <span class="keyword">new</span> AdminBean();</span><br><span class="line">            AdminDao admindao = <span class="keyword">new</span> AdminDao();</span><br><span class="line">            <span class="comment">//更加账号和密码查找出读者的信息</span></span><br><span class="line">            adminbean = admindao.getAdminInfo(username, password);</span><br><span class="line">            <span class="comment">//将aid存入session中</span></span><br><span class="line">            session.setAttribute(<span class="string">&quot;aid&quot;</span>, <span class="string">&quot;&quot;</span> + adminbean.getAid());</span><br><span class="line">            <span class="comment">//设置session的失效时间</span></span><br><span class="line">            session.setMaxInactiveInterval(<span class="number">6000</span>);</span><br><span class="line">            <span class="comment">//根据status的值来判断是管理员，还是读者，status=1为读者</span></span><br><span class="line">            <span class="keyword">if</span> (adminbean.getStatus() == <span class="number">1</span>) &#123;</span><br><span class="line">                response.sendRedirect(<span class="string">&quot;/books/index2.jsp&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                response.sendRedirect(<span class="string">&quot;/books/admin.jsp&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//没有找到对应的账号和密码，返回重新登录</span></span><br><span class="line">            session.setAttribute(<span class="string">&quot;state&quot;</span>, <span class="string">&quot;密码错误&quot;</span>);</span><br><span class="line">            response.sendRedirect(<span class="string">&quot;/books/login.jsp&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="7-2-图书查询"><a href="#7-2-图书查询" class="headerlink" title="7.2 图书查询"></a>7.2 图书查询</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;管理员可以通过根据图书号 、图书名称，作者名称，出版社等查询图书信息。<br><img src="https://img-blog.csdnimg.cn/20200615131740881.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200615131740881.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>主要代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.rain.servlet;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> com.rain.bean.BookBean;</span><br><span class="line"><span class="keyword">import</span> com.rain.dao.BookDao;</span><br><span class="line"><span class="meta">@WebServlet(&quot;/selectServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">selectServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">selectServlet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        request.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        response.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        <span class="comment">//因为在管理员界面和读者界面都有查找功能，为了将查找的结果返回正确的页面，设置了tip，tip=1表示管理员界面</span></span><br><span class="line">        <span class="keyword">int</span> tip = Integer.parseInt(request.getParameter(<span class="string">&quot;tip&quot;</span>));</span><br><span class="line">        String name = request.getParameter(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        BookDao bookdao = <span class="keyword">new</span> BookDao();</span><br><span class="line">        ArrayList&lt;BookBean&gt; data = bookdao.getLikeList(name);</span><br><span class="line">        <span class="comment">//将获取的结果存入请求中</span></span><br><span class="line">        request.setAttribute(<span class="string">&quot;data&quot;</span>, data);</span><br><span class="line">        String url = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="comment">//转发不同的界面</span></span><br><span class="line">        <span class="keyword">if</span> (tip == <span class="number">1</span>) &#123;</span><br><span class="line">            url = response.encodeURL(<span class="string">&quot;admin_book.jsp&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            url = response.encodeURL(<span class="string">&quot;select.jsp&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//将请求转发</span></span><br><span class="line">        request.getRequestDispatcher(url).forward(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="7-3-添加图书"><a href="#7-3-添加图书" class="headerlink" title="7.3 添加图书"></a>7.3 添加图书</h5><p><img src="https://img-blog.csdnimg.cn/20200615131924697.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200615131924697.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>主要代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.rain.servlet;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> com.rain.dao.BookDao;</span><br><span class="line"><span class="meta">@WebServlet(&quot;/AddBookServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AddBookServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AddBookServlet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//设置编码类型</span></span><br><span class="line">        request.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        response.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        <span class="comment">//获取要添加图书的信息</span></span><br><span class="line">        String card = request.getParameter(<span class="string">&quot;card&quot;</span>);</span><br><span class="line">        String name = request.getParameter(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        String type = request.getParameter(<span class="string">&quot;type&quot;</span>);</span><br><span class="line">        String autho = request.getParameter(<span class="string">&quot;autho&quot;</span>);</span><br><span class="line">        String press = request.getParameter(<span class="string">&quot;press&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> num = Integer.parseInt(request.getParameter(<span class="string">&quot;num&quot;</span>));</span><br><span class="line">        BookDao bookdao = <span class="keyword">new</span> BookDao();</span><br><span class="line">        <span class="comment">//调用函数，存入图书</span></span><br><span class="line">        bookdao.addBook(card, name, type, autho, press, num);</span><br><span class="line">        response.sendRedirect(<span class="string">&quot;/books/admin_book.jsp&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="7-4-图书信息修改"><a href="#7-4-图书信息修改" class="headerlink" title="7.4    图书信息修改"></a>7.4    图书信息修改</h5><p><img src="https://img-blog.csdnimg.cn/20200615132054133.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200615132054133.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>主要代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.rain.servlet;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> com.rain.dao.BookDao;</span><br><span class="line"><span class="meta">@WebServlet(&quot;/updateBookServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">updateBookServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">updateBookServlet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//修改图书信息</span></span><br><span class="line">        request.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        response.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        String card = request.getParameter(<span class="string">&quot;card&quot;</span>);</span><br><span class="line">        String name = request.getParameter(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        String type = request.getParameter(<span class="string">&quot;type&quot;</span>);</span><br><span class="line">        String autho = request.getParameter(<span class="string">&quot;autho&quot;</span>);</span><br><span class="line">        String press = request.getParameter(<span class="string">&quot;press&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> num = Integer.parseInt(request.getParameter(<span class="string">&quot;num&quot;</span>));</span><br><span class="line">        Int bid = Integer.parseInt(request.getParameter(<span class="string">&quot;updatebid&quot;</span>));</span><br><span class="line">        BookDao bookdao = <span class="keyword">new</span> BookDao();</span><br><span class="line">        bookdao.updateBook(bid, card, name, type, autho, press, num);</span><br><span class="line">        response.sendRedirect(<span class="string">&quot;/books/admin_book.jsp&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="7-5-图书删除"><a href="#7-5-图书删除" class="headerlink" title="7.5 图书删除"></a>7.5 图书删除</h5><p>主要代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.rain.servlet;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> com.rain.dao.BookDao;</span><br><span class="line"><span class="meta">@WebServlet(&quot;/deleteServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">deleteServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">deleteServlet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//删除图书信息</span></span><br><span class="line">        request.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        response.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> bid = Integer.parseInt(request.getParameter(<span class="string">&quot;bid&quot;</span>));</span><br><span class="line">        BookDao bookdao = <span class="keyword">new</span> BookDao();</span><br><span class="line">        bookdao.deleteBook(bid);</span><br><span class="line">        response.sendRedirect(<span class="string">&quot;/books/admin_book.jsp&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        doGet(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>其它模块设计与实现请查看 公众号：C you again</strong></p><p><strong>完整文档和系统源码下载：</strong><br>关注公众号：C you again 或扫描下方二维码，回复：“图书管理系统” 免费获取，<br>更多干货等你来拿<br><img src="https://img-blog.csdnimg.cn/20200615132721388.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200615132721388.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p>好用记得点赞分享哦！！！！<br>注：此系统不是本人原创，在原系统基础上进行修改，加以创新。<br>侵权请联系删除</p>]]></content>
    
    
    <summary type="html">Java+Jsp+Servlet 实现图书管理系统</summary>
    
    
    
    <category term="系统源码" scheme="https://cyouagain.cn/categories/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    
    <category term="源码分享" scheme="https://cyouagain.cn/tags/%E6%BA%90%E7%A0%81%E5%88%86%E4%BA%AB/"/>
    
    <category term="系统源码" scheme="https://cyouagain.cn/tags/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    <category term="图书管理系统" scheme="https://cyouagain.cn/tags/%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>贪吃蛇的使命之零基础入门贪吃蛇游戏（附演示地址）</title>
    <link href="https://cyouagain.cn/posts/17293.html"/>
    <id>https://cyouagain.cn/posts/17293.html</id>
    <published>2020-10-02T07:47:56.645Z</published>
    <updated>2020-10-02T14:43:33.113Z</updated>
    
    <content type="html"><![CDATA[<h2 id="零基础入门贪吃蛇游戏"><a href="#零基础入门贪吃蛇游戏" class="headerlink" title="零基础入门贪吃蛇游戏"></a>零基础入门贪吃蛇游戏</h2><blockquote><p>贪吃蛇是一款最常见、最经典、最受欢迎的小游戏之一。本篇文章带你零基础实现贪吃蛇游戏，一条蛇的使命从这里开始。</p></blockquote><h4 id="演示地址：贪吃蛇演示，可能会提示危险操作，请忽略，放心访问。"><a href="#演示地址：贪吃蛇演示，可能会提示危险操作，请忽略，放心访问。" class="headerlink" title="演示地址：贪吃蛇演示，可能会提示危险操作，请忽略，放心访问。"></a>演示地址：<a href="https://cca1a4.coding-pages.com/">贪吃蛇演示</a>，可能会提示危险操作，请忽略，放心访问。</h4><h4 id="源码获取：公众号：C-you-again-，回复“贪吃蛇”免费获取"><a href="#源码获取：公众号：C-you-again-，回复“贪吃蛇”免费获取" class="headerlink" title=" 源码获取：公众号：C you again ，回复“贪吃蛇”免费获取"></a><font color=red> 源码获取：公众号：C you again ，回复“贪吃蛇”免费获取</font></h4><h4 id="1、游戏描述"><a href="#1、游戏描述" class="headerlink" title="1、游戏描述"></a>1、游戏描述</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;贪吃蛇是一款非常经典的休闲类游戏。在一块固定大小的区域内，游戏玩家通过控制贪吃蛇的移动去吃食物，吃到食物的蛇身体变长。食物被蛇吃到后立马消失，并再次随机产生。蛇撞到四周墙壁或者自己身体时死亡。</p><h4 id="2、前期准备"><a href="#2、前期准备" class="headerlink" title="2、前期准备"></a>2、前期准备</h4><h5 id="2-1-具备技能"><a href="#2-1-具备技能" class="headerlink" title="2.1 具备技能"></a>2.1 具备技能</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;本游戏所说是零基础，但你具备以下技能最佳：<br>&nbsp;&nbsp;&nbsp;&nbsp;1、 HTML（主要是div盒子模型，canvas画布）<br>&nbsp;&nbsp;&nbsp;&nbsp;2.、CSS  （为你好看的游戏界面做准备）<br>&nbsp;&nbsp;&nbsp;&nbsp;3.、JavaScript （让小蛇动起来，逻辑代码实现）</p><h5 id="2-2-开发工具"><a href="#2-2-开发工具" class="headerlink" title="2.2 开发工具"></a>2.2 开发工具</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;为提高开发速率，选择一款优秀的开发工具也很重要，这里小编推荐 sublime text3,轻巧方便，可以去百度下载，也可以关注小编公众号“C you again”,私信获取破解中文版。当然你足够优秀，使用记事本小编也不拦着。</p><h4 id="3、实现目标"><a href="#3、实现目标" class="headerlink" title="3、实现目标"></a>3、实现目标</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;本篇文章欲带你实现以下功能<br>&nbsp;&nbsp;&nbsp;&nbsp;1、基本贪吃蛇（蛇的移动，吃食物，产生食物，增加分数）<br>&nbsp;&nbsp;&nbsp;&nbsp;2、增加 暂停游戏/继续游戏功能<br>&nbsp;&nbsp;&nbsp;&nbsp;3、再来一局功能（贪吃蛇死亡后有再来一局提示）</p><h4 id="4、按键约定"><a href="#4、按键约定" class="headerlink" title="4、按键约定"></a>4、按键约定</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;为方便玩家游戏，对操作按键做以下约定：<br>&nbsp;&nbsp;&nbsp;&nbsp; 1、上、下、左、右按键分别操作贪吃蛇的四个运动方向<br>&nbsp;&nbsp;&nbsp;&nbsp; 2、“+”、“-”按键分别代表贪吃蛇的加速、减速<br>&nbsp;&nbsp;&nbsp;&nbsp; 3.、空格键代表游戏暂停/继续</p><h4 id="5、实现原理"><a href="#5、实现原理" class="headerlink" title="5、实现原理"></a>5、实现原理</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;1、利用canvas画布完成运动场地、食物、贪吃蛇的展示<br>&nbsp;&nbsp;&nbsp;&nbsp;2、利用数组存储贪吃蛇的坐标位置<br>&nbsp;&nbsp;&nbsp;&nbsp;3、利用上、下、左、右键改变贪吃蛇的蛇头坐标<br>&nbsp;&nbsp;&nbsp;&nbsp;2、不断重新绘制页面，造成贪吃蛇运动的错觉</p><h4 id="6、实现逻辑"><a href="#6、实现逻辑" class="headerlink" title="6、实现逻辑"></a>6、实现逻辑</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//伪代码</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> 初始化数据（）</span>&#123;</span><br><span class="line">    <span class="number">1</span>、初始化贪吃蛇运动区域大小</span><br><span class="line">    <span class="number">2</span>、初始化canvas画布山下文对象</span><br><span class="line">    <span class="number">3</span>、初始化贪吃蛇的坐标</span><br><span class="line">    <span class="number">4</span>、初始化贪吃蛇运动的方向</span><br><span class="line">    <span class="number">5</span>、初始化玩家分数</span><br><span class="line">    <span class="number">6</span>、初始化贪吃蛇的速度</span><br><span class="line">    <span class="number">7</span>、初始化食物</span><br><span class="line">    <span class="number">8</span>、初始化蛇</span><br><span class="line">    <span class="number">9</span>、初始化蛇的状态</span><br><span class="line"> &#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> 开始游戏（）</span>&#123;</span><br><span class="line">  interval = <span class="built_in">setInterval</span>(运动方法（）, speed);</span><br><span class="line">  <span class="built_in">document</span>.onkeydown = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> event = event || <span class="built_in">window</span>.event;</span><br><span class="line">按键监控方法(event.keyCode);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> 按键监控方法（<span class="title">key</span>）</span>&#123;</span><br><span class="line">   <span class="keyword">switch</span>(key)&#123;</span><br><span class="line">      <span class="keyword">case</span>: <span class="number">37</span></span><br><span class="line">      左</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">       <span class="keyword">case</span>: <span class="number">38</span></span><br><span class="line">      上</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">       <span class="keyword">case</span>: <span class="number">39</span></span><br><span class="line">      右</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">       <span class="keyword">case</span>: <span class="number">40</span></span><br><span class="line">      下</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span>: <span class="number">32</span></span><br><span class="line">      开始/暂停</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span>: <span class="number">107</span></span><br><span class="line">      加速</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span>: <span class="number">109</span></span><br><span class="line">      减速</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> 运动方法（）</span>&#123;</span><br><span class="line">  <span class="keyword">switch</span>(moveTo)&#123;</span><br><span class="line">     <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">       向左运动代码；</span><br><span class="line">       <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">       向上运动代码；</span><br><span class="line">       <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">       向右运动代码；</span><br><span class="line">       <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">       向下运动代码；</span><br><span class="line">       <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  画地图方法（）;</span><br><span class="line">  画食物方法（）;</span><br><span class="line">  画蛇方法（）;</span><br><span class="line">  是否吃到食物方法（）;</span><br><span class="line">  是否死亡方法（）;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> 画地图方法（）</span>&#123;</span><br><span class="line">  画地图代码实现.....</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> 画食物方法（）</span>&#123;</span><br><span class="line">   画食物代码实现.....</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> 画蛇方法（）</span>&#123;</span><br><span class="line">   画蛇代码实现.....</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> 是否吃到食物方法（）</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(蛇头左上角的坐标==食物左上角的坐标)&#123;</span><br><span class="line">     <span class="comment">//吃到食物</span></span><br><span class="line">     <span class="number">1</span>、分数加一;</span><br><span class="line">     <span class="number">2</span>、重新绘制食物</span><br><span class="line">     <span class="number">3</span>、增加蛇身</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> 是否死亡方法（）</span>&#123;</span><br><span class="line">   <span class="number">1</span>、判断蛇头左上角坐标是否越过上、下、左、右任一墙壁;</span><br><span class="line">   <span class="number">2</span>、判断蛇头左上角坐标是否与自己身体相撞;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="7、实现过程"><a href="#7、实现过程" class="headerlink" title="7、实现过程"></a>7、实现过程</h4><h5 id="7-1-全局变量的定义与解释"><a href="#7-1-全局变量的定义与解释" class="headerlink" title="7.1 全局变量的定义与解释"></a>7.1 全局变量的定义与解释</h5><table><thead><tr><th>变量名称</th><th>说明</th></tr></thead><tbody><tr><td>ROWS</td><td>行数</td></tr><tr><td>COLS</td><td>列数</td></tr><tr><td>CONTEXT</td><td>canvas上下文对象</td></tr><tr><td>BLOCK_SIZE</td><td>贪吃蛇运动的格子大小</td></tr><tr><td>snake[]</td><td>保存蛇的坐标</td></tr><tr><td>snakeCount</td><td>蛇身长度</td></tr><tr><td>foodX, foodY</td><td>食物的坐标</td></tr><tr><td>interval</td><td>计时</td></tr><tr><td>moveTo</td><td>蛇移动的方向</td></tr><tr><td>isStop</td><td>是否暂停</td></tr><tr><td>score</td><td>分数</td></tr><tr><td>speed</td><td>运动速度</td></tr></tbody></table><h5 id="7-2-方法的定义与解释"><a href="#7-2-方法的定义与解释" class="headerlink" title="7.2 方法的定义与解释"></a>7.2 方法的定义与解释</h5><table><thead><tr><th>方法名称</th><th>参数</th><th>返回值</th><th>说明</th></tr></thead><tbody><tr><td>init()</td><td>无</td><td>无</td><td>初始化方法</td></tr><tr><td>start()</td><td>无</td><td>无</td><td>游戏启动方法</td></tr><tr><td>reLoad()</td><td>无</td><td>无</td><td>页面重新加载方法</td></tr><tr><td>keydown(keyCode)</td><td>按键的码值</td><td>无</td><td>交互响应方法</td></tr><tr><td>isDie()</td><td>无</td><td>无</td><td>判断是否死亡方法</td></tr><tr><td>isEat()</td><td>无</td><td>无</td><td>判断是否吃到食物方法</td></tr><tr><td>addSnake()</td><td>无</td><td>无</td><td>增加蛇身方法</td></tr><tr><td>addFood()</td><td>无</td><td>无</td><td>制造食物方法</td></tr><tr><td>move()</td><td>无</td><td>无</td><td>移动方法</td></tr><tr><td>drawMap()</td><td>无</td><td>无</td><td>绘制运动区域方法</td></tr><tr><td>drawFood()</td><td>无</td><td>无</td><td>绘制食物方法</td></tr><tr><td>drawSnake()</td><td>无</td><td>无</td><td>绘制蛇方法</td></tr></tbody></table><h5 id="7-3-主要实现代码"><a href="#7-3-主要实现代码" class="headerlink" title="7.3 主要实现代码"></a>7.3 主要实现代码</h5><p>1、初始化方法的实现</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">ROWS = <span class="number">35</span>; <span class="comment">//初始化行数</span></span><br><span class="line">COLS = <span class="number">25</span>; <span class="comment">//初始化列数</span></span><br><span class="line">BLOCK_SIZE = <span class="number">20</span>;</span><br><span class="line">snakeCount = <span class="number">3</span>;</span><br><span class="line">moveTo = <span class="number">2</span>;</span><br><span class="line">score=<span class="number">0</span>;</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&quot;score&quot;</span>).innerHTML=score;</span><br><span class="line">CONTEXT = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;canvas&#x27;</span>).getContext(<span class="string">&#x27;2d&#x27;</span>); <span class="comment">//初始化画布上下文对象的引用</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; snakeCount; i++) &#123;</span><br><span class="line">snakes[i] = &#123;</span><br><span class="line">x: i * BLOCK_SIZE,</span><br><span class="line">y: <span class="number">0</span></span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line">isStop=<span class="literal">false</span>;</span><br><span class="line">speed=<span class="number">500</span>;</span><br><span class="line">addFood();</span><br><span class="line">drawMap(); <span class="comment">//初始化场地</span></span><br><span class="line">drawSnake(); <span class="comment">//初始化蛇</span></span><br><span class="line">drawFood(); <span class="comment">//初始化食物</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、绘制运动区域方法的实现</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">drawMap</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">CONTEXT.clearRect(<span class="number">0</span>, <span class="number">0</span>, BLOCK_SIZE * ROWS, BLOCK_SIZE * COLS);</span><br><span class="line"><span class="comment">//画横线</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; COLS; i++) &#123;</span><br><span class="line">CONTEXT.beginPath();</span><br><span class="line">CONTEXT.moveTo(<span class="number">0</span>, i * BLOCK_SIZE);</span><br><span class="line">CONTEXT.lineTo(BLOCK_SIZE * ROWS, i * BLOCK_SIZE);</span><br><span class="line">CONTEXT.strokeStyle = <span class="string">&quot;gray&quot;</span>;</span><br><span class="line">CONTEXT.lineWidth=<span class="number">1</span>;</span><br><span class="line">CONTEXT.stroke();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//画竖线</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ROWS; i++) &#123;</span><br><span class="line">CONTEXT.beginPath();</span><br><span class="line">CONTEXT.moveTo(i * BLOCK_SIZE, <span class="number">0</span>);</span><br><span class="line">CONTEXT.lineTo(i * BLOCK_SIZE, BLOCK_SIZE * COLS);</span><br><span class="line">CONTEXT.strokeStyle = <span class="string">&quot;gray&quot;</span>;</span><br><span class="line">CONTEXT.lineWidth=<span class="number">1</span>;</span><br><span class="line">CONTEXT.stroke();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>3、判断是否死亡方法的实现</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isDie</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(snakes[snakeCount - <span class="number">1</span>].x == <span class="number">-20</span> || snakes[snakeCount - <span class="number">1</span>].x == BLOCK_SIZE * ROWS ||</span><br><span class="line">snakes[snakeCount - <span class="number">1</span>].y == <span class="number">-20</span> || snakes[snakeCount - <span class="number">1</span>].y == BLOCK_SIZE * COLS) &#123;</span><br><span class="line"><span class="built_in">clearInterval</span>(interval);</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&quot;model2&quot;</span>).style.display=<span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; snakeCount - <span class="number">1</span>; i++) &#123;</span><br><span class="line"><span class="keyword">if</span>(snakes[snakeCount - <span class="number">1</span>].x == snakes[i].x &amp;&amp; snakes[snakeCount - <span class="number">1</span>].y == snakes[i].y) &#123;</span><br><span class="line"><span class="built_in">clearInterval</span>(interval);</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&quot;model2&quot;</span>).style.display=<span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4、绘制蛇方法的实现</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">drawSnake</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; snakes.length; i++) &#123;</span><br><span class="line">CONTEXT.beginPath();</span><br><span class="line">CONTEXT.fillStyle = <span class="string">&quot;red&quot;</span>;</span><br><span class="line">CONTEXT.fillRect(snakes[i].x, snakes[i].y, BLOCK_SIZE, BLOCK_SIZE);</span><br><span class="line">CONTEXT.moveTo(snakes[i].x, snakes[i].y);</span><br><span class="line">CONTEXT.lineTo(snakes[i].x + BLOCK_SIZE, snakes[i].y);</span><br><span class="line">CONTEXT.lineTo(snakes[i].x + BLOCK_SIZE, snakes[i].y + BLOCK_SIZE);</span><br><span class="line">CONTEXT.lineTo(snakes[i].x, snakes[i].y + BLOCK_SIZE);</span><br><span class="line">CONTEXT.closePath();</span><br><span class="line">CONTEXT.strokeStyle = <span class="string">&quot;gray&quot;</span>;</span><br><span class="line">CONTEXT.stroke();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="8、结果演示"><a href="#8、结果演示" class="headerlink" title="8、结果演示"></a>8、结果演示</h4><h5 id="8-1-运行"><a href="#8-1-运行" class="headerlink" title="8.1 运行"></a>8.1 运行</h5><p><img src="https://img-blog.csdnimg.cn/20200627172550126.gif" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200627172550126.gif" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h5 id="8-2-暂停"><a href="#8-2-暂停" class="headerlink" title="8.2 暂停"></a>8.2 暂停</h5><p><img src="https://img-blog.csdnimg.cn/20200627172704775.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200627172704775.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h5 id="8-3-死亡"><a href="#8-3-死亡" class="headerlink" title="8.3 死亡"></a>8.3 死亡</h5><p><img src="https://img-blog.csdnimg.cn/20200627172744553.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200627172744553.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="9、最后的话"><a href="#9、最后的话" class="headerlink" title="9、最后的话"></a>9、最后的话</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;1、至此贪吃蛇已制作完成，谢谢你的支持<br>&nbsp;&nbsp;&nbsp;&nbsp;2、本教程纯属个人思想构建，避免不了出现一些缺陷或错误，欢迎你批评指正<br>&nbsp;&nbsp;&nbsp;&nbsp;3、如果你对那部分不太理解或有更好的解决办法，请在公众号“C you again”私信与我交流<br>&nbsp;&nbsp;&nbsp;&nbsp;4、获取源码请搜索公众号“C you again”或扫描下面二维码，回复“贪吃蛇”<br>&nbsp;&nbsp;&nbsp;&nbsp;5、转载请标明来源<br>&nbsp;&nbsp;&nbsp;&nbsp;6、其它游戏教程请公众号私信获取<br><img src="https://img-blog.csdnimg.cn/20200627173811181.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200627173811181.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p>]]></content>
    
    
    <summary type="html">HTML+JavaScript+CSS实现贪吃蛇游戏</summary>
    
    
    
    <category term="IT技术圈" scheme="https://cyouagain.cn/categories/IT%E6%8A%80%E6%9C%AF%E5%9C%88/"/>
    
    
    <category term="源码分享" scheme="https://cyouagain.cn/tags/%E6%BA%90%E7%A0%81%E5%88%86%E4%BA%AB/"/>
    
    <category term="HTML5小游戏" scheme="https://cyouagain.cn/tags/HTML5%E5%B0%8F%E6%B8%B8%E6%88%8F/"/>
    
    <category term="贪吃蛇" scheme="https://cyouagain.cn/tags/%E8%B4%AA%E5%90%83%E8%9B%87/"/>
    
  </entry>
  
  <entry>
    <title>基于web的图书管理系统设计与实现（附演示地址）</title>
    <link href="https://cyouagain.cn/posts/31763.html"/>
    <id>https://cyouagain.cn/posts/31763.html</id>
    <published>2020-10-02T07:47:56.642Z</published>
    <updated>2020-10-02T14:43:18.033Z</updated>
    
    <content type="html"><![CDATA[<h1 id="原文链接：基于web的图书管理系统设计与实现"><a href="#原文链接：基于web的图书管理系统设计与实现" class="headerlink" title="原文链接：基于web的图书管理系统设计与实现"></a>原文链接：<a href="https://mp.weixin.qq.com/s/Asv4WjEit5RBIYFV9SInaA">基于web的图书管理系统设计与实现</a></h1><h1 id="系统演示链接：点击这里查看演示"><a href="#系统演示链接：点击这里查看演示" class="headerlink" title="系统演示链接：点击这里查看演示"></a>系统演示链接：<a href="https://vp4sds.coding-pages.com/">点击这里查看演示</a></h1><h4 id="源码下载-请关注微信公众号：C-you-again，回复-“基于web的图书管理系统”-获取"><a href="#源码下载-请关注微信公众号：C-you-again，回复-“基于web的图书管理系统”-获取" class="headerlink" title="源码下载:请关注微信公众号：C you again，回复 “基于web的图书管理系统” 获取"></a><font color=red>源码下载:请关注微信公众号：C you again，回复 “基于web的图书管理系统” 获取</font></h4><h2 id="01-系统简述"><a href="#01-系统简述" class="headerlink" title="01 系统简述"></a>01 系统简述</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;图书管理系统就是利用计算机，结合互联网对图书进行结构化、自动化管理的一种软件，来提高对图书的管理效率。本系统采用Java+Servlet+Jsp 的方式实现基于web的图书管理系统。</p><h2 id="02-开发工具及相关技术"><a href="#02-开发工具及相关技术" class="headerlink" title="02 开发工具及相关技术"></a>02 开发工具及相关技术</h2><h4 id="2-1-Java技术"><a href="#2-1-Java技术" class="headerlink" title="2.1 Java技术"></a>2.1 Java技术</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;Java 是由 Sun Microsystems 在 1995 年首先发布的编程语言和计算平台。有许多应用程序和 Web 站点只有在安装 Java 后才能正常工作，而且这样的应用程序和 Web 站点日益增多。Java 快速、安全、可靠。从笔记本电脑到数据中心，从游戏控制台到科学超级计算机，从手机到互联网，Java 无处不在。</p><h4 id="2-2-HTML、css、javascript技术"><a href="#2-2-HTML、css、javascript技术" class="headerlink" title="2.2 HTML、css、javascript技术"></a>2.2 HTML、css、javascript技术</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;HTML的英文全称是 Hypertext Marked Language，即超文本标记语言。HTML是由Web的发明者 Tim Berners-Lee和同事 Daniel W. Connolly于1990年创立的一种标记语言，它是标准通用化标记语言SGML的应用。用HTML编写的超文本文档称为HTML文档，它能独立于各种操作系统平台(如UNIX， Windows等)。使用HTML语言，将所需要表达的信息按某种规则写成HTML文件，通过专用的浏览器来识别，并将这些HTML文件“翻译”成可以识别的信息，即现在所见到的网页。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;层叠样式表(英文全称：Cascading Style Sheets)是一种用来表现HTML（标准通用标记语言的一个应用）或XML（标准通用标记语言的一个子集）等文件样式的计算机语言。CSS不仅可以静态地修饰网页，还可以配合各种脚本语言动态地对网页各元素进行格式化。CSS 能够对网页中元素位置的排版进行像素级精确控制，支持几乎所有的字体字号样式，拥有对网页对象和模型样式编辑的能力。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;JavaScript（简称“JS”） 是一种具有函数优先的轻量级，解释型或即时编译型的编程语言。虽然它是作为开发Web页面的脚本语言而出名的，但是它也被用到了很多非浏览器环境中，JavaScript 基于原型编程、多范式的动态脚本语言，并且支持面向对象、命令式和声明式（如函数式编程）风格。JavaScript在1995年由Netscape公司的Brendan Eich，在网景导航者浏览器上首次设计实现而成。因为Netscape与Sun合作，Netscape管理层希望它外观看起来像Java，因此取名为JavaScript。但实际上它的语法风格与Self及Scheme较为接近。JavaScript的标准是ECMAScript 。截至 2012 年，所有浏览器都完整的支持ECMAScript 5.1，旧版本的浏览器至少支持ECMAScript 3 标准。2015年6月17日，ECMA国际组织发布了ECMAScript 的第六版，该版本正式名称为 ECMAScript 2015，但通常被称为ECMAScript 6 或者ES6。</p><h4 id="2-3-Servlet技术"><a href="#2-3-Servlet技术" class="headerlink" title="2.3 Servlet技术"></a>2.3 Servlet技术</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;Servlet（Server Applet）是Java Servlet的简称，称为小服务程序或服务连接器，用Java编写的服务器端程序，具有独立于平台和协议的特性，主要功能在于交互式地浏览和生成数据，生成动态Web内容。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;狭义的Servlet是指Java语言实现的一个接口，广义的Servlet是指任何实现了这个Servlet接口的类，一般情况下，人们将Servlet理解为后者。Servlet运行于支持Java的应用服务器中。从原理上讲，Servlet可以响应任何类型的请求，但绝大多数情况下Servlet只用来扩展基于HTTP协议的Web服务器。</p><h4 id="2-4-Eclipse开发工具"><a href="#2-4-Eclipse开发工具" class="headerlink" title="2.4 Eclipse开发工具"></a>2.4 Eclipse开发工具</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;Eclipse 是一个开放源代码的、基于Java的可扩展开发平台。就其本身而言，它只是一个框架和一组服务，用于通过插件组件构建开发环境。幸运的是，Eclipse 附带了一个标准的插件集，包括Java开发工具（Java Development Kit，JDK）。</p><h4 id="2-5-MySql数据库"><a href="#2-5-MySql数据库" class="headerlink" title="2.5 MySql数据库"></a>2.5 MySql数据库</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;MySql是最流行的关系型数据库管理系统，在WEB应用方面MySQL是最好的RDBMS(Relational Database Management System：关系数据库管理系统)应用软件之一。MySql数据库有以下特点：</p><ol><li>Mysql是开源的，所以你不需要支付额外的费用。 </li><li>Mysql支持大型的数据库。可以处理拥有上千万条记录的大型数据库。</li><li>MySQL使用标准的SQL数据语言形式。</li><li>Mysql可以允许于多个系统上，并且支持多种语言。这些编程语言包括C、C++、Python、Java、Perl、PHP、Eiffel、Ruby和Tcl等。</li><li>Mysql对PHP有很好的支持，PHP是目前最流行的Web开发语言。</li><li>MySQL支持大型数据库，支持5000万条记录的数据仓库，32位系统表文件最大可支持4GB，64位系统支持最大的表文件为8TB。</li><li>Mysql是可以定制的，采用了GPL协议，你可以修改源码来开发自己的Mysql系统。</li></ol><h2 id="03-系统功能描述"><a href="#03-系统功能描述" class="headerlink" title="03 系统功能描述"></a>03 系统功能描述</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;系统的用户主要有两大类：一是图书管理系统的管理员，二是普通用户。根据用户类型的不同，将系统划分为普通用户端和管理员端，它们具有的主要功能如下：</p><p><strong>用户端</strong><br><img src="https://img-blog.csdnimg.cn/20200711142212377.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200711142212377.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p>图书查询：根据图书编号、图书名称查询图书信息，可查询图书的编号、名称、分类、作者、价格、在馆数量等。</p><p>借阅信息：可查询图书的基本信息、借阅日期、截止还书日期、超期天数等。</p><p>借阅历史：查询自己以往的借阅历史，包括哪些图书等具体信息。</p><p>我的：查看个人资料，修改账户密码，退出系统。</p><p><strong>管理员端</strong><br><img src="https://img-blog.csdnimg.cn/20200711142331762.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200711142331762.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>图书管理：根据图书编号、图书名称查询图书基本信息，添加、修改、删除图书。</p><p>图书分类管理：根据分类名称查询图书分类信息，添加、修改、删除图书分类。</p><p>图书借阅：展示所有正在借阅图书的信息。</p><p>图书归还：展示所有已归还图书的信息。</p><p>公告管理：向用户发布公告。</p><p>读者管理：根据账号、姓名查询读者基本信息，添加、修改、删除读者信息。</p><p>我的：查看个人资料，修改账户密码，退出系统。</p><h2 id="04-工程结构及其说明"><a href="#04-工程结构及其说明" class="headerlink" title="04 工程结构及其说明"></a>04 工程结构及其说明</h2><p><img src="https://img-blog.csdnimg.cn/20200711142439453.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200711142439453.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>项目名称：manage_books<br>Package包说明：<br><img src="https://img-blog.csdnimg.cn/20200711142614767.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200711142614767.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h2 id="05-主要功能详细设计与实现"><a href="#05-主要功能详细设计与实现" class="headerlink" title="05 主要功能详细设计与实现"></a>05 主要功能详细设计与实现</h2><h4 id="5-1-用户端–图书查询模块"><a href="#5-1-用户端–图书查询模块" class="headerlink" title="5.1 用户端–图书查询模块"></a>5.1 用户端–图书查询模块</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;用户访问图书查询模块时显示当前可以借阅图书，有按图书名称查询图书信息的功能，可以进行借书操作。<br><img src="https://img-blog.csdnimg.cn/20200711142820895.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200711142820895.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>其中查询功能的Servlet代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cya.controller;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> com.cya.dao.BookDao;</span><br><span class="line"><span class="keyword">import</span> com.cya.pojo.Book;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class selectServlet</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/selectServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">selectServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">selectServlet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">       <span class="comment">//response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">       <span class="comment">//doGet(request, response);</span></span><br><span class="line">        request.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        response.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        <span class="comment">//因为在管理员界面和读者界面都有查找功能，为了将查找的结果返回正确的页面，设置了tip，tip=1表示管理员界面</span></span><br><span class="line">        <span class="keyword">int</span> tip = Integer.parseInt(request.getParameter(<span class="string">&quot;tip&quot;</span>));</span><br><span class="line">        String name = request.getParameter(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        BookDao bookdao = <span class="keyword">new</span> BookDao();</span><br><span class="line">        ArrayList&lt;Book&gt; data = bookdao.getLikeList(name);</span><br><span class="line">        <span class="comment">//将获取的结果存入请求中</span></span><br><span class="line">        request.setAttribute(<span class="string">&quot;data&quot;</span>, data);</span><br><span class="line">        String url = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="comment">//转发不同的界面</span></span><br><span class="line">        <span class="keyword">if</span> (tip == <span class="number">1</span>) &#123;</span><br><span class="line">            url = response.encodeURL(<span class="string">&quot;/books/admin/admin_books.jsp&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            url = response.encodeURL(<span class="string">&quot;/books/user/select.jsp&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//将请求转发</span></span><br><span class="line">        request.getRequestDispatcher(url).forward(request, response);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-2-用户端–借阅信息模块"><a href="#5-2-用户端–借阅信息模块" class="headerlink" title="5.2 用户端–借阅信息模块"></a>5.2 用户端–借阅信息模块</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;当普通用户借阅完图书，会在该模块自动生成借阅信息，如借阅日期，归还日期，也可在该模块进行还书，如下图所示。<br><img src="https://img-blog.csdnimg.cn/20200711143029669.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200711143029669.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>其中，还书功能的Servlet代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cya.controller;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> com.cya.pojo.Admin;</span><br><span class="line"><span class="keyword">import</span> com.cya.dao.AdminDao;</span><br><span class="line"><span class="keyword">import</span> com.cya.dao.BookDao;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class borrowServlet</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/borrowServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">borrowServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">borrowServlet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">       <span class="comment">//response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());</span></span><br><span class="line">        <span class="comment">//设置编码类型</span></span><br><span class="line">        request.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        response.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        BookDao bookdao = <span class="keyword">new</span> BookDao();</span><br><span class="line">        <span class="comment">//为了区分借书和还书的功能，设置tip，tip为1，表示借书</span></span><br><span class="line">        <span class="keyword">int</span> tip = Integer.parseInt(request.getParameter(<span class="string">&quot;tip&quot;</span>));</span><br><span class="line">        <span class="keyword">if</span> (tip == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">//获取图书id</span></span><br><span class="line">            <span class="keyword">int</span> bid = Integer.parseInt(request.getParameter(<span class="string">&quot;bid&quot;</span>));</span><br><span class="line">            HttpSession session = request.getSession();</span><br><span class="line">            Admin admin = <span class="keyword">new</span> Admin();</span><br><span class="line">            String status=request.getParameter(<span class="string">&quot;status&quot;</span>);</span><br><span class="line">            String id=<span class="string">&quot;&quot;</span>;</span><br><span class="line">            <span class="keyword">if</span>(status.equals(<span class="string">&quot;user&quot;</span>)) &#123;</span><br><span class="line">                <span class="comment">//获取到存入session的读者id</span></span><br><span class="line">                id = (String) session.getAttribute(<span class="string">&quot;uid&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//获取到存入session的aid读者id</span></span><br><span class="line">                 id = (String) session.getAttribute(<span class="string">&quot;aid&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            AdminDao admindao = <span class="keyword">new</span> AdminDao();</span><br><span class="line">            <span class="comment">//通过aid获取到读者的信息</span></span><br><span class="line">            admin = admindao.get_AidInfo2(id);</span><br><span class="line">            <span class="comment">//将借阅记录存入数据表</span></span><br><span class="line">            bookdao.borrowBook(bid, admin);</span><br><span class="line">            response.sendRedirect(<span class="string">&quot;/manage_books/books/user/select.jsp&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//还书功能，获取借阅记录的hid</span></span><br><span class="line">            <span class="keyword">int</span> hid = Integer.parseInt(request.getParameter(<span class="string">&quot;hid&quot;</span>));</span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             * 还书在管理员和读者界面都有，为了区分，设置了show字段，show为1表示读者界面</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            <span class="keyword">int</span> show = Integer.parseInt(request.getParameter(<span class="string">&quot;show&quot;</span>));</span><br><span class="line">            <span class="comment">//调用还书函数，改变status字段</span></span><br><span class="line">            bookdao.borrowBook2(hid);</span><br><span class="line">            <span class="keyword">if</span> (show == <span class="number">1</span>) &#123;</span><br><span class="line">                response.sendRedirect(<span class="string">&quot;/manage_books/books/user/borrow.jsp&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                response.sendRedirect(<span class="string">&quot;/manage_books/books/admin/admin_borrows.jsp&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        doGet(request, response);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-3-管理员端–图书管理模块"><a href="#5-3-管理员端–图书管理模块" class="headerlink" title="5.3 管理员端–图书管理模块"></a>5.3 管理员端–图书管理模块</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;管理员可以通过根据图书号 、图书名称，作者名称，出版社等查询图书信息。<br><img src="https://img-blog.csdnimg.cn/20200711143221127.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200711143221127.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>&nbsp;&nbsp;&nbsp;&nbsp;管理员登录系统以后，可以进行图书添加操作，这是管理员主要的输入信息部分，填写好各项信息后，单击保存按钮，系统将对这些信息进行处理。界面见下图所示：<br><img src="https://img-blog.csdnimg.cn/20200711143310535.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200711143310535.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>&nbsp;&nbsp;&nbsp;&nbsp;除此以外，管理员对已经添加好的图书信息有修改权限。<br><img src="https://img-blog.csdnimg.cn/20200711143409474.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200711143409474.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>其中，添加图书功能的代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cya.controller;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> com.cya.dao.BookDao;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class AddBookServlet</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/AddBookServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AddBookServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AddBookServlet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"><span class="comment">//        response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"><span class="comment">//        doGet(request, response);</span></span><br><span class="line">        <span class="comment">//设置编码类型</span></span><br><span class="line">        request.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        response.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        <span class="comment">//获取要添加图书的信息</span></span><br><span class="line">        String card = request.getParameter(<span class="string">&quot;card&quot;</span>);</span><br><span class="line">        String name = request.getParameter(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        String type = request.getParameter(<span class="string">&quot;type&quot;</span>);</span><br><span class="line">        String autho = request.getParameter(<span class="string">&quot;autho&quot;</span>);</span><br><span class="line">        String press = request.getParameter(<span class="string">&quot;press&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> num = Integer.parseInt(request.getParameter(<span class="string">&quot;num&quot;</span>));</span><br><span class="line">        BookDao bookdao = <span class="keyword">new</span> BookDao();</span><br><span class="line">        <span class="comment">//调用函数，存入图书</span></span><br><span class="line">        bookdao.addBook(card, name, type, autho, press, num);</span><br><span class="line">        response.sendRedirect(<span class="string">&quot;/manage_books/books/admin/admin_books.jsp&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-4-管理员端–图书分类模块"><a href="#5-4-管理员端–图书分类模块" class="headerlink" title="5.4 管理员端–图书分类模块"></a>5.4 管理员端–图书分类模块</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;管理员在该界面可以增加、删除、修改图书分类信息，操作效果如图。<br><img src="https://img-blog.csdnimg.cn/20200711143555646.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200711143555646.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20200711143617913.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200711143617913.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>修改图书分类功能的代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cya.controller;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> com.cya.dao.BookDao;</span><br><span class="line"><span class="keyword">import</span> com.cya.dao.TypeDao;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class updateBookTypeServlet</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/updateBookTypeServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">updateBookTypeServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">updateBookTypeServlet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"><span class="comment">//        response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"><span class="comment">//        doGet(request, response);</span></span><br><span class="line">        <span class="comment">//修改图书类型信息</span></span><br><span class="line">        request.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        response.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        String name = request.getParameter(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> tid = Integer.parseInt(request.getParameter(<span class="string">&quot;tid&quot;</span>));</span><br><span class="line">        TypeDao typedao = <span class="keyword">new</span> TypeDao();</span><br><span class="line">        typedao.updateTypeBook(tid, name);</span><br><span class="line">        response.sendRedirect(<span class="string">&quot;/manage_books/books/admin/admin_booksType.jsp&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="06-最后的话（下载源码）"><a href="#06-最后的话（下载源码）" class="headerlink" title="06 最后的话（下载源码）"></a>06 最后的话（下载源码）</h2><p><strong>&nbsp;&nbsp;&nbsp;&nbsp;你若需要下载源码，请关注微信公众号：C you again，回复 “基于web的图书管理系统” 获取</strong> 。</p><p><strong>你也可以扫码关注</strong><br><img src="https://img-blog.csdnimg.cn/20200711144553870.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200711144553870.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h1 id="原文链接：基于web的图书管理系统设计与实现-1"><a href="#原文链接：基于web的图书管理系统设计与实现-1" class="headerlink" title="原文链接：基于web的图书管理系统设计与实现"></a>原文链接：<a href="https://mp.weixin.qq.com/s/Asv4WjEit5RBIYFV9SInaA">基于web的图书管理系统设计与实现</a></h1><h1 id="系统演示链接：点击这里查看演示-1"><a href="#系统演示链接：点击这里查看演示-1" class="headerlink" title="系统演示链接：点击这里查看演示"></a>系统演示链接：<a href="https://vp4sds.coding-pages.com/">点击这里查看演示</a></h1>]]></content>
    
    
    <summary type="html">Java+Jsp+Servlet 实现图书管理系统</summary>
    
    
    
    <category term="系统源码" scheme="https://cyouagain.cn/categories/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    
    <category term="源码分享" scheme="https://cyouagain.cn/tags/%E6%BA%90%E7%A0%81%E5%88%86%E4%BA%AB/"/>
    
    <category term="系统源码" scheme="https://cyouagain.cn/tags/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    <category term="图书管理系统" scheme="https://cyouagain.cn/tags/%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>基于web的机票管理系统设计与实现（一）</title>
    <link href="https://cyouagain.cn/posts/51772.html"/>
    <id>https://cyouagain.cn/posts/51772.html</id>
    <published>2020-10-02T07:47:56.639Z</published>
    <updated>2020-10-02T14:42:59.620Z</updated>
    
    <content type="html"><![CDATA[<h1 id="基于web的机票管理系统"><a href="#基于web的机票管理系统" class="headerlink" title="基于web的机票管理系统"></a>基于web的机票管理系统</h1><h2 id="1-摘-要"><a href="#1-摘-要" class="headerlink" title="1 摘 要"></a>1 摘 要</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;近年来，我国发展迅速，对交通工具的需求量大幅度增加。飞机作为出行工具之一，花费时间短、用户体验度好，价格实惠、安全性高等优点自然成为人们的首选，这也导致等待时间长、购票效率低等一系列问题的出现，给用户和航空公司造成严重困扰。面对这些问题，在线机票预订系统显得格外重要。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;本系统使用Eclipse开发工具，使用Redis、MySQL数据库，采用MVC三层架构的方式，结合当前最流行的SSM框架以及支付宝沙箱支付环境来实现各个功能。系统分为用户端和管理员端。用户端实现了用户注册与登录、用户评论、机票查询，机票预订，订单查询、广告展示等功能。管理员端包括航班信息管理模块、订单信息管理模块、用户信息管理模块、留言评论管理模块、广告信息管理模块、个人信息管理模块等六大模块，具有开放体系结构的、易扩充的、易维护的、具有良好人机界面的优点。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;经过充分的测试，测试数据均正确无误，各个模块运行良好。机票预订系统的推出，为乘客出行提供方便，便于机场工作人员对机票信息进行管理，提高了机场工作人员对机票管理的工作效率。</p><p><strong>关键词：机票预订系统； 数据库； MVC； SSM； 面向对象</strong></p><h2 id="2-系统相关技术概述"><a href="#2-系统相关技术概述" class="headerlink" title="2 系统相关技术概述"></a>2 系统相关技术概述</h2><h4 id="2-1-Java-web"><a href="#2-1-Java-web" class="headerlink" title="2.1 Java web"></a>2.1 Java web</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;Java Web，是用Java技术来解决相关web互联网领域的技术总和。随着Web互联网技术的出现和推广，基于Java技术的Java Web技术应运而生，并为解决互联网相关问题提出解决方案。我们知道，Web是由服务器和客户端两方面组成。基于Java语言的Web框架有很多种，用以适用不同的技术需求，但是都遵循最基本的原则和技术路线，即采用了MVC的架构设计思想，并通过Servlet或者Filter进行请求拦截，同时使用约定，XML或Annotation来实现必备的相关配置，充分利用其面向对象的特质，实现前台用户请求和后台程序响应的工作流程。</p><h4 id="2-2-三大框架SSM"><a href="#2-2-三大框架SSM" class="headerlink" title="2.2 三大框架SSM"></a>2.2 三大框架SSM</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;SSM框架，是Spring + Spring MVC + MyBatis的缩写，这个是继SSH之后，目前比较主流的Java EE企业级框架，适用于搭建各种大型的企业级应用系统。<br>Spring是一个开源框架，Spring是于2003年兴起的一个轻量级的Java开发框架，由Rod Johnson在其著作Expert One-On-One J2EE Development and Design中阐述的部分理念和原型衍生而来。它是为了解决企业应用开发的复杂性而创建的。Spring使用基本的JavaBean来完成以前只可能由EJB完成的事情。然而，Spring的用途不仅限于服务器端的开发。从简单性、可测试性和松耦合的角度而言，任何Java应用都可以从Spring中受益。 简单来说，Spring是一个轻量级的控制反转（IoC）和面向切面（AOP）的容器框架。<br>Spring MVC属于Spring Framework的后续产品，已经融合在Spring Web Flow里面，它原生支持的Spring特性，让开发变得非常简单规范。Spring MVC 分离了控制器、模型对象、分派器以及处理程序对象的角色，这种分离让它们更容易进行定制。<br>MyBatis本是apache的一个开源项目iBatis, 2010年这个项目由apache software foundation 迁移到了google code，并且改名为MyBatis 。MyBatis是一个基于Java的持久层框架。iBATIS提供的持久层框架包括SQL Maps和Data Access Objects（DAO）MyBatis消除了几乎所有的JDBC代码和参数的手工设置以及结果集的检索。MyBatis使用简单的XML或注解用于配置和原始映射，将接口和Java的POJOs（Plain Old Java Objects，普通的 Java对象）映射成数据库中的记录。</p><h4 id="2-3-前端框架AngularJS"><a href="#2-3-前端框架AngularJS" class="headerlink" title="2.3 前端框架AngularJS"></a>2.3 前端框架AngularJS</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;AngularJS是一个开发动态Web应用的框架。它让你可以使用HTML作为模板语言并且可以通过扩展的HTML语法来使应用组件更加清晰和简洁。它的创新之处在于，通过数据绑定和依赖注入减少了大量代码，而这些都在浏览器端通过JavaScript实现。</p><h4 id="2-4-数据库MySQL"><a href="#2-4-数据库MySQL" class="headerlink" title="2.4 数据库MySQL"></a>2.4 数据库MySQL</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;MySQL是一种开放源代码的关系型数据库管理系统（RDBMS）[6]，使用最常用的数据库管理语言–结构化查询语言（SQL）进行数据库管理。MySQL是开放源代码的，因此任何人都可以在General Public License的许可下下载并根据个性化的需要对其进行修改。MySQL因为其速度、可靠性和适应性而备受关注。大多数人都认为在不需要事务化处理的情况下，MySQL是管理内容最好的选择。</p><h4 id="2-5-数据库Redis"><a href="#2-5-数据库Redis" class="headerlink" title="2.5 数据库Redis"></a>2.5 数据库Redis</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;Redis（Remote Dictionary Server )，即远程字典服务，是一个开源的使用ANSI C语言编写、支持网络、可基于内存亦可持久化的日志型、Key-Value数据库，并提供多种语言的API。redis是一个key-value存储系统。和Memcached类似，它支持存储的value类型相对更多，包括string(字符串)、list(链表)、set(集合)、zset(sorted set –有序集合)和hash（哈希类型）。这些数据类型都支持push/pop、add/remove及取交集并集和差集及更丰富的操作，而且这些操作都是原子性的。在此基础上，redis支持各种不同方式的排序。与memcached一样，为了保证效率，数据都是缓存在内存中。区别的是redis会周期性的把更新的数据写入磁盘或者把修改操作写入追加的记录文件，并且在此基础上实现了master-slave(主从)同步。</p><h4 id="2-6-开发工具Eclipse"><a href="#2-6-开发工具Eclipse" class="headerlink" title="2.6 开发工具Eclipse"></a>2.6 开发工具Eclipse</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;Eclipse 是一个开放源代码的、基于Java的可扩展开发平台。就其本身而言，它只是一个框架和一组服务，用于通过插件组件构建开发环境。幸运的是，Eclipse 附带了一个标准的插件集，包括Java开发工具（Java Development Kit，JDK）。</p><h2 id="3-需求分析"><a href="#3-需求分析" class="headerlink" title="3 需求分析"></a>3 需求分析</h2><h4 id="3-1-系统实现目标"><a href="#3-1-系统实现目标" class="headerlink" title="3.1 系统实现目标"></a>3.1 系统实现目标</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;如今，互联网遍布于生活的每个角落，不断改变着人们的生产生活，基于Web的机票预订系统就是借助互联网发展的热潮，方便大众，服务大众。具体实现以下两个目标：<br> &nbsp;&nbsp;&nbsp;&nbsp;（1）    方便用户购票<br>&nbsp;&nbsp;&nbsp;&nbsp;用户可以访问前台系统浏览、查询航班信息，足不出户，预订机票，免去了以往寻找购票网点，排队购票的麻烦。<br>&nbsp;&nbsp;&nbsp;&nbsp;（2）    航空公司实现办公自动化<br>&nbsp;&nbsp;&nbsp;&nbsp;后台系统能使航空公司办事效率大幅度提高，它将所有的工作流程按照一系列流程进行规范化，从而减少工作时间，提高了人员的办事效率。</p><h4 id="3-2-系统功能分析"><a href="#3-2-系统功能分析" class="headerlink" title="3.2 系统功能分析"></a>3.2 系统功能分析</h4><ul><li><p>后台航班信息管理：主要是指添加航班信息，删除航班信息，查询航班信息和航班信息详细情况查看等。</p></li><li><p>后台订单信息管理：后台订单信息管理主要包括订单列表，查询订单信息，订单信息的删除等。</p></li><li><p>后台用户信息管理：主要指注册用户的展示与按条件查询注册用户。</p></li><li><p>后台留言评论管理：主要指展示用户的留言信息和按留言日期、留言用户查找留言信息等。</p></li><li><p>后台广告信息管理：主要指添加广告信息，删除广告信息，设置广告的有效性等。</p></li><li><p>后台个人信息管理：主要指查看个人信息，修改个人信息。</p></li><li><p>前台登录与注册管理：包括前台系统用户的注册于登录。</p></li><li><p>前台首页信息展示：主要是指航班信息展示、航班信息查询、航班信息详情、登录用户信息展示、留言板和个人信息详情与修改等。</p></li><li><p>前台订单页面：主要是订单内容的填写和订单详情。 前台订单支付：是指使用支付宝沙箱环境支付订单。</p></li></ul><h4 id="3-3-系统用列图"><a href="#3-3-系统用列图" class="headerlink" title="3.3 系统用列图"></a>3.3 系统用列图</h4><p><strong>系统前台功能用列图</strong><br><img src="https://img-blog.csdnimg.cn/2020062913054442.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/2020062913054442.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p><strong>系统后台功能用列图</strong><br><img src="https://img-blog.csdnimg.cn/20200629130651305.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629130651305.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h2 id="4-系统总体设计"><a href="#4-系统总体设计" class="headerlink" title="4 系统总体设计"></a>4 系统总体设计</h2><h4 id="4-1-软件架构设计"><a href="#4-1-软件架构设计" class="headerlink" title="4.1 软件架构设计"></a>4.1 软件架构设计</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;此项目使用经典的三层架构模式[8]，分别是表现层，业务逻辑层和数据持久层。如下图所示。<br><img src="https://img-blog.csdnimg.cn/20200629161925742.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629161925742.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>&nbsp;&nbsp;&nbsp;&nbsp;表现层：表现层也称为表示层，位于最外层（最上层），离用户最近。用于显示数据和接收用户输入的数据，为用户提供一种交互式操作的界面。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;业务逻辑层：业务逻辑层（Business Logic Layer）无疑是系统架构中体现核心价值的部分。它的关注点主要集中在业务规则的制定、业务流程的实现等与业务需求有关的系统设计，也即是说它是与系统所应对的领域（Domain）逻辑有关，很多时候，也将业务逻辑层称为领域层。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;数据持久层：数据持久层也称为是数据访问层，其功能主要是负责数据库的访问，可以访问数据库系统、二进制文件、文本文档或是XML文档。简单的说法就是实现对数据表的select、insert、update以及delete的操作。</p><h4 id="4-2-总体功能模块设计"><a href="#4-2-总体功能模块设计" class="headerlink" title="4.2 总体功能模块设计"></a>4.2 总体功能模块设计</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;本系统主要分为前台子系统和后台子系统，两个子系统包含的具体功能如下：</p><ol><li>前台功能包括：<br>A.    用户登录<br>B.    用户注册<br>C.    航班查询<br>D.    机票详情<br>E.    机票预订<br>F.    订单支付<br>G.    订单查看<br>H.    用户留言<br>I.    个人信息查看与修改</li><li>后台功能包括：<br>A.    航班信息管理<br>B.    订单信息管理<br>C.    用户信息管理<br>D.    留言评论管理<br>E.    广告管理<br>F.    个人信息管理</li></ol><p>前台子系统和后台子系统详细功能如下图所示。<br><img src="https://img-blog.csdnimg.cn/20200629162123983.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629162123983.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>（1）    前台系统功能设计<br>A.    用户登录功能，详细功能说明如表4.1所示<br><img src="https://img-blog.csdnimg.cn/20200629162203700.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629162203700.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p>B.    用户注册功能，详细功能说明如表4.2所示<br><img src="https://img-blog.csdnimg.cn/20200629162233245.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629162233245.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p>C.    航班查询功能，详细功能说明如表4.3所示<br><img src="https://img-blog.csdnimg.cn/2020062916225818.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/2020062916225818.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p>D.    机票详情功能，详细功能说明如表4.4所示<br><img src="https://img-blog.csdnimg.cn/20200629162329946.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629162329946.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p>E.    机票预订功能，详细功能说明如表4.5所示<br><img src="https://img-blog.csdnimg.cn/20200629162359190.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629162359190.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>F.    订单支付功能，详细功能说明如表4.6所示<br><img src="https://img-blog.csdnimg.cn/20200629162434840.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629162434840.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p>G.    订单查看功能，详细功能说明如表4.7所示<br><img src="https://img-blog.csdnimg.cn/20200629162503226.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629162503226.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>H.    用户留言功能，详细功能说明如表4.8所示<br><img src="https://img-blog.csdnimg.cn/20200629162541553.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629162541553.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p>I.    个人信息查看与修改功能，详细功能说明如表4.9所示<br><img src="https://img-blog.csdnimg.cn/20200629162642681.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629162642681.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>（2）    后台系统功能设计<br>A.    航班信息管理模块功能，详细功能说明如表4.10所示<br><img src="https://img-blog.csdnimg.cn/20200629162734948.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629162734948.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>B.    订单信息管理模块功能，详细功能说明如表4.11所示<br><img src="https://img-blog.csdnimg.cn/20200629162803297.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629162803297.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>C.    用户信息管理模块功能，详细功能说明如表4.12所示<br><img src="https://img-blog.csdnimg.cn/20200629162830600.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629162830600.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>D.    留言评论管理模块功能，详细功能说明如表4.13所示<br><img src="https://img-blog.csdnimg.cn/20200629162857199.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629162857199.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p>E.    广告管理模块功能，详细功能说明如表4.14所示<br><img src="https://img-blog.csdnimg.cn/20200629162923133.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629162923133.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p>F.    个人信息管理模块功能，详细功能说明如表4.15所示<br><img src="https://img-blog.csdnimg.cn/20200629163025889.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629163025889.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="4-3-数据库设计"><a href="#4-3-数据库设计" class="headerlink" title="4.3 数据库设计"></a>4.3 数据库设计</h4><h5 id="4-3-1-数据库结构设计"><a href="#4-3-1-数据库结构设计" class="headerlink" title="4.3.1 数据库结构设计"></a>4.3.1 数据库结构设计</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;通过建立该系统各个模块的E-R图[9]，是整个模块之间的功能变得更加清晰，模块间所具有的耦合性边的越低。管理员实体（Admin），留言评论实体（Discuss），航班实体（Flight），订单（Order）实体，普通用户实体（User）和广告信息实体（content）E-R图分别如下图所示。</p><p><strong>管理员实体（Admin）E-R图</strong><br><img src="https://img-blog.csdnimg.cn/20200629163219407.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629163219407.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>留言评论实体（Discuss）E-R图</strong><br><img src="https://img-blog.csdnimg.cn/20200629163243659.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629163243659.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p><strong>航班实体（Flight）E-R图</strong><br><img src="https://img-blog.csdnimg.cn/20200629163314340.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629163314340.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>订单实体（Order）E-R图</strong><br><img src="https://img-blog.csdnimg.cn/20200629163338765.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629163338765.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="><br><strong>普通用户实体（User）E-R图</strong><br><img src="https://img-blog.csdnimg.cn/20200629163406306.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629163406306.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>广告信息实体（Content）E-R图</strong><br><img src="https://img-blog.csdnimg.cn/20200629163437515.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629163437515.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><h5 id="4-3-2-数据库表设计"><a href="#4-3-2-数据库表设计" class="headerlink" title="4.3.2 数据库表设计"></a>4.3.2 数据库表设计</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;为实现数据库的设计，对数据进行分表处理，每一个表格代表不同的信息和功能，分别如下图所示。</p><ol><li><p>管理员信息表（admin），用于存放管理员信息，表结构如表4.16所示<br><img src="https://img-blog.csdnimg.cn/20200629163612350.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629163612350.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p></li><li><p>留言评论信息表（discuss），用于存放留言评论信息，表结构如表4.17所示<br><img src="https://img-blog.csdnimg.cn/20200629163642277.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629163642277.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p></li><li><p>航班信息表（flight），用于存放航班信息，表结构如表4.18所示<br><img src="https://img-blog.csdnimg.cn/20200629163711492.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629163711492.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p></li><li><p>订单信息表（order），用于存放订单信息，表结构如表4.19所示<br><img src="https://img-blog.csdnimg.cn/20200629163742666.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629163742666.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p></li><li><p>普通用户信息表（user），用于存放用户信息，表结构如表4.20所示<br><img src="https://img-blog.csdnimg.cn/202006291638194.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/202006291638194.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p></li></ol><p><strong>下期继续分享《基于web的机票管理系统设计与实现（二）》<br>获取源码请关注公众号：C you again，回复“基于web的机票管理系统”或者“机票管理系统”</strong><br><img src="https://img-blog.csdnimg.cn/20200629140932725.jpg" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629140932725.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p>]]></content>
    
    
    <summary type="html">基于web的机票管理系统</summary>
    
    
    
    <category term="系统源码" scheme="https://cyouagain.cn/categories/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    
    <category term="源码分享" scheme="https://cyouagain.cn/tags/%E6%BA%90%E7%A0%81%E5%88%86%E4%BA%AB/"/>
    
    <category term="机票管理系统" scheme="https://cyouagain.cn/tags/%E6%9C%BA%E7%A5%A8%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"/>
    
    <category term="后端开发" scheme="https://cyouagain.cn/tags/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>基于web的机票管理系统设计与实现（二）</title>
    <link href="https://cyouagain.cn/posts/23110.html"/>
    <id>https://cyouagain.cn/posts/23110.html</id>
    <published>2020-10-02T07:47:56.636Z</published>
    <updated>2020-10-02T14:42:38.659Z</updated>
    
    <content type="html"><![CDATA[<h1 id="基于web的机票管理系统"><a href="#基于web的机票管理系统" class="headerlink" title="基于web的机票管理系统"></a>基于web的机票管理系统</h1><p><strong>如果你还没有阅读<a href="https://blog.csdn.net/qq_40625778/article/details/107022670">基于web的机票管理系统设计与实现（一）</a>，请点击查看，获取详细资料请关注公众号：C you again</strong></p><h2 id="5-系统详细设计及实现"><a href="#5-系统详细设计及实现" class="headerlink" title="5 系统详细设计及实现"></a>5 系统详细设计及实现</h2><h4 id="5-1-添加航班信息"><a href="#5-1-添加航班信息" class="headerlink" title="5.1 添加航班信息"></a>5.1 添加航班信息</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;系统管理员登录后台系统后，点击侧边栏的航班信息管理按钮会出现下拉列表菜单，继续点击添加航班信息按钮可以进行添加航班信息操作。添加航班时输入航班号、起点、终点、始发机场、到达机场等信息，如下图所示。<br><img src="https://img-blog.csdnimg.cn/20200630115259887.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630115259887.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>&nbsp;&nbsp;&nbsp;&nbsp;添加航班信息的过程如下：后台系统管理员进入添加航班信息页面后，填写航班号、起点、终点、始发机场、到达机场等相关信息后点击保存按钮，这是会随机生成flightId并与数据库中已经存在的flightId进行比较，保证航班Id唯一，之后继续判断输入的机票价格，航班座位数等数据是否有效，核对信息的有效性和完整性，最后存入数据库。具体流程如下图所示。<br><img src="https://img-blog.csdnimg.cn/20200630115402765.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630115402765.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>主要代码：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;addFlight&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Result <span class="title">addFlight</span><span class="params">(<span class="meta">@RequestBody</span> Flight flight )</span> </span>&#123;</span><br><span class="line"><span class="comment">//设置日期格式</span></span><br><span class="line">SimpleDateFormat df = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyyMMddHHmmss&quot;</span>);</span><br><span class="line"><span class="comment">// new Date()为获取当前系统时间</span></span><br><span class="line">        flight.setFlightId(<span class="string">&quot;F&quot;</span>+df.format(<span class="keyword">new</span> Date()));  </span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">        flightManageService.addFlight(flight);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Result(<span class="keyword">true</span>,<span class="string">&quot;添加成功&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Result(<span class="keyword">false</span>,<span class="string">&quot;添加失败&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="5-2-航班信息列表"><a href="#5-2-航班信息列表" class="headerlink" title="5.2 航班信息列表"></a>5.2 航班信息列表</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;系统管理员登录系统后有查看航班列表的权限，航班列表界面有添加航班，删除航班，搜索航班信息，航班信息详情，航班信息修改等功能，具体见下图，各个功能详细说明如表5.1所示。<br><img src="https://img-blog.csdnimg.cn/20200630115701888.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630115701888.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p><img src="https://img-blog.csdnimg.cn/20200630115716774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630115716774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>主要代码这里以航班查询功能service层代码为例：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> PageResult <span class="title">search</span><span class="params">(<span class="keyword">int</span> pageNum, <span class="keyword">int</span> pageSize, String searchEntity)</span> </span>&#123;</span><br><span class="line">PageHelper.startPage(pageNum,pageSize);</span><br><span class="line">List&lt;Flight&gt; flightsList=flightManageMapper.select(searchEntity);</span><br><span class="line">Page&lt;Flight&gt; page=(Page&lt;Flight&gt;) flightsList;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> PageResult(page.getTotal(), page.getResult());</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="5-3-订单信息列表"><a href="#5-3-订单信息列表" class="headerlink" title="5.3 订单信息列表"></a>5.3 订单信息列表</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;订单信息列表是订单信息管理模块的一个子功能，展示的是前台所有用户的机票订单信息，如下图所示。系统管理员可以对订单进行查询，删除操作，各个功能详细说明如表5.2所示。<br><img src="https://img-blog.csdnimg.cn/20200630115908692.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630115908692.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20200630115924485.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630115924485.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>主要代码这里以订单删除功能dao层的mapper代码为例：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper PUBLIC <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span> &gt;</span><br><span class="line">&lt;mapper namespace=<span class="string">&quot;com.cafuc.mapper.IOrderManageMapper&quot;</span>&gt;</span><br><span class="line">  &lt;delete id=<span class="string">&quot;delete&quot;</span> parameterType=<span class="string">&quot;String&quot;</span>&gt;</span><br><span class="line">    delete from `order` where order_id in</span><br><span class="line">    &lt;foreach collection=<span class="string">&quot;selectIds&quot;</span> item=<span class="string">&quot;ids&quot;</span> open=<span class="string">&quot;(&quot;</span> close=<span class="string">&quot;)&quot;</span> separator=<span class="string">&quot;,&quot;</span>&gt;</span><br><span class="line">      #&#123;ids&#125;</span><br><span class="line">    &lt;/foreach&gt;</span><br><span class="line">  &lt;/delete&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="5-4-用户信息列表"><a href="#5-4-用户信息列表" class="headerlink" title="5.4 用户信息列表"></a>5.4 用户信息列表</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;用户信息列表是用户信息管理模块的子功能，它是指把前台系统所有注册用户信息以列表的形式展示给后台系统管理员，方便系统管理员精确定位到每一个机票预订系统的使用者，对其进行管理，用户信息列表的界面如下图所示。系统管理员有查找系统使用用户和删除违反平台规定用户的权利，各个功能详细说明如表5.3所示。<br><img src="https://img-blog.csdnimg.cn/20200630120106975.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630120106975.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20200630120121891.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630120121891.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p><strong>主要代码以用户搜索功能dao层的mapper代码为例：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper PUBLIC <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span> &gt;</span><br><span class="line">&lt;mapper namespace=<span class="string">&quot;com.cafuc.mapper.IUserManageMapper&quot;</span>&gt;</span><br><span class="line">  &lt;select id=<span class="string">&quot;select&quot;</span> resultType=<span class="string">&quot;com.cafuc.pojo.User&quot;</span>&gt;</span><br><span class="line">     select DISTINCT * from `user` as u where </span><br><span class="line">u.<span class="function">user_name like <span class="title">concat</span><span class="params">(<span class="string">&#x27;%&#x27;</span>,#&#123;searchEntity&#125;,<span class="string">&#x27;%&#x27;</span>)</span></span></span><br><span class="line"><span class="function">  &lt;/select&gt;</span></span><br><span class="line"><span class="function">&lt;/mapper&gt;</span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure><h4 id="5-5-留言评论列表"><a href="#5-5-留言评论列表" class="headerlink" title="5.5 留言评论列表"></a>5.5 留言评论列表</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;留言评论是前台系统使用者完成注册后具有的功能，用户可以通过留言评论功能对所购班次机票进行全方位的评价，也可以对其在使用过程中遇到的问题进行反馈，等待工作员处理。后台系统管理员对用户留言具有管理的权限，见下图。各功能详情见表5.4。<br><img src="https://img-blog.csdnimg.cn/20200630120330548.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630120330548.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20200630120346388.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630120346388.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p><strong>主要代码以后台系统留言评论模块controller层DiscussManageController.java类例：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cafuc.controller;</span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"><span class="keyword">import</span> com.cafuc.pojo.PageResult;</span><br><span class="line"><span class="keyword">import</span> com.cafuc.pojo.Result;</span><br><span class="line"><span class="keyword">import</span> com.cafuc.service.IDiscussManageService;</span><br><span class="line"><span class="keyword">import</span> com.cafuc.service.IOrderManageService;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;discussManage&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DiscussManageController</span> </span>&#123;</span><br><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> IDiscussManageService discussManageService;</span><br><span class="line"><span class="meta">@RequestMapping(&quot;search&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> PageResult <span class="title">search</span><span class="params">(<span class="keyword">int</span> pageNum ,<span class="keyword">int</span> pageSize,String searchEntity)</span></span>&#123;</span><br><span class="line">System.out.println(pageNum+<span class="string">&quot; &quot;</span>+pageSize+<span class="string">&quot; &quot;</span>+searchEntity);</span><br><span class="line">PageResult pageResult=discussManageService.search(pageNum, pageSize, searchEntity);</span><br><span class="line"><span class="keyword">return</span> pageResult;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@RequestMapping(&quot;deleteBySelectIds&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Result <span class="title">deleteBySelectIds</span><span class="params">(String []selectIds)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">        discussManageService.deleteBySelectIds(selectIds);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Result(<span class="keyword">true</span>,<span class="string">&quot;删除成功&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span> handle exception</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Result(<span class="keyword">false</span>,<span class="string">&quot;删除失败&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="5-6-添加广告信息"><a href="#5-6-添加广告信息" class="headerlink" title="5.6 添加广告信息"></a>5.6 添加广告信息</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;广告作为网站的必要元素，在机票系统的前台页面也有广告展示的功能，后台增加了相应的管理模块，界面如下图所示。<br><img src="https://img-blog.csdnimg.cn/20200630120539668.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630120539668.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;后台系统添加广告的步骤：管理员登录后台系统后点击广告管理按钮，在出现的下拉列表选项中选择添加广告信息并点击进入广告添加页面，在页面输入广告图片、广告链接，广告说明等信息，点击保存按钮，进行数据校验，检查数据的有效性和完整性，保证数据无误之后将数据信息持久化到mysql数据库。流程图如下图所示。<br><img src="https://img-blog.csdnimg.cn/20200630120617957.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630120617957.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>主要代码以后台系统controller层ContentManageController.java类例：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;addContent&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addContent</span><span class="params">(<span class="meta">@RequestParam(&quot;file&quot;)</span> MultipartFile file,HttpServletRequest request,HttpServletResponse response)</span> </span></span><br><span class="line"><span class="function"><span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">String describe=<span class="string">&quot;&quot;</span>;</span><br><span class="line">String url=<span class="string">&quot;&quot;</span>;</span><br><span class="line">String picture=<span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span>(request.getParameter(<span class="string">&quot;describe&quot;</span>)!=<span class="keyword">null</span>) &#123;</span><br><span class="line">describe=request.getParameter(<span class="string">&quot;describe&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(request.getParameter(<span class="string">&quot;url&quot;</span>)!=<span class="keyword">null</span>) &#123;</span><br><span class="line">url=request.getParameter(<span class="string">&quot;url&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 判断文件是否为空，空则返回失败页面</span></span><br><span class="line"><span class="keyword">if</span> (!file.isEmpty()) &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">// 获取文件存储路径（绝对路径）</span></span><br><span class="line">String path = request.getServletContext().getRealPath(<span class="string">&quot;/WEB-INF/file&quot;</span>);</span><br><span class="line"><span class="comment">// 获取原文件名</span></span><br><span class="line">String fileName = file.getOriginalFilename();</span><br><span class="line"><span class="comment">// 创建文件实例</span></span><br><span class="line">File filePath = <span class="keyword">new</span> File(path, fileName);</span><br><span class="line"><span class="comment">// 如果文件目录不存在，创建目录</span></span><br><span class="line"><span class="keyword">if</span> (!filePath.getParentFile().exists()) &#123;</span><br><span class="line">filePath.getParentFile().mkdirs();</span><br><span class="line">System.out.println(<span class="string">&quot;创建目录&quot;</span> + filePath);</span><br><span class="line">&#125;</span><br><span class="line">picture=filePath+<span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="comment">// 写入文件</span></span><br><span class="line">file.transferTo(filePath);</span><br><span class="line">Content content=<span class="keyword">new</span> Content();</span><br><span class="line"><span class="comment">//设置日期格式</span></span><br><span class="line">SimpleDateFormat df = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyyMMddHHmmss&quot;</span>);</span><br><span class="line"><span class="comment">// new Date()为获取当前系统时间</span></span><br><span class="line">content.setContentId(<span class="string">&quot;C&quot;</span>+df.format(<span class="keyword">new</span> Date()));</span><br><span class="line">content.setDescribe(describe);</span><br><span class="line">content.setPicture(picture);</span><br><span class="line">content.setUrl(url);</span><br><span class="line">    contentManageServiceImpl.addContent(content);</span><br><span class="line">    response.sendRedirect(request.getContextPath()+<span class="string">&quot;/admin/list_content.html&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">response.sendRedirect(request.getContextPath()+<span class="string">&quot;/admin/add_content.html&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">response.sendRedirect(request.getContextPath()+<span class="string">&quot;/admin/add_content.html&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="5-7-广告信息列表"><a href="#5-7-广告信息列表" class="headerlink" title="5.7 广告信息列表"></a>5.7 广告信息列表</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;后台系统管理员完成添加广告以后跳转到广告信息列表页面，本页面展示的是添加到数据库的所有广告信息，如下图所示，系统管理员可以通过查询，删除等操作来管理广告信息，详情见表5.5。<br><img src="https://img-blog.csdnimg.cn/20200630120807856.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630120807856.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20200630120829741.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630120829741.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><h4 id="5-8-查看个人信息"><a href="#5-8-查看个人信息" class="headerlink" title="5.8 查看个人信息"></a>5.8 查看个人信息</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;后台系统管理员可以查看个人的用户名，密码，邮箱，手机号等信息，由于时间有限，这里以只实现了查看用户名，密码的功能，见下图所示，其他功能后期添加。<br><img src="https://img-blog.csdnimg.cn/20200630121049702.png" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630121049702.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>&nbsp;&nbsp;&nbsp;&nbsp;由于系统管理员在登陆系统后把个人信息存到redis数据库中，在页面初始化时从redis数据库中查找处个人信息从到cookie中，查看个人信息就是从cookie中提取数据并设置到页面中，具体代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化</span></span><br><span class="line">$scope.adminEntity=&#123;&#125;;</span><br><span class="line">$scope.init=function () &#123;</span><br><span class="line">console.log($.cookie(<span class="string">&#x27;key&#x27;</span>));</span><br><span class="line">adminManageService.init($.cookie(<span class="string">&#x27;key&#x27;</span>)).success(function (res) &#123;</span><br><span class="line">      console.log(res) </span><br><span class="line">      $scope.adminEntity=res;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="5-9-修改个人信息"><a href="#5-9-修改个人信息" class="headerlink" title="5.9 修改个人信息"></a>5.9 修改个人信息</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;后台系统管理员也对用户名，密码，邮箱，手机号等信息进行修改，点击个人信息修改按钮进入页面修改个人信息，修改后点击保存等检查填写的信息无误后提示完成修改，为了确保用户名字段的唯一性，用户名一项无法修改。主要代码以controller层为例:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;editAdmin&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Result <span class="title">editAdmin</span><span class="params">(<span class="meta">@RequestBody</span> AdminUser adminUser)</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">adminManageServiceImpl.editAdmin(adminUser);</span><br><span class="line">redisTemplate.boundValueOps(adminUser.getUser()).set(adminUser);</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Result(<span class="keyword">true</span>, <span class="string">&quot;修改成功&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span> handle exception</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Result(<span class="keyword">false</span>, <span class="string">&quot;修改失败&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="5-10-用户登录"><a href="#5-10-用户登录" class="headerlink" title="5.10 用户登录"></a>5.10 用户登录</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;用户在进行机票预定，留言评论等功能时需要登录前台系统后才能进行，在浏览器地址栏输入<a href="http://localhost:8081/flyTicket-portal-web/default/login.html%E5%9B%9E%E8%BD%A6%E8%BF%9B%E5%85%A5%E5%A6%82%E4%B8%8B%E5%9B%BE%E6%89%80%E7%A4%BA%E7%95%8C%E9%9D%A2%E3%80%82">http://localhost:8081/flyTicket-portal-web/default/login.html回车进入如下图所示界面。</a><br><img src="https://img-blog.csdnimg.cn/20200630121327613.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630121327613.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;用户进行到登录界面，输入正确的用户名和密码就可以登录到前台系统，登录顺序图如下图所示。<br><img src="https://img-blog.csdnimg.cn/20200630121401198.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630121401198.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>主要代码以controller层代码为例：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">app.controller(<span class="string">&#x27;portalLoginManageController&#x27;</span>,function($scope,$controller,portalLoginManageService)&#123;</span><br><span class="line">$controller(<span class="string">&#x27;baseController&#x27;</span>,&#123;$scope:$scope&#125;);</span><br><span class="line"><span class="comment">//初始化</span></span><br><span class="line"> $scope.userEntity=&#123;userName:<span class="keyword">null</span>,userPwd:<span class="keyword">null</span>&#125;;</span><br><span class="line"> $scope.login=function()&#123;</span><br><span class="line"> <span class="keyword">if</span>($scope.userEntity.userName==<span class="keyword">null</span> || $scope.userEntity.userName.trim()==<span class="string">&quot;&quot;</span>)&#123;</span><br><span class="line"> alert(<span class="string">&quot;用户名为空&quot;</span>);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">else</span>&#123;</span><br><span class="line"> <span class="keyword">if</span>($scope.userEntity.userPwd==<span class="keyword">null</span> || $scope.userEntity.userPwd.trim()==<span class="string">&quot;&quot;</span>)&#123;</span><br><span class="line"> alert(<span class="string">&quot;密码为空&quot;</span>);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">else</span>&#123; portalLoginManageService.login($scope.userEntity).success(function(res)&#123;</span><br><span class="line"> <span class="keyword">if</span>(res.result==<span class="keyword">false</span>)&#123;</span><br><span class="line"> alert(res.message)</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">else</span>&#123;</span><br><span class="line"> window.location.href=<span class="string">&quot;index.html#?key=&quot;</span>+$scope.userEntity.userName; </span><br><span class="line"> &#125;</span><br><span class="line"> &#125;); </span><br><span class="line"> &#125;</span><br><span class="line"> &#125;;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="5-11-航班信息展示"><a href="#5-11-航班信息展示" class="headerlink" title="5.11 航班信息展示"></a>5.11 航班信息展示</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;在浏览器地址栏输入<a href="http://localhost:8081/flyTicket-portal-web/default/index.html%E5%87%BA%E7%8E%B0%E5%A6%82%E4%B8%8B%E5%9B%BE%E6%89%80%E7%A4%BA%E7%95%8C%E9%9D%A2%EF%BC%8C%E9%A6%96%E9%A1%B5%E9%9D%A2%E5%B1%95%E7%A4%BA%E6%89%80%E6%9C%89%E8%88%AA%E7%8F%AD%E4%BF%A1%E6%81%AF%E3%80%82%E6%AF%8F%E4%B8%80%E6%9D%A1%E4%BF%A1%E6%81%AF%E5%8C%85%E5%90%AB%E5%87%BA%E5%8F%91%E5%9F%8E%E5%B8%82%E3%80%81%E5%88%B0%E8%BE%BE%E5%9F%8E%E5%B8%82%E3%80%81%E5%87%BA%E5%8F%91%E6%9C%BA%E5%9C%BA%E3%80%81%E5%88%B0%E8%BE%BE%E6%9C%BA%E5%9C%BA%EF%BC%8C%E5%87%BA%E5%8F%91%E6%97%B6%E9%97%B4%E3%80%81%E5%88%B0%E8%BE%BE%E6%97%B6%E9%97%B4%E3%80%81%E6%9C%BA%E7%A5%A8%E4%BB%B7%E6%A0%BC%E7%AD%89%E4%BF%A1%E6%81%AF%E3%80%82">http://localhost:8081/flyTicket-portal-web/default/index.html出现如下图所示界面，首页面展示所有航班信息。每一条信息包含出发城市、到达城市、出发机场、到达机场，出发时间、到达时间、机票价格等信息。</a><br><img src="https://img-blog.csdnimg.cn/20200630121525490.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630121525490.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="5-12-航班信息查询"><a href="#5-12-航班信息查询" class="headerlink" title="5.12 航班信息查询"></a>5.12 航班信息查询</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;用户可以通过航班查询功能精确查找到所需信息，节省时间简化操作。通过输入航班类型、出发时间、出发城市、到达城市等搜索条件实现航班查询。比图以成都为到达城市为例，搜索结果如下图所示。<br><img src="https://img-blog.csdnimg.cn/20200630121619347.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630121619347.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>代码以dao层PortalManageMapper.xml类例：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper PUBLIC <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span> &gt;</span><br><span class="line">&lt;mapper namespace=<span class="string">&quot;com.cafuc.mapper.IPortalManageMapper&quot;</span>&gt;</span><br><span class="line">  &lt;select id=<span class="string">&quot;select&quot;</span> resultType=<span class="string">&quot;com.cafuc.pojo.Flight&quot;</span>&gt;</span><br><span class="line">     select * from flight as f </span><br><span class="line">      &lt;where&gt;</span><br><span class="line">        &lt;<span class="keyword">if</span> test=<span class="string">&quot;flightStartTime1 !=null and flightStartTime1 !=&#x27;&#x27;&quot;</span>&gt;</span><br><span class="line">          and f.<span class="function">flight_start_time like <span class="title">concat</span><span class="params">(<span class="string">&#x27;%&#x27;</span>,#&#123;flightStartTime1&#125;,<span class="string">&#x27;%&#x27;</span>)</span></span></span><br><span class="line"><span class="function">        &lt;/<span class="keyword">if</span>&gt;</span></span><br><span class="line"><span class="function">        &lt;<span class="keyword">if</span> test</span>=<span class="string">&quot;flightStartPlace !=null and flightStartPlace !=&#x27;&#x27;&quot;</span>&gt;</span><br><span class="line">          and f.<span class="function">flight_start_place like <span class="title">concat</span><span class="params">(<span class="string">&#x27;%&#x27;</span>,#&#123;flightStartPlace&#125;,<span class="string">&#x27;%&#x27;</span>)</span></span></span><br><span class="line"><span class="function">        &lt;/<span class="keyword">if</span>&gt;</span></span><br><span class="line"><span class="function">        &lt;<span class="keyword">if</span> test</span>=<span class="string">&quot;flightEndPlace !=null and flightEndPlace !=&#x27;&#x27;&quot;</span>&gt;</span><br><span class="line">          and f.<span class="function">flight_end_place like <span class="title">concat</span><span class="params">(<span class="string">&#x27;%&#x27;</span>,#&#123;flightEndPlace&#125;,<span class="string">&#x27;%&#x27;</span>)</span></span></span><br><span class="line"><span class="function">        &lt;/<span class="keyword">if</span>&gt;</span></span><br><span class="line"><span class="function">     &lt;/where&gt;</span></span><br><span class="line"><span class="function">  &lt;/select&gt;</span></span><br><span class="line"><span class="function">&lt;/mapper&gt;</span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure><h4 id="5-13-航班信息详情"><a href="#5-13-航班信息详情" class="headerlink" title="5.13 航班信息详情"></a>5.13 航班信息详情</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;航班信息详情是对某一航班信息的详细情况进行展示，如下图所示。用户点击选定航班，航班详细信息以下拉列表的形式展现给用户。<br><img src="https://img-blog.csdnimg.cn/20200630121759179.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630121759179.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>主要代码如下：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//保留n位小数</span></span><br><span class="line">$scope.weishu=function(price,n)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Number(price).toFixed(n);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//下拉详情</span></span><br><span class="line">$scope.lists=function(flightNumber)&#123;</span><br><span class="line"><span class="comment">//收缩状态</span></span><br><span class="line"><span class="keyword">if</span>($(<span class="string">&quot;#F_&quot;</span>+flightNumber).is(<span class="string">&quot;:visible&quot;</span>))&#123;</span><br><span class="line">$scope.reloadList();</span><br><span class="line">&#125;</span><br><span class="line">$(<span class="string">&quot;#F_&quot;</span>+flightNumber).animate(&#123;</span><br><span class="line">      height:<span class="string">&#x27;toggle&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//判断最低价</span></span><br><span class="line">$scope.minPrice=function(flightHighPrice,flightMiddlePrice,flightBasePrice)&#123;</span><br><span class="line"><span class="keyword">return</span> (flightHighPrice&lt;=flightMiddlePrice?flightHighPrice:flightMiddlePrice)&lt;=flightBasePrice?(flightHighPrice&lt;=flightMiddlePrice?flightHighPrice:flightMiddlePrice):flightBasePrice</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//判断是否有票</span></span><br><span class="line">$scope.isKickets=function(kicketsNumber,flightNumber,temp)&#123;</span><br><span class="line"><span class="comment">/*console.log(flightNumber)*/</span></span><br><span class="line"><span class="keyword">if</span>(kicketsNumber&gt;<span class="number">0</span>)&#123;</span><br><span class="line">$(<span class="string">&quot;#&quot;</span>+temp+<span class="string">&quot;_&quot;</span>+flightNumber).css(&#123;</span><br><span class="line">color:<span class="string">&quot;green&quot;</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;有票&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">$(<span class="string">&quot;#&quot;</span>+temp+<span class="string">&quot;_&quot;</span>+flightNumber).css(&#123;</span><br><span class="line">color:<span class="string">&quot;red&quot;</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;无票&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="5-14-登录用户信息展示"><a href="#5-14-登录用户信息展示" class="headerlink" title="5.14 登录用户信息展示"></a>5.14 登录用户信息展示</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;游客访问前台系统时，在页面头部显示“请登录”字样，如下图所示信息，而网站用户登录后则显示“您好，XXX”字样，如下图所示。<br><img src="https://img-blog.csdnimg.cn/20200630121938901.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630121938901.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p><img src="https://img-blog.csdnimg.cn/20200630121950414.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630121950414.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="5-15-留言板"><a href="#5-15-留言板" class="headerlink" title="5.15 留言板"></a>5.15 留言板</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;点击前台系统右上角“留言板”按钮进入都留言页面如下图所示。留言评论是前台系统使用者完成注册后具有的功能，用户可以通过留言评论功能对所购班次机票进行全方位的评价，也可以对其在使用过程中遇到的问题进行反馈。</p><p><img src="https://img-blog.csdnimg.cn/20200630122050950.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630122050950.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>主要代码以前台系统controller层DiscussManageController.java类例：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cafuc.controller;</span><br><span class="line"><span class="keyword">import</span> java.text.ParseException;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.collections.FastArrayList;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.core.RedisTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"><span class="keyword">import</span> com.cafuc.pojo.Discuss;</span><br><span class="line"><span class="keyword">import</span> com.cafuc.pojo.Flight;</span><br><span class="line"><span class="keyword">import</span> com.cafuc.pojo.PageResult;</span><br><span class="line"><span class="keyword">import</span> com.cafuc.pojo.Result;</span><br><span class="line"><span class="keyword">import</span> com.cafuc.service.IDiscussManageService;</span><br><span class="line"><span class="keyword">import</span> com.cafuc.service.IPortalManageService;</span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;discussManage&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DiscussManageController</span> </span>&#123;</span><br><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> IDiscussManageService discussManageService;</span><br><span class="line"><span class="meta">@RequestMapping(&quot;addDiscuss&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Result <span class="title">addDiscuss</span><span class="params">(<span class="meta">@RequestBody</span> Discuss discuss)</span></span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">System.out.println(discuss);</span><br><span class="line">discussManageService.addDiscuss(discuss);</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Result(<span class="keyword">true</span>, <span class="string">&quot;评论成功&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span> handle exception</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Result(<span class="keyword">false</span>, <span class="string">&quot;评论失败&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@RequestMapping(&quot;init&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Discuss&gt; <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> discussManageService.init();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="5-16-订单填写"><a href="#5-16-订单填写" class="headerlink" title="5.16 订单填写"></a>5.16 订单填写</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;订单填写是机票预定中不可缺少的步骤之一，用户找到自己所需班次后点击订票按钮进入订单信息填写页面，用户所填写的信息包括乘机人信息和联系人信息量大模块，如下图所示。填写完信息后点击提交订单按钮，等待验证数据的有效性，确定填写无误后完成提交，填写订单的前提是用户已经登录系统。<br><img src="https://img-blog.csdnimg.cn/20200630122238229.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630122238229.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="5-17-订单详情"><a href="#5-17-订单详情" class="headerlink" title="5.17 订单详情"></a>5.17 订单详情</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;填写订单信息完成订单提交后弹出订单详情页面提示用户检查航班信息和填写的用户信息，如下图所示。确保信息无误后点击确认付款按钮跳转到订单支付页面。<br><img src="https://img-blog.csdnimg.cn/20200630122336837.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630122336837.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>订单确认功能主要代码如下：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/ack&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ack</span><span class="params">(Order order,HttpServletRequest request,HttpServletResponse response)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(order.getOrderDate() ==<span class="keyword">null</span>) &#123;</span><br><span class="line">order.setOrderDate(<span class="keyword">new</span> Date());</span><br><span class="line">&#125;</span><br><span class="line">HttpSession httpSession=request.getSession();</span><br><span class="line">httpSession.setAttribute(<span class="string">&quot;order&quot;</span>, order);</span><br><span class="line">System.out.println(request.getSession().getAttribute(<span class="string">&quot;order&quot;</span>));</span><br><span class="line">response.sendRedirect(request.getContextPath()+<span class="string">&quot;/pay/index.jsp&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span> handle exception</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="5-18-订单支付"><a href="#5-18-订单支付" class="headerlink" title="5.18 订单支付"></a>5.18 订单支付</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;机票预订系统的订单支付功能使用的是支付宝沙箱环境支付，蚂蚁沙箱环境 (Beta) 是协助开发者进行接口功能开发及主要功能联调的辅助环境。登录支付宝沙箱平台依次完成生成买家和卖家账号信息、生成RSA秘钥、设置公钥信息、设置应用网关等应用环境配置。完成配置后下载官方测试代码，本系统选择的是电脑应用java版本，然后将下载的项目导入到eclipse工作空间。最后设置核心配置文件信息，打开flyTicket-portal-web项目下com.alipay.config包中的AlipayConfig.java文件配置如下信息：<br>//沙箱APPID<br>public static final  String app_id = “<strong>这里需要自己申请</strong>“;<br>//沙箱私钥<br>public static final  String merchant_private_key = “<strong>这里需要自己申请</strong>“;<br>//支付宝公钥<br>public static final  String alipay_public_key = “<strong>这里需要自己申请</strong>“;<br>//沙箱网关地址<br>public static final  String gatewayUrl = “<a href="https://openapi.alipaydev.com/gateway.do&quot;">https://openapi.alipaydev.com/gateway.do&quot;</a>;</p><p>//服务器异步通知页面路径  需http://格式的完整路径，不能加?id=123这类自定义参数，必须外网可以正常访问<br>    public static String notify_url = “<a href="http://localhost:8081/flyTicket-portal-web/pay/notify_url.jsp&quot;">http://localhost:8081/flyTicket-portal-web/pay/notify_url.jsp&quot;</a>;</p><p>//页面跳转同步通知页面路径 需http://格式的完整路径，不能加?id=123这类自定义参数，必须外网可以正常访问<br>    public static String return_url = “<a href="http://localhost:8081/flyTicket-portal-web/orderManage/complete&quot;">http://localhost:8081/flyTicket-portal-web/orderManage/complete&quot;</a>;<br>完成以上配置后就可以实现订单支付功能了。点击确认付款后跳转到如下图所示界面。<br><img src="https://img-blog.csdnimg.cn/20200630122830766.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630122830766.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>&nbsp;&nbsp;&nbsp;&nbsp;点击付款按钮后如下图所示，可以登录账户付款，也可以使用手机端沙箱支付宝完成付款。<br><img src="https://img-blog.csdnimg.cn/20200630122908819.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630122908819.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>&nbsp;&nbsp;&nbsp;&nbsp;完成付款后如下图所示<br><img src="https://img-blog.csdnimg.cn/20200630122941862.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200630122941862.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>主要代码如下：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//支付完成后</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;complete&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">complete</span><span class="params">(HttpServletRequest request,HttpServletResponse response)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">System.out.println(request.getSession().getAttribute(<span class="string">&quot;order&quot;</span>));</span><br><span class="line">Order order=(Order)request.getSession().getAttribute(<span class="string">&quot;order&quot;</span>);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//将数据插入到订单表中</span></span><br><span class="line">orderManageService.insertOrder(order);</span><br><span class="line"><span class="comment">//更改库存</span></span><br><span class="line">Flight flight=orderManageService.findOneByFlightNumber(order.getFlightNumber());</span><br><span class="line"><span class="keyword">if</span>(order.getGrade().equals(<span class="string">&quot;f&quot;</span>)) &#123;</span><br><span class="line">flight.setFlightHighNumber(flight.getFlightHighNumber()-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(order.getGrade().equals(<span class="string">&quot;b&quot;</span>)) &#123;</span><br><span class="line">flight.setFlightMiddleNumber(flight.getFlightMiddleNumber()-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">flight.setFlightBaseNumber(flight.getFlightBaseNumber()-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">orderManageService.updatesNum(flight);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">response.sendRedirect(request.getContextPath()+<span class="string">&quot;/default/index.html&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>获取源码请关注公众号：C you again，回复“基于web的机票管理系统”或者“机票管理系统”</strong><br><img src="https://img-blog.csdnimg.cn/20200629140932725.jpg" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200629140932725.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p>]]></content>
    
    
    <summary type="html">基于web的机票管理系统</summary>
    
    
    
    <category term="系统源码" scheme="https://cyouagain.cn/categories/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    
    <category term="源码分享" scheme="https://cyouagain.cn/tags/%E6%BA%90%E7%A0%81%E5%88%86%E4%BA%AB/"/>
    
    <category term="机票管理系统" scheme="https://cyouagain.cn/tags/%E6%9C%BA%E7%A5%A8%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"/>
    
    <category term="后端开发" scheme="https://cyouagain.cn/tags/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>基于SSM框架的JavaWeb通用权限管理系统</title>
    <link href="https://cyouagain.cn/posts/31183.html"/>
    <id>https://cyouagain.cn/posts/31183.html</id>
    <published>2020-10-02T07:47:56.634Z</published>
    <updated>2020-10-02T14:42:21.248Z</updated>
    
    <content type="html"><![CDATA[<h2 id="查看更多系统：系统大全，课程设计、毕业设计，请点击这里查看"><a href="#查看更多系统：系统大全，课程设计、毕业设计，请点击这里查看" class="headerlink" title="查看更多系统：系统大全，课程设计、毕业设计，请点击这里查看"></a>查看更多系统：<a href="https://blog.csdn.net/qq_40625778/article/details/108213145">系统大全，课程设计、毕业设计，请点击这里查看</a></h2><h2 id="01-概述"><a href="#01-概述" class="headerlink" title="01 概述"></a>01 概述</h2><p>这是一个通用权限管理系统项目，基于SSM（Spring + Spring-MVC +Mybatis）框架开发，其SQL语句持久在Hibernate 中，对原生SQL的支持较好。制作该系统的初衷是用来帮助JavaWeb开发者或初学者学习、借鉴的需要。读者可以在这个 系统基础上引入其它技术或完全依赖本系统技术进行功能拓展，来开发实际应用需求的项目，免去了应用系统中对于“ 权限设计”这一部分的麻烦。</p><h2 id="02-技术"><a href="#02-技术" class="headerlink" title="02 技术"></a>02 技术</h2><blockquote><p>Jsp 、SSM（Spring + Spring-MVC + Mybatis）、Shiro 、Mvc、Jdbc、MySQL、DWZ富客户端框架 + Jquery + Ajax</p></blockquote><h2 id="03-环境"><a href="#03-环境" class="headerlink" title="03 环境"></a>03 环境</h2><blockquote><p>JDK:JDK1.6+ 、WEB:Tomcat6.0+ 、DB:MySQL5+ 、IDE: MyEclipse8.5+/Eclipse4.4+ </p></blockquote><h2 id="04-工程结构"><a href="#04-工程结构" class="headerlink" title="04 工程结构"></a>04 工程结构</h2><p><img src="https://img-blog.csdnimg.cn/20200825222028100.png#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200825222028100.png#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h2 id="05-运行截图"><a href="#05-运行截图" class="headerlink" title="05 运行截图"></a>05 运行截图</h2><h4 id="登录界面"><a href="#登录界面" class="headerlink" title="登录界面"></a>登录界面</h4><p><img src="https://img-blog.csdnimg.cn/20200825222431271.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200825222431271.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="员工管理界面"><a href="#员工管理界面" class="headerlink" title="员工管理界面"></a>员工管理界面</h4><p><img src="https://img-blog.csdnimg.cn/2020082522252173.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/2020082522252173.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="部门管理界面"><a href="#部门管理界面" class="headerlink" title="部门管理界面"></a>部门管理界面</h4><p><img src="https://img-blog.csdnimg.cn/20200825222550263.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200825222550263.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="角色管理界面"><a href="#角色管理界面" class="headerlink" title="角色管理界面"></a>角色管理界面</h4><p><img src="https://img-blog.csdnimg.cn/20200825222633694.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200825222633694.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h2 id="06-主要代码"><a href="#06-主要代码" class="headerlink" title="06 主要代码"></a>06 主要代码</h2><h4 id="员工部门管理"><a href="#员工部门管理" class="headerlink" title="员工部门管理"></a>员工部门管理</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kzfire.portal.action.user;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.kzfire.portal.base.BaseAction;</span><br><span class="line"><span class="keyword">import</span> com.kzfire.portal.entiy.SysDept;</span><br><span class="line"><span class="keyword">import</span> com.kzfire.portal.service.DeptService;</span><br><span class="line"><span class="keyword">import</span> com.kzfire.portal.service.UserService;</span><br><span class="line"><span class="keyword">import</span> com.kzfire.portal.utils.JSONUtils;</span><br><span class="line"><span class="keyword">import</span> com.kzfire.portal.utils.VoFactory;</span><br><span class="line"><span class="keyword">import</span> com.kzfire.portal.vo.ConditionVo;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user/dept&quot;)</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeptAction</span> <span class="keyword">extends</span> <span class="title">BaseAction</span></span>&#123;</span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">DeptService deptService;</span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">UserService userService;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 设置员工部门</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> model</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> response</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/setUserDept&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">setUserDept</span><span class="params">(Model model,HttpServletRequest request,HttpServletResponse response)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">String userId=request.getParameter(<span class="string">&quot;userId&quot;</span>);</span><br><span class="line">model.addAttribute(<span class="string">&quot;userId&quot;</span>, userId);</span><br><span class="line"><span class="comment">//设置部门树</span></span><br><span class="line">List&lt;SysDept&gt; list=deptService.getAllDept();</span><br><span class="line">model.addAttribute(<span class="string">&quot;data&quot;</span>, JSONUtils.parseList(list));</span><br><span class="line"><span class="keyword">return</span> VIEW+<span class="string">&quot;user/dept/setUserDept&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/saveUserdept&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ModelAndView <span class="title">saveUserdept</span><span class="params">(Model model, HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">HttpServletResponse response)</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">Integer userId=Integer.parseInt(request.getParameter(<span class="string">&quot;userId&quot;</span>));</span><br><span class="line">Integer deptId=Integer.parseInt(request.getParameter(<span class="string">&quot;deptId&quot;</span>));</span><br><span class="line">deptService.saveUserdept(userId,deptId);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line"><span class="keyword">return</span> ajaxDoneError(<span class="string">&quot;操作失败:&quot;</span>+e.getMessage());</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ajaxDoneSuccess(<span class="string">&quot;操作成功&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/main&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">list</span><span class="params">(Model model,HttpServletRequest request,HttpServletResponse response)</span> </span>&#123;</span><br><span class="line"><span class="comment">//设置部门树</span></span><br><span class="line">List&lt;SysDept&gt; list=deptService.getAllDept();</span><br><span class="line">System.out.println(<span class="string">&quot;json格式-----&gt;&quot;</span>    + JSONUtils.parseList(list).toString() );</span><br><span class="line">model.addAttribute(<span class="string">&quot;data&quot;</span>, JSONUtils.parseList(list));</span><br><span class="line"><span class="keyword">return</span> VIEW+<span class="string">&quot;user/dept/dept&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/userList&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">userList</span><span class="params">(Model model,HttpServletRequest request,HttpServletResponse response)</span> </span>&#123;</span><br><span class="line">ConditionVo cvo=VoFactory.getConditionVo(request);</span><br><span class="line">String deptId=request.getParameter(<span class="string">&quot;deptId&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="string">&quot;1&quot;</span>.equals(deptId))</span><br><span class="line">&#123;</span><br><span class="line">cvo.setText4(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">cvo.setText3(request.getParameter(<span class="string">&quot;deptId&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line">request.setAttribute(<span class="string">&quot;deptId&quot;</span>, deptId);</span><br><span class="line">cvo.setTotalCount(userService.getUserCount(cvo));</span><br><span class="line">model.addAttribute(<span class="string">&quot;vo&quot;</span>, cvo);</span><br><span class="line">model.addAttribute(<span class="string">&quot;list&quot;</span>, userService.getList(cvo));</span><br><span class="line"><span class="keyword">return</span> VIEW+<span class="string">&quot;user/dept/userList&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/add&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">add</span><span class="params">(Model model,HttpServletRequest request,HttpServletResponse response)</span> </span>&#123;</span><br><span class="line">SysDept dept=<span class="keyword">new</span> SysDept();</span><br><span class="line">dept.setPid(Integer.parseInt(request.getParameter(<span class="string">&quot;selDept&quot;</span>)));</span><br><span class="line">model.addAttribute(<span class="string">&quot;dept&quot;</span>, dept);</span><br><span class="line"><span class="keyword">return</span> VIEW+<span class="string">&quot;user/dept/deptEdit&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@RequestMapping(&quot;/edit&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">edit</span><span class="params">(Model model,HttpServletRequest request,HttpServletResponse response)</span> </span>&#123;</span><br><span class="line">SysDept dept=deptService.getDeptById(Integer.parseInt(request.getParameter(<span class="string">&quot;selDept&quot;</span>)));</span><br><span class="line">model.addAttribute(<span class="string">&quot;dept&quot;</span>, dept);</span><br><span class="line"><span class="keyword">return</span> VIEW+<span class="string">&quot;user/dept/deptEdit&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/del&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ModelAndView <span class="title">del</span><span class="params">(Model model, HttpServletRequest request)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">String deptId=request.getParameter(<span class="string">&quot;selDept&quot;</span>);</span><br><span class="line">deptService.delDeptById(Integer.parseInt(deptId));</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line"><span class="keyword">return</span> ajaxDoneError(<span class="string">&quot;操作失败:&quot;</span>+e.getMessage());</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ajaxDoneSuccess(<span class="string">&quot;操作成功&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/save&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ModelAndView <span class="title">save</span><span class="params">(SysDept dept,Model model, HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">HttpServletResponse response)</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(dept!=<span class="keyword">null</span>)</span><br><span class="line">&#123;</span><br><span class="line">deptService.saveDept(dept);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line"><span class="keyword">return</span> ajaxDoneError(<span class="string">&quot;操作失败:&quot;</span>+e.getMessage());</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ajaxDoneSuccess(<span class="string">&quot;操作成功&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="角色管理"><a href="#角色管理" class="headerlink" title="角色管理"></a>角色管理</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kzfire.portal.action.user;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.kzfire.portal.base.BaseAction;</span><br><span class="line"><span class="keyword">import</span> com.kzfire.portal.entiy.SysRole;</span><br><span class="line"><span class="keyword">import</span> com.kzfire.portal.service.RoleService;</span><br><span class="line"><span class="keyword">import</span> com.kzfire.portal.utils.VoFactory;</span><br><span class="line"><span class="keyword">import</span> com.kzfire.portal.vo.ConditionVo;</span><br><span class="line"><span class="keyword">import</span> com.kzfire.portal.vo.PerGroupVo;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user/role&quot;)</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RoleAction</span> <span class="keyword">extends</span> <span class="title">BaseAction</span></span>&#123;</span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">RoleService roleService;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/list&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">list</span><span class="params">(Model model,HttpServletRequest request,HttpServletResponse response)</span> </span>&#123;</span><br><span class="line">ConditionVo cvo=VoFactory.getConditionVo(request);</span><br><span class="line">cvo.setTotalCount(roleService.getTableCount(<span class="string">&quot;sys_role&quot;</span>));</span><br><span class="line">model.addAttribute(<span class="string">&quot;vo&quot;</span>, cvo);</span><br><span class="line">model.addAttribute(<span class="string">&quot;list&quot;</span>, roleService.getList(cvo));</span><br><span class="line"><span class="keyword">return</span> VIEW+<span class="string">&quot;permission/role/list&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 权限编辑页面</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> model</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/editPermission&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">editPermission</span><span class="params">(Model model, HttpServletRequest request)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">String roleId=request.getParameter(<span class="string">&quot;roleId&quot;</span>);</span><br><span class="line"><span class="comment">//获取角色权限</span></span><br><span class="line">List&lt;PerGroupVo&gt; group=roleService.getPerGroupVoByUserId(Integer.parseInt(roleId));</span><br><span class="line">model.addAttribute(<span class="string">&quot;group&quot;</span>, group);</span><br><span class="line">model.addAttribute(<span class="string">&quot;roleId&quot;</span>, roleId);</span><br><span class="line"><span class="keyword">return</span> VIEW+<span class="string">&quot;permission/role/editPermission&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/savePer&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ModelAndView <span class="title">savePer</span><span class="params">(Model model, HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">HttpServletResponse response)</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">String[] perIds=request.getParameterValues(<span class="string">&quot;perId&quot;</span>);</span><br><span class="line">roleService.savePermission(perIds,Integer.parseInt(request.getParameter(<span class="string">&quot;roleId&quot;</span>)));</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line"><span class="keyword">return</span> ajaxDoneError(<span class="string">&quot;操作失败&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ajaxDoneSuccess(<span class="string">&quot;操作成功&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/add&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">add</span><span class="params">(Model model, HttpServletRequest request)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">model.addAttribute(<span class="string">&quot;role&quot;</span>, <span class="keyword">new</span> SysRole());</span><br><span class="line"><span class="keyword">return</span> VIEW+<span class="string">&quot;permission/role/roleEdit&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/edit&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">edit</span><span class="params">(Model model, HttpServletRequest request)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">String roleId=request.getParameter(<span class="string">&quot;roleId&quot;</span>);</span><br><span class="line">SysRole role=roleService.getRoleById(Integer.parseInt(roleId));</span><br><span class="line">model.addAttribute(<span class="string">&quot;role&quot;</span>, role);</span><br><span class="line"><span class="keyword">return</span> VIEW+<span class="string">&quot;permission/role/roleEdit&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/del&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ModelAndView <span class="title">del</span><span class="params">(Model model, HttpServletRequest request)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">String roleId=request.getParameter(<span class="string">&quot;roleId&quot;</span>);</span><br><span class="line">roleService.delRoleById(Integer.parseInt(roleId));</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line"><span class="keyword">return</span> ajaxDoneError(<span class="string">&quot;操作失败&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ajaxDoneSuccess(<span class="string">&quot;操作成功&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/save&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ModelAndView <span class="title">save</span><span class="params">(SysRole role,Model model, HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">HttpServletResponse response)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(role!=<span class="keyword">null</span>)</span><br><span class="line">&#123;</span><br><span class="line">roleService.saveShop(role);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ajaxDoneSuccess(<span class="string">&quot;操作成功&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="07-其它"><a href="#07-其它" class="headerlink" title="07 其它"></a>07 其它</h2><p>1、MySQL数据库账户</p><p>MySQL数据库默认端口：“3306”、数据库名：“kzfire”、账户名：“root”、密码：空。</p><p>2、SQL文件</p><p>SQL文件放在“MySQL数据库SQL文件” 目录，需通过“Navicat for MySQL”工具执行此SQL文件。</p><p>3、系统启动文件</p><p>系统启动文件是“webroot”目录下的“login.jsp”</p><p>4、系统登录用户名及密码</p><p>“login.jsp”启动（运行）后，正常情况下进入登录界面，用户名输入“admin”,密码输入“123456”。如果登录不进去，很有可能是数据库参数配置问题导致，请检查数据库参数配置文件，数据库参数配置文件放</p><h2 id="08-源码下载"><a href="#08-源码下载" class="headerlink" title="08 源码下载"></a>08 源码下载</h2><p>关注公众号【C you again】，回复“基于SSM框架的JavaWeb通用权限管理系统”免费领取。<br>亦可直接扫描主页二维码关注，回复“基于SSM框架的JavaWeb通用权限管理系统”免费领取，<a href="https://gzh.cyouagain.cn/">点此打开个人主页</a></p><p><img src="https://img-blog.csdnimg.cn/20200825104331765.jpg#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200825104331765.jpg#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p><strong>说明：此源码来源于网络，若有侵权，请联系删除！！</strong></p>]]></content>
    
    
    <summary type="html">Jsp 、SSM（Spring + Spring-MVC + Mybatis）、Shiro 、Mvc、Jdbc、MySQL、DWZ富客户端框架 + Jquery + Ajax实现通用权限管理系统</summary>
    
    
    
    <category term="系统源码" scheme="https://cyouagain.cn/categories/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    
    <category term="源码分享" scheme="https://cyouagain.cn/tags/%E6%BA%90%E7%A0%81%E5%88%86%E4%BA%AB/"/>
    
    <category term="系统源码" scheme="https://cyouagain.cn/tags/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    <category term="权限管理系统" scheme="https://cyouagain.cn/tags/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>基于SSM的宿舍管理系统（附 演示、源码下载地址）</title>
    <link href="https://cyouagain.cn/posts/51512.html"/>
    <id>https://cyouagain.cn/posts/51512.html</id>
    <published>2020-10-02T07:47:56.631Z</published>
    <updated>2020-10-02T14:41:48.878Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>宿舍管理是高校管理的重要组成部分，一套优秀的管理系统不仅可以降低宿舍管理的难度，也能在一定程度上减少学校管理费用的支出，能是建设现代化高校管理体系的重要标志。</p></blockquote><p>本篇文章将带你从运行环境搭建、系统设计、系统编码到整个系统的实现，对整个过程进行详细描述，特别适合作为程序员的进阶项目案列，同样也是高校学生毕业设计系统实现的不二之选！</p><h2 id="演示地址：宿舍管理系统演示地址，点我查看"><a href="#演示地址：宿舍管理系统演示地址，点我查看" class="headerlink" title="演示地址：宿舍管理系统演示地址，点我查看"></a>演示地址：<a href="https://dorm.cyouagain.cn/">宿舍管理系统演示地址，点我查看</a></h2><h2 id="1、系统架构模式"><a href="#1、系统架构模式" class="headerlink" title="1、系统架构模式"></a>1、系统架构模式</h2><p><strong>本宿舍管理系统采用B/S架构模式。</strong></p><p>B/S架构的全称为Browser/Server，即浏览器/服务器结构。Browser指的是Web浏览器，与C/S架构相比，B/S模式极少数事务逻辑在前端实现，它的主要事务逻辑在服务器端实现。B/S架构的系统无须特别安装，只有Web浏览器即可。</p><p><strong>B/S架构的分层：</strong></p><p>与C/S架构只有两层不同的是，B/S架构有三层，分别为：</p><ul><li>第一层表现层：主要完成用户和后台的交互及最终查询结果的输出功能。</li><li>第二层逻辑层：主要是利用服务器完成客户端的应用逻辑功能。</li><li>第三层数据层：主要是进行数据持久化存储。</li></ul><h2 id="2、技术选型"><a href="#2、技术选型" class="headerlink" title="2、技术选型"></a>2、技术选型</h2><p>选择合适的技术，整个项目就已经成功了一半，经过对系统需求和系统自身特点的分析，加上现代B/S模式主流架构解决方案，对本系统技术选型如下：</p><p><strong>数据表现层：</strong> Html+JavaScript+CSS+VUE</p><p><strong>业务逻辑层</strong> Java+Spring+SpringMVC</p><p><strong>数据持久层：</strong> MySql+MyBatis</p><p><strong>开发工具：</strong> Eclipse</p><h2 id="3、用户分析"><a href="#3、用户分析" class="headerlink" title="3、用户分析"></a>3、用户分析</h2><p>本系统主要应用于高校宿舍管理，使用人群如下：</p><ul><li>系统管理员：管理整个系统的安全运行，各个功能使用。</li><li>宿舍管理员：管理自己负责的宿管和学生</li><li>学生：查看浏览信息，提交任务</li></ul><h2 id="4、功能分析"><a href="#4、功能分析" class="headerlink" title="4、功能分析"></a>4、功能分析</h2><p><strong>系统管理员：</strong></p><ol><li>添加、修改、删除公告信息</li><li>添加、修改、删除宿舍管理员信息</li><li>添加、修改、删除学生信息</li><li>宿舍楼管理及其宿舍管理员分配</li><li>学生寝室管理</li><li>发布考勤、打卡任务</li><li>查看、修改个人信息</li></ol><p><img src="https://img-blog.csdnimg.cn/20200926123800845.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200926123800845.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>宿舍管理员：</strong></p><ol><li>查看公告</li><li>查看、删除自己管理的学生</li><li>添加、修改、删除考勤记录</li><li>查看学生打卡记录</li><li>查看、修改个人信息</li></ol><p><img src="https://img-blog.csdnimg.cn/20200926124203648.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200926124203648.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>学生：</strong></p><ol><li><p>查看公告</p></li><li><p>查看考勤记录</p></li><li><p>完成打卡任务，查看打卡记录</p></li><li><p>查看、修改个人信息</p><p><img src="https://img-blog.csdnimg.cn/20200926124529377.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200926124529377.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p></li></ol><h2 id="5、数据库设计"><a href="#5、数据库设计" class="headerlink" title="5、数据库设计"></a>5、数据库设计</h2><p>分析系统需求，数据库应有以下几张表：</p><p><strong>t_admin:</strong> 主要用于存储系统管理员数据</p><table><thead><tr><th>字段名称</th><th>类型</th><th>是否主键</th><th>说明</th></tr></thead><tbody><tr><td>adminId</td><td>int</td><td>是</td><td>管理员Id，唯一</td></tr><tr><td>userName</td><td>varchar</td><td>否</td><td>用户名</td></tr><tr><td>password</td><td>varchar</td><td>否</td><td>密码</td></tr><tr><td>name</td><td>varchar</td><td>否</td><td>真实名称</td></tr><tr><td>sex</td><td>varchar</td><td>否</td><td>性别</td></tr><tr><td>sex</td><td>varchar</td><td>否</td><td>电话</td></tr></tbody></table><p><strong>t_dormbuild:</strong> 存储宿舍楼信息</p><table><thead><tr><th>字段名称</th><th>类型</th><th>是否主键</th><th>说明</th></tr></thead><tbody><tr><td>dormBuildId</td><td>int</td><td>是</td><td>宿舍楼Id，唯一</td></tr><tr><td>dormBuildName</td><td>varchar</td><td>否</td><td>宿舍楼名称</td></tr><tr><td>dormBuildDetail</td><td>varchar</td><td>否</td><td>描述</td></tr></tbody></table><p><strong>t_dormmanager：</strong> 主要存储宿舍管理员信息</p><table><thead><tr><th>字段名称</th><th>类型</th><th>是否主键</th><th>说明</th></tr></thead><tbody><tr><td>dormManId</td><td>varchar</td><td>是</td><td>宿舍管理员Id，唯一</td></tr><tr><td>userName</td><td>varchar</td><td>否</td><td>用户名，用于登录系统</td></tr><tr><td>password</td><td>varchar</td><td>否</td><td>密码</td></tr><tr><td>dormBuildId</td><td>int</td><td>否</td><td>宿舍楼Id</td></tr><tr><td>dormBuildDetail</td><td>varchar</td><td>否</td><td>描述</td></tr><tr><td>name</td><td>varchar</td><td>否</td><td>真实姓名</td></tr><tr><td>sex</td><td>varchar</td><td>否</td><td>性别</td></tr><tr><td>tel</td><td>varchar</td><td>否</td><td>电话</td></tr></tbody></table><p><strong>t_notice:</strong> 用于存储公告信息</p><table><thead><tr><th>字段名称</th><th>类型</th><th>是否主键</th><th>说明</th></tr></thead><tbody><tr><td>noticeId</td><td>int</td><td>是</td><td>公告Id，唯一</td></tr><tr><td>noticePerson</td><td>varchar</td><td>否</td><td>公告发布人</td></tr><tr><td>date</td><td>date</td><td>否</td><td>公告发布日期</td></tr><tr><td>content</td><td>varchar</td><td>否</td><td>发布内容</td></tr></tbody></table><p><strong>t_punchclock：</strong> 用于存储打卡发布记录</p><table><thead><tr><th>字段名称</th><th>类型</th><th>是否主键</th><th>说明</th></tr></thead><tbody><tr><td>id</td><td>int</td><td>是</td><td>Id，唯一</td></tr><tr><td>theme</td><td>varchar</td><td>否</td><td>打卡主题</td></tr><tr><td>detail</td><td>varchar</td><td>否</td><td>打卡说明</td></tr><tr><td>date</td><td>varchar</td><td>否</td><td>发布日期</td></tr><tr><td>person</td><td>varchar</td><td>否</td><td>发布人</td></tr></tbody></table><p><strong>t_punchclockrecord：</strong> 用于存储打卡信息</p><table><thead><tr><th>字段名称</th><th>类型</th><th>是否主键</th><th>说明</th></tr></thead><tbody><tr><td>id</td><td>int</td><td>是</td><td>记录Id，唯一</td></tr><tr><td>punchClock_id</td><td>varchar</td><td>否</td><td>打卡Id</td></tr><tr><td>punchClock_date</td><td>date</td><td>否</td><td>发布日期</td></tr><tr><td>punchClock_theme</td><td>varchar</td><td>否</td><td>打卡主题</td></tr><tr><td>punchClock_detail</td><td>varchar</td><td>否</td><td>打卡说明</td></tr><tr><td>punchClock_person</td><td>varchar</td><td>否</td><td>发布人</td></tr><tr><td>name</td><td>varchar</td><td>否</td><td>学生姓名</td></tr><tr><td>dormName</td><td>varchar</td><td>否</td><td>寝室号</td></tr><tr><td>tel</td><td>varchar</td><td>否</td><td>学生电话</td></tr><tr><td>stuNum</td><td>varchar</td><td>否</td><td>学生学号</td></tr><tr><td>dormBuildId</td><td>int</td><td>否</td><td>宿舍楼</td></tr><tr><td>isRecord</td><td>tinyint</td><td>否</td><td>是否已经打卡</td></tr></tbody></table><p><strong>t_record：</strong> 用于存储考勤记录</p><table><thead><tr><th>字段名称</th><th>类型</th><th>是否主键</th><th>说明</th></tr></thead><tbody><tr><td>recordId</td><td>int</td><td>是</td><td>考勤Id，唯一</td></tr><tr><td>studentNumber</td><td>varchar</td><td>否</td><td>学生学号</td></tr><tr><td>dormBuildId</td><td>int</td><td>否</td><td>宿舍楼</td></tr><tr><td>dormName</td><td>varchar</td><td>否</td><td>寝室号</td></tr><tr><td>date</td><td>varchar</td><td>否</td><td>考勤日期</td></tr><tr><td>detail</td><td>varchar</td><td>否</td><td>详细说明</td></tr></tbody></table><p><strong>t_student:</strong> 学生表，用于存放学生信息</p><table><thead><tr><th>字段名称</th><th>类型</th><th>是否主键</th><th>说明</th></tr></thead><tbody><tr><td>studentId</td><td>int</td><td>是</td><td>学生Id，唯一</td></tr><tr><td>stuNum</td><td>varchar</td><td>否</td><td>学号</td></tr><tr><td>password</td><td>varchar</td><td>否</td><td>密码</td></tr><tr><td>name</td><td>varchar</td><td>否</td><td>姓名</td></tr><tr><td>dormBuildId</td><td>int</td><td>否</td><td>宿舍楼</td></tr><tr><td>dormName</td><td>varchar</td><td>否</td><td>寝室号</td></tr><tr><td>sex</td><td>varchar</td><td>否</td><td>性别</td></tr><tr><td>tel</td><td>varchar</td><td>否</td><td>电话</td></tr></tbody></table><h2 id="6、运行环境搭建"><a href="#6、运行环境搭建" class="headerlink" title="6、运行环境搭建"></a>6、运行环境搭建</h2><p>前面已经提到，本系统使用SSM框架，搭建过程较为繁琐，因此将此部分独立出来，作为一个专题，具体搭建过程请参考<a href="https://blog.csdn.net/qq_40625778/article/details/108738764">《手把手教你搭建SSM框架（Eclipse版）》</a> 这篇文章。搭建过程若出现其他问题，可以在<a href="https://gzh.cyouagain.cn/">公众号【C you again】</a> 后台私信。</p><h2 id="7、项目工程结构"><a href="#7、项目工程结构" class="headerlink" title="7、项目工程结构"></a>7、项目工程结构</h2><p>根据第六步搭建完系统运行环境后，工程结构目录如下图所示</p><p><img src="https://img-blog.csdnimg.cn/20200926161618970.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200926161618970.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>对工程结构各个目录的解释：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">com.cya.controller</span><br></pre></td></tr></table></figure><p>controller包用于存放接收请求的类，充当前后端数据交互的“桥梁”<br><img src="https://img-blog.csdnimg.cn/2020092616250568.png#pic_left" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/2020092616250568.png#pic_left" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">com.cya.service</span><br></pre></td></tr></table></figure><p>service包是所有业务逻辑的接口<br><img src="https://img-blog.csdnimg.cn/20200926162803593.png#pic_left" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200926162803593.png#pic_left" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">com.cya.service.impl</span><br></pre></td></tr></table></figure><p>service.impl包用于存放service接口的所有实现类<br><img src="https://img-blog.csdnimg.cn/20200926162956990.png#pic_left" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200926162956990.png#pic_left" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">com.cya.mapper</span><br></pre></td></tr></table></figure><p>mapper包用于存放对数据库操纵的接口和对应的xml实现<br><img src="https://img-blog.csdnimg.cn/20200926163235344.png#pic_left" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200926163235344.png#pic_left" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">com.cya.entity</span><br></pre></td></tr></table></figure><p>entity包用于存放项目中用到的所有实体类，它与数据库中的表相对应<br><img src="https://img-blog.csdnimg.cn/20200926163450155.png#pic_left" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200926163450155.png#pic_left" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>resources文件下存放SSM框架整合的必要配置文件，详情请看<a href="https://blog.csdn.net/qq_40625778/article/details/108738764">《手把手教你搭建SSM框架（Eclipse版）》</a><br><img src="https://img-blog.csdnimg.cn/2020092616374144.png#pic_left" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/2020092616374144.png#pic_left" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>dorm是存放所有model层文件的父级文件夹，其中admin，dormManager、student三个子文件夹存放系统管理员、宿舍管理员、学生三个角色对应的HTML文件。<br><img src="https://img-blog.csdnimg.cn/2020092616420276.png#pic_left" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/2020092616420276.png#pic_left" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h2 id="8、功能实现及展示"><a href="#8、功能实现及展示" class="headerlink" title="8、功能实现及展示"></a>8、功能实现及展示</h2><p>由于系统包含功能众多，在此无法一一列举，所以挑选几个代表做展示，如需获取完整源码请在公众号【C you again】回复“宿舍管理系统”。</p><h4 id="8-1-登录功能实现"><a href="#8-1-登录功能实现" class="headerlink" title="8.1 登录功能实现"></a>8.1 登录功能实现</h4><p>项目启动成功后，在浏览器地址栏输入：<a href="http://localhost:8080/dormManage/">http://localhost:8080/dormManage/</a> 进入用户登录界面如下图所示：<br><img src="https://img-blog.csdnimg.cn/20200926165247339.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200926165247339.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p><img src="https://img-blog.csdnimg.cn/20200926165939202.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200926165939202.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p>在此界面用户可以选择不同的角色登录，输入每个角色对应的登录信息后，首先会判断输入信息的有效性，做出相应的响应或提示。登录功能具体的实现代码如下，此处仅展示controller层代码，如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cya.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.management.relation.Role;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.tomcat.util.digester.ArrayStack;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.cya.entity.Login;</span><br><span class="line"><span class="keyword">import</span> com.cya.entity.Result;</span><br><span class="line"><span class="keyword">import</span> com.cya.service.ILoginService;</span><br><span class="line"><span class="keyword">import</span> com.cya.service.impl.LoginServiceImpl;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> ILoginService loginServiceImpl;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;login&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List <span class="title">login</span><span class="params">(HttpServletRequest request, <span class="meta">@RequestBody</span> Login login)</span> </span>&#123;</span><br><span class="line">List list=loginServiceImpl.login(login);</span><br><span class="line"><span class="keyword">if</span>(list.size()==<span class="number">1</span>) &#123;</span><br><span class="line">HttpSession session=request.getSession();</span><br><span class="line">session.setAttribute(login.getRole(), list);</span><br><span class="line">System.out.println(<span class="string">&quot;session=&quot;</span>+session.getAttribute(login.getRole()));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;getSession&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List <span class="title">getSession</span><span class="params">(HttpServletRequest request,<span class="meta">@RequestBody</span> Login login)</span></span>&#123;</span><br><span class="line">System.out.println(login);</span><br><span class="line">System.out.println(request.getSession().getAttribute(login.getRole()));</span><br><span class="line">List list=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">list.add(request.getSession().getAttribute(login.getRole()));</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;exitSys&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Result <span class="title">exitSys</span><span class="params">(HttpServletRequest request)</span> </span>&#123;</span><br><span class="line">String exit=<span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(request.getParameter(<span class="string">&quot;exit&quot;</span>)!=<span class="keyword">null</span>) &#123;</span><br><span class="line">exit=request.getParameter(<span class="string">&quot;exit&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">request.getSession().removeAttribute(exit);</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Result(<span class="keyword">true</span>, <span class="string">&quot;注销成功&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span> handle exception</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Result(<span class="keyword">false</span>, <span class="string">&quot;注销失败&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="8-2-发布公告功能实现"><a href="#8-2-发布公告功能实现" class="headerlink" title="8.2 发布公告功能实现"></a>8.2 发布公告功能实现</h4><p>在系统管理员端，有发布公告的权限，系统管理员点击添加公告按钮，输入相关信息后进行有效性校验，校验成功及代表公告发布成功。</p><p><img src="https://img-blog.csdnimg.cn/20200926170458326.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200926170458326.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>成功发布公告后，会出现在宿舍管理员端和学生端界面，效果图如下：</p><p><img src="https://img-blog.csdnimg.cn/2020092617100845.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/2020092617100845.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_left" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>公告模块主要代码以mapper层实现为例：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ******************** 公告 ******************* --&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getNoticeManage&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.cya.entity.Notice&quot;</span>&gt;</span></span><br><span class="line">   select * from t_notice</span><br><span class="line">   <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;filter==&#x27;date&#x27; and key !=&#x27;&#x27; &quot;</span>&gt;</span></span><br><span class="line">       date like concat(&quot;%&quot;,#&#123;key&#125;,&quot;%&quot;)</span><br><span class="line">     <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;addNoticeManage&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.cya.entity.Notice&quot;</span>&gt;</span></span><br><span class="line">   insert into t_notice(noticePerson,date,content) values(#&#123;noticePerson&#125;,current_date,#&#123;content&#125;)</span><br><span class="line"> <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"> <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getNoticeMangerById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;Integer&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.cya.entity.Notice&quot;</span>&gt;</span></span><br><span class="line">    select * from t_notice where noticeId=#&#123;noticeId&#125;</span><br><span class="line"> <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"> <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updataNoticeManageById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.cya.entity.Notice&quot;</span>&gt;</span></span><br><span class="line">   update t_notice set noticePerson=#&#123;noticePerson&#125;,content=#&#123;content&#125; where noticeId=#&#123;noticeId&#125;</span><br><span class="line"> <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"> <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;noticeManagerDeleteById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;Integer&quot;</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">    delete from t_notice where noticeId=#&#123;noticeId&#125;</span><br><span class="line"> <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ******************** 公告 ******************* --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="8-3-考勤记录功能实现"><a href="#8-3-考勤记录功能实现" class="headerlink" title="8.3 考勤记录功能实现"></a>8.3 考勤记录功能实现</h4><p>宿舍管理员根据自己所管理楼，对住在管理范围内的学生进行考勤，并添加考勤记录，学生端也会显示考勤信息。</p><p><img src="https://img-blog.csdnimg.cn/20200926171810741.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200926171810741.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>主要实现代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/getRecordMsg&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> PageResult <span class="title">getRecordMsg</span><span class="params">(HttpServletRequest request)</span></span>&#123;</span><br><span class="line">Integer pageNum=<span class="number">1</span>;</span><br><span class="line">Integer pageSize=<span class="number">20</span>;</span><br><span class="line">Integer dormBuildId=<span class="number">0</span>;</span><br><span class="line">String filter=request.getParameter(<span class="string">&quot;filter&quot;</span>);</span><br><span class="line">String key=request.getParameter(<span class="string">&quot;key&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(request.getParameter(<span class="string">&quot;pageNum&quot;</span>)!=<span class="keyword">null</span> &amp;&amp; request.getParameter(<span class="string">&quot;pageNum&quot;</span>)!=<span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">pageNum=Integer.parseInt(request.getParameter(<span class="string">&quot;pageNum&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(request.getParameter(<span class="string">&quot;pageSize&quot;</span>)!=<span class="keyword">null</span> &amp;&amp; request.getParameter(<span class="string">&quot;pageSize&quot;</span>)!=<span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">pageSize=Integer.parseInt(request.getParameter(<span class="string">&quot;pageSize&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(request.getParameter(<span class="string">&quot;dormBuildId&quot;</span>)!=<span class="keyword">null</span> &amp;&amp; request.getParameter(<span class="string">&quot;dormBuildId&quot;</span>)!=<span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">dormBuildId=Integer.parseInt(request.getParameter(<span class="string">&quot;dormBuildId&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">&quot;pageNum=&quot;</span>+pageNum);</span><br><span class="line">System.out.println(<span class="string">&quot;pageSize=&quot;</span>+pageSize);</span><br><span class="line"><span class="keyword">return</span> dormManageServiceImpl.getRecordMsg(pageNum, pageSize, filter, key, dormBuildId);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;getRecordById&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Record <span class="title">getRecordById</span><span class="params">(Integer recordId)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> dormManageServiceImpl.getRecordById(recordId);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;updataRecordMsg&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Result <span class="title">updataRecordMsg</span><span class="params">(<span class="meta">@RequestBody</span> Record record)</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">dormManageServiceImpl.updataRecordMsg(record);</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Result(<span class="keyword">true</span>, <span class="string">&quot;更新成功&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span> handle exception</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Result(<span class="keyword">false</span>, <span class="string">&quot;更新失败&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;addRecordMsg&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Result <span class="title">addRecordMsg</span><span class="params">(<span class="meta">@RequestBody</span> Record record)</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">System.out.println(record);</span><br><span class="line">dormManageServiceImpl.addRecordMsg(record);</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Result(<span class="keyword">true</span>, <span class="string">&quot;添加成功&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span> handle exception</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Result(<span class="keyword">false</span>, <span class="string">&quot;添加失败&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;recordManagerDeleteById1&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Result <span class="title">recordManagerDeleteById</span><span class="params">(HttpServletRequest request)</span> </span>&#123;</span><br><span class="line">Integer recordId=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(request.getParameter(<span class="string">&quot;recordId&quot;</span>)!=<span class="keyword">null</span> &amp;&amp; request.getParameter(<span class="string">&quot;recordId&quot;</span>)!=<span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">recordId=Integer.parseInt(request.getParameter(<span class="string">&quot;recordId&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">dormManageServiceImpl.recordManagerDeleteById1(recordId);</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Result(<span class="keyword">true</span>, <span class="string">&quot;删除成功&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span> handle exception</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Result(<span class="keyword">false</span>, <span class="string">&quot;删除失败&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="9、源码下载"><a href="#9、源码下载" class="headerlink" title="9、源码下载"></a>9、源码下载</h2><p>若需获取本系统源码请在公众号【C you again】回复“宿舍管理系统”</p><p>你也可以点击此链接<a href="https://gzh.cyouagain.cn/">快速回复</a></p><h2 id="10、相关说明"><a href="#10、相关说明" class="headerlink" title="10、相关说明"></a>10、相关说明</h2><ol><li>制作不易，记得点赞+收藏+转发</li><li>本人技术有限，若有错误欢迎指正</li><li>本系统和文章均属于【C you again】原创，欢迎个人博客、各大网站转载，但请注明转载地址</li></ol><h4 id="演示地址：宿舍管理系统演示"><a href="#演示地址：宿舍管理系统演示" class="headerlink" title="演示地址：宿舍管理系统演示"></a>演示地址：<a href="https://dorm.cyouagain.cn/">宿舍管理系统演示</a></h4>]]></content>
    
    
    <summary type="html">JavaWeb宿舍管理系统</summary>
    
    
    
    <category term="系统源码" scheme="https://cyouagain.cn/categories/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    
    <category term="源码分享" scheme="https://cyouagain.cn/tags/%E6%BA%90%E7%A0%81%E5%88%86%E4%BA%AB/"/>
    
    <category term="系统源码" scheme="https://cyouagain.cn/tags/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    <category term="宿舍管理系统" scheme="https://cyouagain.cn/tags/%E5%AE%BF%E8%88%8D%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"/>
    
    <category term="寝室管理系统" scheme="https://cyouagain.cn/tags/%E5%AF%9D%E5%AE%A4%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>基于ssm的客户管理系统</title>
    <link href="https://cyouagain.cn/posts/5070.html"/>
    <id>https://cyouagain.cn/posts/5070.html</id>
    <published>2020-10-02T07:47:56.628Z</published>
    <updated>2020-10-02T14:41:24.612Z</updated>
    
    <content type="html"><![CDATA[<h2 id="查看更多系统：系统大全，课程设计、毕业设计，请点击这里查看"><a href="#查看更多系统：系统大全，课程设计、毕业设计，请点击这里查看" class="headerlink" title="查看更多系统：系统大全，课程设计、毕业设计，请点击这里查看"></a>查看更多系统：<a href="https://blog.csdn.net/qq_40625778/article/details/108213145">系统大全，课程设计、毕业设计，请点击这里查看</a></h2><h2 id="01-概述"><a href="#01-概述" class="headerlink" title="01 概述"></a>01 概述</h2><p>一个简单的客户关系管理系统 管理用户的基本数据 客户的分配 客户的流失 已经客户的状态</p><h2 id="02-技术"><a href="#02-技术" class="headerlink" title="02 技术"></a>02 技术</h2><blockquote><p>ssm + jdk1.8 + mysql5.4</p></blockquote><h2 id="03-运行环境"><a href="#03-运行环境" class="headerlink" title="03 运行环境"></a>03 运行环境</h2><blockquote><p>ecplice + jdk1.8 + tomcat</p></blockquote><h2 id="04-功能"><a href="#04-功能" class="headerlink" title="04 功能"></a>04 功能</h2><p>1- 字典管理</p><p>2- 用户管理</p><p>3- 角色管理</p><p>4- 权限管理</p><p>5- 部门管理</p><p>6-客户信息管理 </p><p>7-数据添加-编辑-删除</p><p>8-客户信息的跟进</p><p>9-客户信息状态</p><h2 id="05-运行截图"><a href="#05-运行截图" class="headerlink" title="05 运行截图"></a>05 运行截图</h2><h4 id="客户信息"><a href="#客户信息" class="headerlink" title="客户信息"></a>客户信息</h4><p><img src="https://img-blog.csdnimg.cn/2020082515561175.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/2020082515561175.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="跟进信息"><a href="#跟进信息" class="headerlink" title="跟进信息"></a>跟进信息</h4><p><img src="https://img-blog.csdnimg.cn/20200825155633457.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200825155633457.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="登录信息"><a href="#登录信息" class="headerlink" title="登录信息"></a>登录信息</h4><p><img src="https://img-blog.csdnimg.cn/20200825155707568.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200825155707568.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="权限管理"><a href="#权限管理" class="headerlink" title="权限管理"></a>权限管理</h4><p><img src="https://img-blog.csdnimg.cn/20200825155741853.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200825155741853.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h2 id="06-主要代码"><a href="#06-主要代码" class="headerlink" title="06 主要代码"></a>06 主要代码</h2><h4 id="客户信息-1"><a href="#客户信息-1" class="headerlink" title="客户信息"></a>客户信息</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.ModelMap;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PathVariable;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.dao.KhClientinfoMapper;</span><br><span class="line"><span class="keyword">import</span> com.dao.KhHuiMapper;</span><br><span class="line"><span class="keyword">import</span> com.dao.LogsMapper;</span><br><span class="line"><span class="keyword">import</span> com.entity.KhClientinfo;</span><br><span class="line"><span class="keyword">import</span> com.entity.KhHui;</span><br><span class="line"><span class="keyword">import</span> com.entity.Logs;</span><br><span class="line"><span class="keyword">import</span> com.util.Pagination;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/khclient&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">KhClientinfoController</span> <span class="keyword">extends</span> <span class="title">BaseController</span></span>&#123;</span><br><span class="line"><span class="meta">@Resource</span><span class="comment">//客户表</span></span><br><span class="line">KhClientinfoMapper khclientDao;</span><br><span class="line"><span class="meta">@Resource</span><span class="comment">//客户跟进表</span></span><br><span class="line">KhHuiMapper khhuiDao;</span><br><span class="line"><span class="meta">@Resource</span></span><br><span class="line">LogsMapper logsDao;</span><br><span class="line"><span class="comment">//客户表显示</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/show&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">show</span><span class="params">(Integer index,HttpServletRequest request)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> pageNO = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(index!=<span class="keyword">null</span>)&#123;</span><br><span class="line">pageNO = index;</span><br><span class="line">&#125;</span><br><span class="line">String names = (String) request.getSession().getAttribute(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">String relo = (String) request.getSession().getAttribute(<span class="string">&quot;relo&quot;</span>);</span><br><span class="line">Pagination pager = <span class="keyword">new</span> Pagination();</span><br><span class="line">Map params = <span class="keyword">new</span> HashMap();</span><br><span class="line">params.put(<span class="string">&quot;start&quot;</span>, (pageNO-<span class="number">1</span>)*<span class="number">40</span>);</span><br><span class="line">params.put(<span class="string">&quot;pagesize&quot;</span>, <span class="number">40</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="string">&quot;客服&quot;</span>.equals(relo)) &#123;</span><br><span class="line">params.put(<span class="string">&quot;kefuname&quot;</span>, names);</span><br><span class="line">&#125;</span><br><span class="line">List all = khclientDao.show(params);</span><br><span class="line">pager.setData(all);</span><br><span class="line">pager.setIndex(pageNO);</span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;pageNO&quot;</span>, pager.getIndex());</span><br><span class="line">pager.setPageSize(<span class="number">40</span>);</span><br><span class="line">pager.setTotal(khclientDao.getTotal());</span><br><span class="line">pager.setPath(<span class="string">&quot;show.do?&quot;</span>);</span><br><span class="line">request.setAttribute(<span class="string">&quot;pager&quot;</span>, pager);</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;client/cl-show&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//客户表新建</span></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/add&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">add</span><span class="params">(KhClientinfo data,HttpServletRequest request)</span> </span>&#123;</span><br><span class="line">Date now = <span class="keyword">new</span> Date();</span><br><span class="line">SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd&quot;</span>);<span class="comment">//设置时间显示格式</span></span><br><span class="line">String str = sdf.format(now);</span><br><span class="line">String names = (String) request.getSession().getAttribute(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">data.setKehuday(str);</span><br><span class="line">data.setKefuname(names);</span><br><span class="line">data.setKhstate(<span class="string">&quot;未到访&quot;</span>);</span><br><span class="line">Date time = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">&quot;A:已交房客户&quot;</span>.equals(data.getKehulei())) &#123;</span><br><span class="line">time= <span class="keyword">new</span> Date(now.getTime() + (<span class="keyword">long</span>)<span class="number">3</span> * <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>);<span class="comment">//加3天</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">&quot;B:3个月内交房客户&quot;</span>.equals(data.getKehulei())) &#123;</span><br><span class="line">time= <span class="keyword">new</span> Date(now.getTime() + (<span class="keyword">long</span>)<span class="number">7</span> * <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>);<span class="comment">//加7天</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">&quot;C:3-6交房客户&quot;</span>.equals(data.getKehulei())) &#123;</span><br><span class="line">time= <span class="keyword">new</span> Date(now.getTime() + (<span class="keyword">long</span>)<span class="number">15</span> * <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>);<span class="comment">//加15天</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">&quot;D:6个月以上交房客户&quot;</span>.equals(data.getKehulei())) &#123;</span><br><span class="line">time= <span class="keyword">new</span> Date(now.getTime() + (<span class="keyword">long</span>)<span class="number">30</span> * <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>);<span class="comment">//加30天</span></span><br><span class="line">&#125;</span><br><span class="line">String stc = sdf.format(time);</span><br><span class="line"><span class="keyword">if</span> (data.getKehutel().length()&gt;<span class="number">1</span>) &#123;</span><br><span class="line">KhClientinfo khClient=khclientDao.tel(data.getKehutel());</span><br><span class="line"><span class="keyword">if</span> (khClient!=<span class="keyword">null</span>) &#123;</span><br><span class="line">request.setAttribute(<span class="string">&quot;all&quot;</span>, khClient.getKefuname());</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;client/chongfu&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">khclientDao.insertSelective(data);</span><br><span class="line">KhClientinfo khClientinfo=khclientDao.isdn();</span><br><span class="line">KhHui khHui=<span class="keyword">new</span> KhHui();</span><br><span class="line">khHui.setYuday(stc);</span><br><span class="line">khHui.setWenti(<span class="string">&quot;客户第一次跟进&quot;</span>);</span><br><span class="line">khHui.setInid(khClientinfo.getId());</span><br><span class="line">khHui.setScday(str);</span><br><span class="line">khhuiDao.insertSelective(khHui);</span><br><span class="line">Integer pagerNO=(Integer)request.getSession().getAttribute(<span class="string">&quot;pageNO&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;redirect:/khclient/show?index=&quot;</span>+pagerNO;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//客户表删除</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/&#123;id&#125;/del&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">del</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> <span class="keyword">int</span> id,HttpServletRequest request)</span> </span>&#123;</span><br><span class="line">SimpleDateFormat format = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>); <span class="comment">// 时间字符串产生方式</span></span><br><span class="line">        String uid = format.format(<span class="keyword">new</span> Date());</span><br><span class="line">        String names = (String) request.getSession().getAttribute(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        KhClientinfo khClientinfo=khclientDao.selectByPrimaryKey(id);</span><br><span class="line">Logs logs =<span class="keyword">new</span> Logs();</span><br><span class="line">logs.setDay(uid);</span><br><span class="line">logs.setLoname(names);</span><br><span class="line">logs.setLei(<span class="string">&quot;删除&quot;</span>);</span><br><span class="line">logs.setBiaoid(khClientinfo.getKuhuname()+<span class="string">&quot;+&quot;</span>+khClientinfo.getKehutel());</span><br><span class="line">logs.setBiao(<span class="string">&quot;客户表及跟进详情&quot;</span>);</span><br><span class="line">logsDao.insertSelective(logs);</span><br><span class="line"></span><br><span class="line">khclientDao.deleteByPrimaryKey(id);</span><br><span class="line">Integer pagerNO=(Integer)request.getSession().getAttribute(<span class="string">&quot;pageNO&quot;</span>);</span><br><span class="line">String like=request.getParameter(<span class="string">&quot;like&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (like!=<span class="keyword">null</span>&amp;&amp;like.length()&gt;<span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;redirect:/khclient/like?index=&quot;</span>+pagerNO;</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;redirect:/khclient/show?index=&quot;</span>+pagerNO;</span><br><span class="line">&#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//客户表编辑前取数据</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/&#123;id&#125;/load&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">load</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> <span class="keyword">int</span> id,HttpServletRequest request, ModelMap model)</span> </span>&#123;</span><br><span class="line">KhClientinfo record = (KhClientinfo) khclientDao.selectByPrimaryKey(id);</span><br><span class="line">model.addAttribute(<span class="string">&quot;record&quot;</span>, record);</span><br><span class="line">String like=request.getParameter(<span class="string">&quot;like&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (like!=<span class="keyword">null</span>) &#123;</span><br><span class="line">request.setAttribute(<span class="string">&quot;like&quot;</span>, like);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;client/cl-modify&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//客户表编辑</span></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/update&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">update</span><span class="params">(KhClientinfo data,HttpServletRequest request)</span> </span>&#123;</span><br><span class="line">khclientDao.updateByPrimaryKeySelective(data);</span><br><span class="line">Integer pagerNO=(Integer)request.getSession().getAttribute(<span class="string">&quot;pageNO&quot;</span>);</span><br><span class="line">String like=request.getParameter(<span class="string">&quot;like&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (like!=<span class="keyword">null</span>&amp;&amp;like.length()&gt;<span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;redirect:/khclient/like?index=&quot;</span>+pagerNO;</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;redirect:/khclient/show?index=&quot;</span>+pagerNO;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//客户表模糊查找</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/like&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">like</span><span class="params">(Integer index, KhClientinfo data,HttpServletRequest request)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> pageNO = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(index!=<span class="keyword">null</span>)&#123;</span><br><span class="line">pageNO = index;</span><br><span class="line">&#125;</span><br><span class="line">Pagination pager = <span class="keyword">new</span> Pagination();</span><br><span class="line">Map params = <span class="keyword">new</span> HashMap();</span><br><span class="line">String lk=request.getParameter(<span class="string">&quot;lk&quot;</span>);</span><br><span class="line">String names = (String) request.getSession().getAttribute(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">String relo = (String) request.getSession().getAttribute(<span class="string">&quot;relo&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (lk!=<span class="keyword">null</span>&amp;&amp;lk.length()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;kuhuname&quot;</span>,data.getKuhuname());</span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;kehuaddres&quot;</span>,data.getKehuaddres());</span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;kehutel&quot;</span>,data.getKehutel());</span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;kehulei&quot;</span>,data.getKehulei());</span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;kehugenre&quot;</span>,data.getKehugenre());</span><br><span class="line"></span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;kaiday&quot;</span>,data.getKaiday());</span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;weixin&quot;</span>,data.getWeixin());</span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;channel&quot;</span>,data.getChannel());</span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;khstate&quot;</span>,data.getKhstate());</span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;kefuname&quot;</span>,data.getKefuname());</span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;kehuday&quot;</span>,data.getKehuday());</span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;qu&quot;</span>,data.getQu());</span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;an&quot;</span>,data.getAn());</span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;jiename&quot;</span>,data.getJiename());</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">String qu= (String) request.getSession().getAttribute(<span class="string">&quot;qu&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(qu!=<span class="keyword">null</span>&amp;&amp;qu.length()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">params.put(<span class="string">&quot;qu&quot;</span>, qu);</span><br><span class="line">&#125;</span><br><span class="line">String an= (String) request.getSession().getAttribute(<span class="string">&quot;an&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(an!=<span class="keyword">null</span>&amp;&amp;an.length()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">params.put(<span class="string">&quot;an&quot;</span>, an);</span><br><span class="line">&#125;</span><br><span class="line">String jiename= (String) request.getSession().getAttribute(<span class="string">&quot;jiename&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(jiename!=<span class="keyword">null</span>&amp;&amp;jiename.length()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">params.put(<span class="string">&quot;jiename&quot;</span>, jiename);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">String kaiday= (String) request.getSession().getAttribute(<span class="string">&quot;kaiday&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(kaiday!=<span class="keyword">null</span>&amp;&amp;kaiday.length()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">params.put(<span class="string">&quot;kaiday&quot;</span>, kaiday);</span><br><span class="line">&#125;</span><br><span class="line">String weixin= (String) request.getSession().getAttribute(<span class="string">&quot;weixin&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(weixin!=<span class="keyword">null</span>&amp;&amp;weixin.length()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">params.put(<span class="string">&quot;weixin&quot;</span>, weixin);</span><br><span class="line">&#125;</span><br><span class="line">String channel= (String) request.getSession().getAttribute(<span class="string">&quot;channel&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(channel!=<span class="keyword">null</span>&amp;&amp;channel.length()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">params.put(<span class="string">&quot;channel&quot;</span>, channel);</span><br><span class="line">&#125;</span><br><span class="line">String khstate= (String) request.getSession().getAttribute(<span class="string">&quot;khstate&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(khstate!=<span class="keyword">null</span>&amp;&amp;khstate.length()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">params.put(<span class="string">&quot;khstate&quot;</span>, khstate);</span><br><span class="line">&#125;</span><br><span class="line">String kehuday= (String) request.getSession().getAttribute(<span class="string">&quot;kehuday&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(kehuday!=<span class="keyword">null</span>&amp;&amp;kehuday.length()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">params.put(<span class="string">&quot;kehuday&quot;</span>, kehuday);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">String kuhuname= (String) request.getSession().getAttribute(<span class="string">&quot;kuhuname&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(kuhuname!=<span class="keyword">null</span>&amp;&amp;kuhuname.length()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">params.put(<span class="string">&quot;kuhuname&quot;</span>, kuhuname);</span><br><span class="line">&#125;</span><br><span class="line">String kehuaddres= (String) request.getSession().getAttribute(<span class="string">&quot;kehuaddres&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(kehuaddres!=<span class="keyword">null</span>&amp;&amp;kehuaddres.length()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">params.put(<span class="string">&quot;kehuaddres&quot;</span>, kehuaddres);</span><br><span class="line">&#125;</span><br><span class="line">String kehugenre= (String) request.getSession().getAttribute(<span class="string">&quot;kehugenre&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(kehugenre!=<span class="keyword">null</span>&amp;&amp;kehugenre.length()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">params.put(<span class="string">&quot;kehugenre&quot;</span>, kehugenre);</span><br><span class="line">&#125;</span><br><span class="line">String kehulei= (String) request.getSession().getAttribute(<span class="string">&quot;kehulei&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(kehulei!=<span class="keyword">null</span>&amp;&amp;kehulei.length()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">params.put(<span class="string">&quot;kehulei&quot;</span>, kehulei);</span><br><span class="line">&#125;</span><br><span class="line">String kehutel= (String) request.getSession().getAttribute(<span class="string">&quot;kehutel&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(kehutel!=<span class="keyword">null</span>&amp;&amp;kehutel.length()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">params.put(<span class="string">&quot;kehutel&quot;</span>, kehutel);</span><br><span class="line">&#125;</span><br><span class="line">String kefuname= (String) request.getSession().getAttribute(<span class="string">&quot;kefuname&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="string">&quot;客服&quot;</span>.equals(relo)) &#123;</span><br><span class="line">params.put(<span class="string">&quot;kefuname&quot;</span>, names);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(kefuname!=<span class="keyword">null</span>&amp;&amp;kefuname.length()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">params.put(<span class="string">&quot;kefuname&quot;</span>, kefuname);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">params.put(<span class="string">&quot;start&quot;</span>, (pageNO-<span class="number">1</span>)*<span class="number">40</span>);</span><br><span class="line">params.put(<span class="string">&quot;pagesize&quot;</span>,<span class="number">40</span>);</span><br><span class="line">List all = khclientDao.like(params);</span><br><span class="line">pager.setData(all);</span><br><span class="line">pager.setIndex(pageNO);</span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;pageNO&quot;</span>,pager.getIndex());</span><br><span class="line">pager.setPageSize(<span class="number">40</span>);</span><br><span class="line">pager.setTotal(khclientDao.getlikeTotal(params));</span><br><span class="line">pager.setPath(<span class="string">&quot;like?&quot;</span>);</span><br><span class="line">request.setAttribute(<span class="string">&quot;pager&quot;</span>, pager);</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;client/cl-showlike&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="用户登录"><a href="#用户登录" class="headerlink" title="用户登录"></a>用户登录</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.ModelMap;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> com.dao.LogMapper;</span><br><span class="line"><span class="keyword">import</span> com.dao.LogsMapper;</span><br><span class="line"><span class="keyword">import</span> com.entity.Log;</span><br><span class="line"><span class="keyword">import</span> com.util.Pagination;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/log&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LogController</span> <span class="keyword">extends</span> <span class="title">BaseController</span></span>&#123;</span><br><span class="line"><span class="meta">@Resource</span></span><br><span class="line">LogMapper logDao;</span><br><span class="line"><span class="meta">@Resource</span></span><br><span class="line">LogsMapper logsDao;</span><br><span class="line"></span><br><span class="line"><span class="comment">//登录信息显示</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/show&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">show</span><span class="params">(Integer index,HttpServletRequest request,ModelMap model)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> pageNO = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(index!=<span class="keyword">null</span>)&#123;</span><br><span class="line">pageNO = index;</span><br><span class="line">&#125;</span><br><span class="line">Pagination pager = <span class="keyword">new</span> Pagination();</span><br><span class="line">Map params = <span class="keyword">new</span> HashMap();</span><br><span class="line">params.put(<span class="string">&quot;start&quot;</span>, (pageNO-<span class="number">1</span>)*<span class="number">40</span>);</span><br><span class="line">params.put(<span class="string">&quot;pagesize&quot;</span>, <span class="number">40</span>);</span><br><span class="line">List all = logDao.show(params);</span><br><span class="line">pager.setData(all);</span><br><span class="line">pager.setIndex(pageNO);</span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;pageNO&quot;</span>, pager.getIndex());</span><br><span class="line">pager.setPageSize(<span class="number">40</span>);</span><br><span class="line">pager.setTotal(logDao.getTotal());</span><br><span class="line">pager.setPath(<span class="string">&quot;show.do?&quot;</span>);</span><br><span class="line">request.setAttribute(<span class="string">&quot;pager&quot;</span>, pager);</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;dept/denlu/show&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//登录信息模糊查找</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/like&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">like</span><span class="params">(Integer index, Log data,HttpServletRequest request)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> pageNO = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(index!=<span class="keyword">null</span>)&#123;</span><br><span class="line">pageNO = index;</span><br><span class="line">&#125;</span><br><span class="line">Pagination pager = <span class="keyword">new</span> Pagination();</span><br><span class="line">Map params = <span class="keyword">new</span> HashMap();</span><br><span class="line">String lk=request.getParameter(<span class="string">&quot;lk&quot;</span>);</span><br><span class="line">String account=<span class="string">&quot;&quot;</span>;</span><br><span class="line">String onlineTime=<span class="string">&quot;&quot;</span>;</span><br><span class="line">String exitTime=<span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (lk!=<span class="keyword">null</span>&amp;&amp;lk.length()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;account&quot;</span>,data.getAccount());</span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;onlineTime&quot;</span>,data.getOnlineTime());</span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;exitTime&quot;</span>,data.getExitTime());</span><br><span class="line">&#125;</span><br><span class="line">account=(String) request.getSession().getAttribute(<span class="string">&quot;account&quot;</span>);</span><br><span class="line">onlineTime=(String) request.getSession().getAttribute(<span class="string">&quot;onlineTime&quot;</span>);</span><br><span class="line">exitTime=(String) request.getSession().getAttribute(<span class="string">&quot;exitTime&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(account!=<span class="keyword">null</span>&amp;&amp;account.length()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">params.put(<span class="string">&quot;account&quot;</span>,account);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(onlineTime!=<span class="keyword">null</span>&amp;&amp;onlineTime.length()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">params.put(<span class="string">&quot;onlineTime&quot;</span>,onlineTime);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(exitTime!=<span class="keyword">null</span>&amp;&amp;exitTime.length()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">params.put(<span class="string">&quot;exitTime&quot;</span>,exitTime);</span><br><span class="line">&#125;</span><br><span class="line">        params.put(<span class="string">&quot;start&quot;</span>, (pageNO-<span class="number">1</span>)*<span class="number">40</span>);</span><br><span class="line">params.put(<span class="string">&quot;pagesize&quot;</span>, <span class="number">40</span>);</span><br><span class="line">List all = logDao.like(params);</span><br><span class="line">pager.setData(all);</span><br><span class="line">pager.setIndex(pageNO);</span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;pageNO&quot;</span>, pager.getIndex());</span><br><span class="line">pager.setPageSize(<span class="number">40</span>);</span><br><span class="line">pager.setTotal(logDao.getlikeTotal(params));</span><br><span class="line">pager.setPath(<span class="string">&quot;like.do?&quot;</span>);</span><br><span class="line">request.setAttribute(<span class="string">&quot;pager&quot;</span>, pager);</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;dept/denlu/show&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//个人操作记录显示</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/shows&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">shows</span><span class="params">(Integer index,HttpServletRequest request,ModelMap model)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> pageNO = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(index!=<span class="keyword">null</span>)&#123;</span><br><span class="line">pageNO = index;</span><br><span class="line">&#125;</span><br><span class="line">Pagination pager = <span class="keyword">new</span> Pagination();</span><br><span class="line">Map params = <span class="keyword">new</span> HashMap();</span><br><span class="line">params.put(<span class="string">&quot;start&quot;</span>, (pageNO-<span class="number">1</span>)*<span class="number">40</span>);</span><br><span class="line">params.put(<span class="string">&quot;pagesize&quot;</span>, <span class="number">40</span>);</span><br><span class="line">List all = logsDao.show(params);</span><br><span class="line">pager.setData(all);</span><br><span class="line">pager.setIndex(pageNO);</span><br><span class="line">request.getSession().setAttribute(<span class="string">&quot;pageNO&quot;</span>, pager.getIndex());</span><br><span class="line">pager.setPageSize(<span class="number">40</span>);</span><br><span class="line">pager.setTotal(logsDao.getTotal());</span><br><span class="line">pager.setPath(<span class="string">&quot;shows.do?&quot;</span>);</span><br><span class="line">request.setAttribute(<span class="string">&quot;pager&quot;</span>, pager);</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;dept/caozuo/show&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="07-源码下载"><a href="#07-源码下载" class="headerlink" title="07 源码下载"></a>07 源码下载</h2><p>关注公众号【C you again】，回复“基于ssm的客户管理系统”免费领取。<br>亦可直接扫描主页二维码关注，回复“基于ssm的客户管理系统”免费领取，<a href="https://gzh.cyouagain.cn/">点此打开个人主页</a></p><p><img src="https://img-blog.csdnimg.cn/20200825104331765.jpg#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200825104331765.jpg#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h2 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h2><ul><li>找到文件夹sql中的sql文件，导入到mysql中</li><li>将工程导入到eclipse中，修改数据库连接信息</li><li>启动项目，浏览器地址栏输入：<a href="http://localhost:8080/ssmClient">http://localhost:8080/ssmClient</a></li></ul><p><strong>说明：此源码来源于网络，若有侵权，请联系删除！！</strong></p>]]></content>
    
    
    <summary type="html">ssm + jdk1.8 + mysql5.4实现客户管理系统</summary>
    
    
    
    <category term="系统源码" scheme="https://cyouagain.cn/categories/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    
    <category term="源码分享" scheme="https://cyouagain.cn/tags/%E6%BA%90%E7%A0%81%E5%88%86%E4%BA%AB/"/>
    
    <category term="系统源码" scheme="https://cyouagain.cn/tags/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    <category term="客户管理系统" scheme="https://cyouagain.cn/tags/%E5%AE%A2%E6%88%B7%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>基于SSH框架的人力资源管理系统设计与实现</title>
    <link href="https://cyouagain.cn/posts/65258.html"/>
    <id>https://cyouagain.cn/posts/65258.html</id>
    <published>2020-10-02T07:47:56.622Z</published>
    <updated>2020-10-02T14:40:53.439Z</updated>
    
    <content type="html"><![CDATA[<h2 id="查看更多系统：系统大全，课程设计、毕业设计，请点击这里查看"><a href="#查看更多系统：系统大全，课程设计、毕业设计，请点击这里查看" class="headerlink" title="查看更多系统：系统大全，课程设计、毕业设计，请点击这里查看"></a>查看更多系统：<a href="https://blog.csdn.net/qq_40625778/article/details/108213145">系统大全，课程设计、毕业设计，请点击这里查看</a></h2><blockquote><p>大家好，应各位粉丝的要求的，今天给大家分享下人力资源管理系统，需要源码的同志在公众号【C you again】后台回复“基于SSH框架的人力资源管理系统”获取。提前声明：此系统来源于网络，本人只做了收集整理，如果侵权，请联系删除。</p></blockquote><h2 id="01-概述"><a href="#01-概述" class="headerlink" title="01 概述"></a>01 概述</h2><p>人力资源管理系统（Human Resource Management system ，以下简称HRMS）是将以计算机为基础的管理信息系统应用于人力资源管理而形成的一种现代化的人力资源管理方法和手段，是对信息技术与人力资源管理技术结合的最佳定义。</p><p>　　人力资源是企业的第一资源，如何有效地管理、利用和开发这一资源 ，是摆在每一位管理者面前必须重视的大事。人力资源管理工作可分为建立规章制度的基础性工作、基于标准操作流程的例行性工作、人力资源规划等战略性工作以及企业文化建设、职工职业生涯设计等开拓性工作。其中，大量的例行性工作往往占据了人力资源管理工作人员的大部分时间。如果能建立起人力资源管理信息系统，把这部分工作分离出来，用计算机来进行管理，必将能大大提高人力资源管理人员的工作效率。同时，利用人力资源管理信息系统中存储的大量历史信息，建立起企业人力资源决策支持系统，可为领导决策提供有用的参考信息。</p><h2 id="02-技术"><a href="#02-技术" class="headerlink" title="02 技术"></a>02 技术</h2><blockquote><p>Spring+SpringMVC+ Hibernate+ MySql </p></blockquote><h2 id="03-运行环境"><a href="#03-运行环境" class="headerlink" title="03 运行环境"></a>03 运行环境</h2><blockquote><p>Java1.8 + MySql + Eclipse</p></blockquote><h2 id="04-功能概述"><a href="#04-功能概述" class="headerlink" title="04 功能概述"></a>04 功能概述</h2><p>本系统主要有部门管理、员工管理、招聘管理、培训管理、奖罚管理、薪资管理、个人信息管理七大模块。</p><p>部门管理：此模块可以查看所有部门的详细信息，如：部门名称，部门创建时间，部门人数。也可以对某个部门进行修改删除操作，除此以外，还可以添加部门。</p><p>员工管理：员工管理模块有查看、修改、添加、删除员工信息的功能。</p><p>招聘管理：本模块可以查看求职人员的具体信息，包括姓名、性别、应聘职位、工作经验等等，也可以对应聘人员进行删除、录用。</p><p>培训管理：此模块用来发布企业的培训信息，如培训时间，培训地址，培训课程和培训人员等等。</p><p>奖罚管理：记录企业员工的奖罚情况。</p><p>薪资管理：管理企业员工薪资，有调整薪资，添加员工及薪资，删除员工及薪资等功能。</p><p>个人信息管理：查看修改个人信息。</p><h2 id="05-运行截图"><a href="#05-运行截图" class="headerlink" title="05 运行截图"></a>05 运行截图</h2><h4 id="部门管理"><a href="#部门管理" class="headerlink" title="部门管理"></a>部门管理</h4><p><img src="https://img-blog.csdnimg.cn/20200827190417116.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200827190417116.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="员工管理"><a href="#员工管理" class="headerlink" title="员工管理"></a>员工管理</h4><p><img src="https://img-blog.csdnimg.cn/2020082719045618.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/2020082719045618.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="招聘管理"><a href="#招聘管理" class="headerlink" title="招聘管理"></a>招聘管理</h4><p><img src="https://img-blog.csdnimg.cn/2020082719052441.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/2020082719052441.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20200827190538527.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200827190538527.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="奖罚管理"><a href="#奖罚管理" class="headerlink" title="奖罚管理"></a>奖罚管理</h4><p><img src="https://img-blog.csdnimg.cn/20200827190607911.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200827190607911.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="薪资管理"><a href="#薪资管理" class="headerlink" title="薪资管理"></a>薪资管理</h4><p><img src="https://img-blog.csdnimg.cn/20200827190630366.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200827190630366.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="个人信息管理"><a href="#个人信息管理" class="headerlink" title="个人信息管理"></a>个人信息管理</h4><p><img src="https://img-blog.csdnimg.cn/20200827190710265.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200827190710265.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h2 id="06-主要代码"><a href="#06-主要代码" class="headerlink" title="06 主要代码"></a>06 主要代码</h2><h4 id="部门管理-1"><a href="#部门管理-1" class="headerlink" title="部门管理"></a>部门管理</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wy.action;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.struts.action.ActionForm;</span><br><span class="line"><span class="keyword">import</span> org.apache.struts.action.ActionForward;</span><br><span class="line"><span class="keyword">import</span> org.apache.struts.action.ActionMapping;</span><br><span class="line"><span class="keyword">import</span> org.apache.struts.actions.DispatchAction;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.wy.dao.ObjectDao;</span><br><span class="line"><span class="keyword">import</span> com.wy.form.DepartmentForm;</span><br><span class="line"><span class="keyword">import</span> com.wy.form.ManagerForm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DepartmentAction</span> <span class="keyword">extends</span> <span class="title">DispatchAction</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> ObjectDao objectDao;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> ObjectDao <span class="title">getObjectDao</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> objectDao;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObjectDao</span><span class="params">(ObjectDao objectDao)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.objectDao = objectDao;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 部门察看操作</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ActionForward <span class="title">queryDepartment</span><span class="params">(ActionMapping mapping,</span></span></span><br><span class="line"><span class="function"><span class="params">ActionForm form, HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">HttpServletResponse response)</span> </span>&#123;</span><br><span class="line">List list = objectDao.getObjectList(<span class="string">&quot;from DepartmentForm order by id desc&quot;</span>);</span><br><span class="line">request.setAttribute(<span class="string">&quot;list&quot;</span>, list);</span><br><span class="line">request.setAttribute(<span class="string">&quot;employeeList&quot;</span>, objectDao.getObjectList(<span class="string">&quot;from EmployeeForm&quot;</span>));</span><br><span class="line"><span class="keyword">return</span> mapping.findForward(<span class="string">&quot;queryDepartment&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 部门信息保存</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ActionForward <span class="title">insertDepartment</span><span class="params">(ActionMapping mapping,</span></span></span><br><span class="line"><span class="function"><span class="params">ActionForm form, HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">HttpServletResponse response)</span> </span>&#123;</span><br><span class="line">DepartmentForm departmentForm = (DepartmentForm) form;</span><br><span class="line">DepartmentForm departmentform = (DepartmentForm)objectDao</span><br><span class="line">.getObjectForm(<span class="string">&quot;from DepartmentForm where dt_name=&#x27;&quot;</span></span><br><span class="line">+ departmentForm.getDt_name() + <span class="string">&quot;&#x27;&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (departmentform== <span class="keyword">null</span>) &#123;</span><br><span class="line">objectDao.insertObjectForm(departmentForm);</span><br><span class="line"><span class="keyword">return</span> queryDepartment(mapping, form, request, response);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">request.setAttribute(<span class="string">&quot;result&quot;</span>, <span class="string">&quot;不能够重复提交！！！&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> mapping.findForward(<span class="string">&quot;operationDepartment&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//部门信息删除</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ActionForward <span class="title">deleteDepartment</span><span class="params">(ActionMapping mapping,</span></span></span><br><span class="line"><span class="function"><span class="params">ActionForm form, HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">HttpServletResponse response)</span> </span>&#123;</span><br><span class="line">DepartmentForm departmentform = (DepartmentForm)objectDao</span><br><span class="line">.getObjectForm(<span class="string">&quot;from DepartmentForm where id=&#x27;&quot;</span></span><br><span class="line">+ request.getParameter(<span class="string">&quot;id&quot;</span>) + <span class="string">&quot;&#x27;&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(objectDao.deleteObjectForm(departmentform))&#123;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">request.setAttribute(<span class="string">&quot;result&quot;</span>, <span class="string">&quot;删除部门信息失败！！！&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> mapping.findForward(<span class="string">&quot;operationDepartment&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="培训管理"><a href="#培训管理" class="headerlink" title="培训管理"></a>培训管理</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wy.action;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.struts.action.ActionForm;</span><br><span class="line"><span class="keyword">import</span> org.apache.struts.action.ActionForward;</span><br><span class="line"><span class="keyword">import</span> org.apache.struts.action.ActionMapping;</span><br><span class="line"><span class="keyword">import</span> org.apache.struts.actions.DispatchAction;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.wy.dao.ObjectDao;</span><br><span class="line"><span class="keyword">import</span> com.wy.form.TrainForm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TrainAction</span> <span class="keyword">extends</span> <span class="title">DispatchAction</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> ObjectDao objectDao;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> ObjectDao <span class="title">getObjectDao</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> objectDao;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObjectDao</span><span class="params">(ObjectDao objectDao)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.objectDao = objectDao;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 培训察看操作</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ActionForward <span class="title">queryTrain</span><span class="params">(ActionMapping mapping,</span></span></span><br><span class="line"><span class="function"><span class="params">ActionForm form, HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">HttpServletResponse response)</span> </span>&#123;</span><br><span class="line">List list = objectDao.getObjectList(<span class="string">&quot;from TrainForm order by id desc&quot;</span>);</span><br><span class="line">request.setAttribute(<span class="string">&quot;list&quot;</span>, list);</span><br><span class="line"><span class="keyword">return</span> mapping.findForward(<span class="string">&quot;queryTrain&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 添加培训操作</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ActionForward <span class="title">deleteTrain</span><span class="params">(ActionMapping mapping,</span></span></span><br><span class="line"><span class="function"><span class="params">ActionForm form, HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">HttpServletResponse response)</span> </span>&#123;</span><br><span class="line">String id=request.getParameter(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">TrainForm trainForm=(TrainForm)objectDao.getObjectForm(<span class="string">&quot;from TrainForm where id=&#x27;&quot;</span>+id+<span class="string">&quot;&#x27;&quot;</span>);</span><br><span class="line"><span class="keyword">this</span>.objectDao.deleteObjectForm(trainForm);</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>.queryTrain(mapping, form, request, response);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加培训操作</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ActionForward <span class="title">saveTrain</span><span class="params">(ActionMapping mapping,</span></span></span><br><span class="line"><span class="function"><span class="params">ActionForm form, HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">HttpServletResponse response)</span> </span>&#123;</span><br><span class="line">TrainForm trainForm=(TrainForm)form;</span><br><span class="line"><span class="keyword">this</span>.objectDao.insertObjectForm(trainForm);</span><br><span class="line"><span class="keyword">return</span> mapping.findForward(<span class="string">&quot;operationTrain&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//培训详细查询</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ActionForward <span class="title">queryOneTrain</span><span class="params">(ActionMapping mapping,</span></span></span><br><span class="line"><span class="function"><span class="params">ActionForm form, HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">HttpServletResponse response)</span> </span>&#123;</span><br><span class="line">String id=request.getParameter(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">TrainForm trainForm=(TrainForm)objectDao.getObjectForm(<span class="string">&quot;from TrainForm where id=&#x27;&quot;</span>+id+<span class="string">&quot;&#x27;&quot;</span>);</span><br><span class="line">request.setAttribute(<span class="string">&quot;trainForm&quot;</span>, trainForm);</span><br><span class="line"><span class="keyword">return</span> mapping.findForward(<span class="string">&quot;queryOneTrain&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="薪资管理-1"><a href="#薪资管理-1" class="headerlink" title="薪资管理"></a>薪资管理</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wy.action;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.struts.action.ActionForm;</span><br><span class="line"><span class="keyword">import</span> org.apache.struts.action.ActionForward;</span><br><span class="line"><span class="keyword">import</span> org.apache.struts.action.ActionMapping;</span><br><span class="line"><span class="keyword">import</span> org.apache.struts.actions.DispatchAction;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.wy.dao.ObjectDao;</span><br><span class="line"><span class="keyword">import</span> com.wy.form.DepartmentForm;</span><br><span class="line"><span class="keyword">import</span> com.wy.form.EmployeeForm;</span><br><span class="line"><span class="keyword">import</span> com.wy.form.ManagerForm;</span><br><span class="line"><span class="keyword">import</span> com.wy.form.PayForm;</span><br><span class="line"><span class="keyword">import</span> com.wy.tool.GetAutoNumber;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PayAction</span> <span class="keyword">extends</span> <span class="title">DispatchAction</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> ObjectDao objectDao;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> ObjectDao <span class="title">getObjectDao</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> objectDao;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObjectDao</span><span class="params">(ObjectDao objectDao)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.objectDao = objectDao;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//薪资删除</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ActionForward <span class="title">deletePay</span><span class="params">(ActionMapping mapping,</span></span></span><br><span class="line"><span class="function"><span class="params">ActionForm form, HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">HttpServletResponse response)</span> </span>&#123;</span><br><span class="line">String condition = <span class="string">&quot;from PayForm where id=&#x27;&quot;</span>+request.getParameter(<span class="string">&quot;id&quot;</span>)+<span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line">PayForm payForm=(PayForm)objectDao.getObjectForm(condition);</span><br><span class="line"><span class="keyword">if</span>(payForm!=<span class="keyword">null</span>)</span><br><span class="line">objectDao.deleteObjectForm(payForm);</span><br><span class="line"><span class="keyword">return</span> queryPay(mapping,form,request,response);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 薪资查看</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ActionForward <span class="title">queryPay</span><span class="params">(ActionMapping mapping,</span></span></span><br><span class="line"><span class="function"><span class="params">ActionForm form, HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">HttpServletResponse response)</span> </span>&#123;</span><br><span class="line">List list = objectDao.getObjectList(<span class="string">&quot;from PayForm&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(request.getParameter(<span class="string">&quot;emNumber&quot;</span>)!=<span class="keyword">null</span>)&#123;</span><br><span class="line">String emNumber= request.getParameter(<span class="string">&quot;emNumber&quot;</span>);</span><br><span class="line">list = objectDao.getObjectList(<span class="string">&quot;from PayForm where pay_emNumber=&#x27;&quot;</span>+emNumber+<span class="string">&quot;&#x27;&quot;</span>);</span><br><span class="line">request.setAttribute(<span class="string">&quot;result1&quot;</span>,emNumber);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(request.getParameter(<span class="string">&quot;pay_month&quot;</span>)!=<span class="keyword">null</span>)&#123;</span><br><span class="line">String pay_month= request.getParameter(<span class="string">&quot;pay_month&quot;</span>);</span><br><span class="line">list = objectDao.getObjectList(<span class="string">&quot;from PayForm where pay_month=&#x27;&quot;</span>+pay_month+<span class="string">&quot;&#x27;&quot;</span>);</span><br><span class="line">request.setAttribute(<span class="string">&quot;result2&quot;</span>,pay_month);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">request.setAttribute(<span class="string">&quot;list&quot;</span>, list);</span><br><span class="line">String condition = <span class="string">&quot;from EmployeeForm order by id desc&quot;</span>;</span><br><span class="line">request.setAttribute(<span class="string">&quot;employeeList&quot;</span>,objectDao.getObjectList(condition));</span><br><span class="line"><span class="keyword">return</span> mapping.findForward(<span class="string">&quot;queryPay&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 转向添加新姿的页面</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ActionForward <span class="title">forwardInsertPay</span><span class="params">(ActionMapping mapping,</span></span></span><br><span class="line"><span class="function"><span class="params">ActionForm form, HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">HttpServletResponse response)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.saveToken(request);</span><br><span class="line">String condition = <span class="string">&quot;from EmployeeForm order by id desc&quot;</span>;</span><br><span class="line">List list = objectDao.getObjectList(condition);</span><br><span class="line">request.setAttribute(<span class="string">&quot;employeeList&quot;</span>,list);</span><br><span class="line"><span class="keyword">return</span> mapping.findForward(<span class="string">&quot;forwardInsertPay&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 添加薪资</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ActionForward <span class="title">savePay</span><span class="params">(ActionMapping mapping, ActionForm form,</span></span></span><br><span class="line"><span class="function"><span class="params">HttpServletRequest request, HttpServletResponse response)</span> </span>&#123;</span><br><span class="line">PayForm payForm = (PayForm) form;</span><br><span class="line">String payCondition= <span class="string">&quot;from PayForm where pay_month=&#x27;&quot;</span>+payForm.getPay_month()+<span class="string">&quot;&#x27; and pay_emNumber=&#x27;&quot;</span>+payForm.getPay_emNumber()+<span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span>(objectDao.getObjectForm(payCondition)!=<span class="keyword">null</span>)&#123;</span><br><span class="line">request.setAttribute(<span class="string">&quot;result&quot;</span>, <span class="string">&quot;该员工已经工资已经发送完毕&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> mapping.findForward(<span class="string">&quot;operationPay&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">String emCondition = <span class="string">&quot;from EmployeeForm where em_serialNumber=&#x27;&quot;</span>+payForm.getPay_emNumber()+<span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line">EmployeeForm employeeForm= (EmployeeForm)objectDao.getObjectForm(emCondition);</span><br><span class="line">payForm.setPay_emName(employeeForm.getEm_name());</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.isTokenValid(request)) &#123;</span><br><span class="line"><span class="keyword">this</span>.resetToken(request);</span><br><span class="line">objectDao.insertObjectForm(payForm);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">this</span>.saveToken(request);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> queryPay(mapping, form, request, response);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="07-使用说明"><a href="#07-使用说明" class="headerlink" title="07 使用说明"></a>07 使用说明</h2><ul><li>mysql导入sql文件，修改（WebContent\WEB-INF\applicationContext.xml）applicationContext.xml文件修改数据库配置信息。</li><li>eclipse导入项目并部署，tomcat部署后，访问<a href="http://localhost:8080/PersonManager/%EF%BC%8C%E7%94%A8%E6%88%B7%E5%90%8D%EF%BC%9Aadain%EF%BC%8C%E5%AF%86%E7%A0%81%EF%BC%9A123">http://localhost:8080/PersonManager/，用户名：adain，密码：123</a></li></ul><h2 id="08-源码下载"><a href="#08-源码下载" class="headerlink" title="08 源码下载"></a>08 源码下载</h2><p>关注公众号【C you again】，回复“基于SSH框架的人力资源管理”免费领取。<br>亦可直接扫描主页二维码关注，回复“基于SSH框架的人力资源管理”免费领取，<a href="https://gzh.cyouagain.cn/">点此打开个人主页</a></p><p><img src="https://img-blog.csdnimg.cn/20200825104331765.jpg#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200825104331765.jpg#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p><strong>说明：此源码来源于网络，若有侵权，请联系删除！！</strong></p>]]></content>
    
    
    <summary type="html">Spring+SpringMVC+Hibernate实现人力资源管理系统</summary>
    
    
    
    <category term="系统源码" scheme="https://cyouagain.cn/categories/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    
    <category term="源码分享" scheme="https://cyouagain.cn/tags/%E6%BA%90%E7%A0%81%E5%88%86%E4%BA%AB/"/>
    
    <category term="系统源码" scheme="https://cyouagain.cn/tags/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    <category term="人力资源管理系统" scheme="https://cyouagain.cn/tags/%E4%BA%BA%E5%8A%9B%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>基于java的企业进销存管理系统</title>
    <link href="https://cyouagain.cn/posts/21025.html"/>
    <id>https://cyouagain.cn/posts/21025.html</id>
    <published>2020-10-02T07:47:56.619Z</published>
    <updated>2020-10-02T14:40:27.860Z</updated>
    
    <content type="html"><![CDATA[<h2 id="查看更多系统：系统大全，课程设计、毕业设计，请点击这里查看"><a href="#查看更多系统：系统大全，课程设计、毕业设计，请点击这里查看" class="headerlink" title="查看更多系统：系统大全，课程设计、毕业设计，请点击这里查看"></a>查看更多系统：<a href="https://blog.csdn.net/qq_40625778/article/details/108213145">系统大全，课程设计、毕业设计，请点击这里查看</a></h2><h2 id="01-概述"><a href="#01-概述" class="headerlink" title="01 概述"></a>01 概述</h2><p>销存管理系统是一个基于本地与网络的应用系统，它是一个面对当前的进销存管理工作基本还处于手工和半信息自动化处理状态而应运而生的一个基于本地与网络的一个完全信息自动化的系统，整个系统从符合操作简便、界面友好、灵活、实用、安全的要求出发，完成进货、销售、库存管理的全过程。本文所设计的企业进销存管理系统可以满足企业进货、销售和库存管理方面的需要。</p><h2 id="02-系统结构及说明"><a href="#02-系统结构及说明" class="headerlink" title="02 系统结构及说明"></a>02 系统结构及说明</h2><p>本系统包括基础资料、进货管理、销售管理、库存管理、信息查询、系统维护等 6 大部分。系统结构如图所示：</p><p><img src="https://img-blog.csdnimg.cn/20200826130307761.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200826130307761.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="进货管理"><a href="#进货管理" class="headerlink" title="进货管理"></a>进货管理</h4><p>“进货管理”功能模块用于管理企业的进货采购业务，是进销存管理系统中不可缺少的重要组成部分，它主要负责为系统记录进货单及其退货信息，相应的进货商品会添加到库存管理中。所包含的子功能模块如图所示。<br><img src="https://img-blog.csdnimg.cn/2020082613050279.png#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/2020082613050279.png#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="基础资料"><a href="#基础资料" class="headerlink" title="基础资料"></a>基础资料</h4><p>“基础资料”是每个系统都必须具备的功能，该模块用于管理企业进销存管理系统中的客户、商品和供应商信息，其功能主要是对这些基础信息进行添加、修改和删除。包括的子功能模块如图所示。<br><img src="https://img-blog.csdnimg.cn/20200826130547698.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200826130547698.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="销售管理"><a href="#销售管理" class="headerlink" title="销售管理"></a>销售管理</h4><p>“销售管理”功能模块用于管理企业的销售业务，商品销售是进销存管理中的重要环节之一，进货商品在入库之后就可以开始销售了。所包含的子功能模块如图所示。<br><img src="https://img-blog.csdnimg.cn/20200826130637370.png#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200826130637370.png#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="库存管理"><a href="#库存管理" class="headerlink" title="库存管理"></a>库存管理</h4><p>“库存管理”模块是企业进销存管理系统中的库存管理模块包括库存盘点和价格调整两个功能，所包含的子功能模块如图所示。<br><img src="https://img-blog.csdnimg.cn/20200826130711195.png#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200826130711195.png#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="查询统计"><a href="#查询统计" class="headerlink" title="查询统计"></a>查询统计</h4><p>“查询统计”模块是进销存管理系统中不可缺少的重要组成部分，它主要包括销售查询和商品查询，所包含的子功能模块如图所示。<br><img src="https://img-blog.csdnimg.cn/20200826130746430.png#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200826130746430.png#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="系统管理"><a href="#系统管理" class="headerlink" title="系统管理"></a>系统管理</h4><p>“系统管理”模块主要有更改密码、退出系统两个模块，所包含的子功能模块如图所示。<br><img src="https://img-blog.csdnimg.cn/20200826130816962.png#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200826130816962.png#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h2 id="03-工程结构"><a href="#03-工程结构" class="headerlink" title="03 工程结构"></a>03 工程结构</h2><p><img src="https://img-blog.csdnimg.cn/20200826131720288.png#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200826131720288.png#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h2 id="04-详细设计"><a href="#04-详细设计" class="headerlink" title="04 详细设计"></a>04 详细设计</h2><h4 id="系统运行环境"><a href="#系统运行环境" class="headerlink" title="系统运行环境"></a>系统运行环境</h4><ul><li><p>操作系统：Windows 10；</p></li><li><p>JDK环境：jdk1.8；</p></li><li><p>开发工具：Eclipse8.0； </p></li><li><p>数据库管理软件：My SQL 5.7</p><h4 id="系统开发技术"><a href="#系统开发技术" class="headerlink" title="系统开发技术"></a>系统开发技术</h4></li><li><p>Java</p></li><li><p>My SQL 数据库</p><h4 id="公共类设计"><a href="#公共类设计" class="headerlink" title="公共类设计"></a>公共类设计</h4><p>公共类是代码重用的一种形式，他将各个功能模块经常调用的方法提取到共用的Java类中，例如访问数据库的Dao类容纳了所有访问数据库的方法，并同时管理者数据库的连接和关闭。这样不但实现了项目代码的重用，还提高了程序的性能和代码可读性。</p></li></ul><p>数据库DB链接(dao/Dao.java):</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="keyword">static</span> String dbClassName = <span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>;<span class="comment">// MySQL数据库驱动类的名称</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">static</span> String dbUrl = <span class="string">&quot;jdbc:mysql://127.0.0.1:3306/db_database28&quot;</span>;<span class="comment">// 访问MySQL数据库的路径</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">static</span> String dbUser = <span class="string">&quot;root&quot;</span>;<span class="comment">// 访问MySQL数据库的用户名（根据自己数据库而定）</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">static</span> String dbPwd = <span class="string">&quot;&quot;</span>;<span class="comment">// 访问MySQL数据库的密码（根据自己数据库而定）</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">static</span> String dbName = <span class="string">&quot;db_database28&quot;</span>;<span class="comment">// 访问MySQL数据库中的实例(db_database28)</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">static</span> String second = <span class="keyword">null</span>;<span class="comment">//</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Connection conn = <span class="keyword">null</span>;<span class="comment">// MySQL数据库的连接对象</span></span><br></pre></td></tr></table></figure><h4 id="主窗体设计"><a href="#主窗体设计" class="headerlink" title="主窗体设计"></a>主窗体设计</h4><p>主窗体界面是该系统的欢迎界面。应用程序的主窗体必须设计层次清晰的系统菜单和工具栏，其中系统菜单包含系统中所有功能的菜单项，而工具栏主要提供常用功能的快捷访问按钮。企业进销存管理系统采用导航面板综合了系统菜单和工具栏的优点，而且导航面板的界面更加美观，操作更快捷。<br><img src="https://img-blog.csdnimg.cn/20200826131253196.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200826131253196.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="销售管理设计"><a href="#销售管理设计" class="headerlink" title="销售管理设计"></a>销售管理设计</h4><p>商品销售时进销存管理中的重要环节之一，进货商在入库之后就可以开始销售。销售单模块主要负责根据经手人的销售单据，操作进销存管理系统的库存商品和记录销售信息，方便以后查询和统计。<br><img src="https://img-blog.csdnimg.cn/2020082613132687.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/2020082613132687.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="信息查询设计"><a href="#信息查询设计" class="headerlink" title="信息查询设计"></a>信息查询设计</h4><p>“信息查询”模块是进销存管理系统中不可缺少的重要组成部分，它主要包括销售查询、商品查询功能。</p><p>销售查询：<br><img src="https://img-blog.csdnimg.cn/20200826131434891.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200826131434891.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>该功能主要用于查询系统中的销售信息，其查询方式可以按照客户全称、销售票号进行匹配查询和模糊查询。另外，还可以指定销售日期查询。</p><p>其关键代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 条件查询</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">QueryAction</span> <span class="keyword">implements</span> <span class="title">ActionListener</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(<span class="keyword">final</span> ActionEvent e)</span> </span>&#123;</span><br><span class="line"><span class="keyword">boolean</span> selDate = selectDate.isSelected();</span><br><span class="line"><span class="keyword">if</span>(content.getText().equals(<span class="string">&quot;&quot;</span>)) &#123;</span><br><span class="line">JOptionPane.showMessageDialog(getContentPane(), <span class="string">&quot;请输入查询内容！&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(selDate) &#123;</span><br><span class="line"><span class="keyword">if</span>(startDate.getText()==<span class="keyword">null</span>||startDate.getText().equals(<span class="string">&quot;&quot;</span>)) &#123;</span><br><span class="line">JOptionPane.showMessageDialog(getContentPane(), <span class="string">&quot;请输入查询的开始日期！&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(endDate.getText()==<span class="keyword">null</span>||endDate.getText().equals(<span class="string">&quot;&quot;</span>)) &#123;</span><br><span class="line">JOptionPane.showMessageDialog(getContentPane(), <span class="string">&quot;请输入查询的结束日期！&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">List list=<span class="keyword">null</span>;<span class="comment">// 结果集</span></span><br><span class="line">String con = condition.getSelectedIndex() == <span class="number">0</span> ? <span class="string">&quot;khname &quot;</span> : <span class="string">&quot;sellId &quot;</span>;</span><br><span class="line"><span class="keyword">int</span> oper = operation.getSelectedIndex();</span><br><span class="line">String opstr = oper == <span class="number">0</span> ? <span class="string">&quot;= &quot;</span> : <span class="string">&quot;like &quot;</span>;</span><br><span class="line">String cont = content.getText();</span><br><span class="line">list = Dao.findForList(<span class="string">&quot;select * from v_sellView where &quot;</span></span><br><span class="line">+ con + opstr</span><br><span class="line">+ (oper == <span class="number">0</span> ? <span class="string">&quot;&#x27;&quot;</span>+cont+<span class="string">&quot;&#x27;&quot;</span> : <span class="string">&quot;&#x27;%&quot;</span> + cont + <span class="string">&quot;%&#x27;&quot;</span>)</span><br><span class="line">+ (selDate ? <span class="string">&quot; and xsdate&gt;&#x27;&quot;</span> + startDate.getText()</span><br><span class="line">+ <span class="string">&quot;&#x27; and xsdate&lt;=&#x27;&quot;</span> + endDate.getText()+<span class="string">&quot; 23:59:59&#x27;&quot;</span> : <span class="string">&quot;&quot;</span>));</span><br><span class="line"><span class="comment">// 执行拼接的SQL语句后获得的结果集</span></span><br><span class="line">Iterator iterator = list.iterator();<span class="comment">// 与结果集list相应的迭代器</span></span><br><span class="line">updateTable(iterator);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>商品查询：<br><img src="https://img-blog.csdnimg.cn/20200826131535864.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200826131535864.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>该功能主要用于查询系统中的商品信息，其查询方式可以按照商品的名称、供应商全称、产地、规格等信息进行查询。</p><p>其关键代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 点击“显示全部数据”按钮后，更新表格内容</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">updateTable</span><span class="params">(List list, <span class="keyword">final</span> DefaultTableModel dftm)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> num = dftm.getRowCount();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num; i++)</span><br><span class="line">dftm.removeRow(<span class="number">0</span>);</span><br><span class="line">Iterator iterator = list.iterator();</span><br><span class="line">TbSpinfo spInfo;<span class="comment">// 商品信息</span></span><br><span class="line"><span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">List info = (List) iterator.next();</span><br><span class="line">Item item = <span class="keyword">new</span> Item();</span><br><span class="line">item.setId((String) info.get(<span class="number">0</span>));</span><br><span class="line">item.setName((String) info.get(<span class="number">1</span>));</span><br><span class="line">spInfo = Dao.getSpInfo(item);</span><br><span class="line">Vector rowData = <span class="keyword">new</span> Vector();</span><br><span class="line">rowData.add(spInfo.getId().trim());<span class="comment">// 商品编号</span></span><br><span class="line">rowData.add(spInfo.getSpname().trim());<span class="comment">// 商品名称</span></span><br><span class="line">rowData.add(spInfo.getJc());<span class="comment">// 商品简称</span></span><br><span class="line">rowData.add(spInfo.getCd());<span class="comment">// 产地</span></span><br><span class="line">rowData.add(spInfo.getDw());<span class="comment">// 商品计量单位</span></span><br><span class="line">rowData.add(spInfo.getGg());<span class="comment">// 商品规格</span></span><br><span class="line">rowData.add(spInfo.getBz());<span class="comment">// 包装</span></span><br><span class="line">rowData.add(spInfo.getPh());<span class="comment">// 批号</span></span><br><span class="line">rowData.add(spInfo.getPzwh());<span class="comment">// 批准文号</span></span><br><span class="line">rowData.add(spInfo.getGysname());<span class="comment">// 供应商名称</span></span><br><span class="line">rowData.add(spInfo.getMemo());<span class="comment">// 备注</span></span><br><span class="line">dftm.addRow(rowData);<span class="comment">// 向表格对象添加行数据（商品信息）</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="05-使用说明"><a href="#05-使用说明" class="headerlink" title="05 使用说明"></a>05 使用说明</h2><p>详细使用说明见工程中“readme.txt”文件。</p><h2 id="06-源码下载"><a href="#06-源码下载" class="headerlink" title="06 源码下载"></a>06 源码下载</h2><p>关注公众号【C you again】，回复“基于java的企业进销存管理系统”免费领取。<br>亦可直接扫描主页二维码关注，回复“基于java的企业进销存管理系统”免费领取，<a href="https://gzh.cyouagain.cn/">点此打开个人主页</a></p><p><img src="https://img-blog.csdnimg.cn/20200825104331765.jpg#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200825104331765.jpg#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br>原文链接：<a href="http://www.demodashi.com/demo/15938.html">http://www.demodashi.com/demo/15938.html</a><br><strong>说明：此源码来源于网络，若有侵权，请联系删除！！</strong></p>]]></content>
    
    
    <summary type="html">基于java的企业进销存管理系统</summary>
    
    
    
    <category term="系统源码" scheme="https://cyouagain.cn/categories/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    
    <category term="源码分享" scheme="https://cyouagain.cn/tags/%E6%BA%90%E7%A0%81%E5%88%86%E4%BA%AB/"/>
    
    <category term="系统源码" scheme="https://cyouagain.cn/tags/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    <category term="销存管理系统" scheme="https://cyouagain.cn/tags/%E9%94%80%E5%AD%98%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>关于公众号【C you again】各类资源获取说明</title>
    <link href="https://cyouagain.cn/posts/24621.html"/>
    <id>https://cyouagain.cn/posts/24621.html</id>
    <published>2020-10-02T07:47:56.616Z</published>
    <updated>2020-10-07T09:48:19.156Z</updated>
    
    <content type="html"><![CDATA[<h4 id="注：源码下载链接24h有效，丢失、超时不再补新链接"><a href="#注：源码下载链接24h有效，丢失、超时不再补新链接" class="headerlink" title="注：源码下载链接24h有效，丢失、超时不再补新链接"></a><font color='red'>注：源码下载链接24h有效，丢失、超时不再补新链接</font></h4><h4 id="粉丝群已开通，回复“粉丝”进群，与技术大佬交流哦！！"><a href="#粉丝群已开通，回复“粉丝”进群，与技术大佬交流哦！！" class="headerlink" title="粉丝群已开通，回复“粉丝”进群，与技术大佬交流哦！！"></a><font color='red'>粉丝群已开通，回复“粉丝”进群，与技术大佬交流哦！！</font></h4><h4 id="网站资源快速收录–百度API提交助手上线啦，快来尝鲜吧！"><a href="#网站资源快速收录–百度API提交助手上线啦，快来尝鲜吧！" class="headerlink" title="网站资源快速收录–百度API提交助手上线啦，快来尝鲜吧！"></a><font color='red'>网站资源快速收录–百度API提交助手上线啦，快来尝鲜吧！</font></h4><p><img src="https://img-blog.csdnimg.cn/20201007173901547.gif#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20201007173901547.gif#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="1、获取方式"><a href="#1、获取方式" class="headerlink" title="1、获取方式"></a>1、获取方式</h4><p><strong>方式一：</strong> 选择此公众号中任意一篇原创文章打赏 <font color='red'>9.9</font>元</p><p><strong>方式二：</strong> 把公众号推荐给10位微信好友或者微信群，推荐时须加上推荐语（大于15字）</p><h4 id="2、其它说明"><a href="#2、其它说明" class="headerlink" title="2、其它说明"></a>2、其它说明</h4><ul><li>完成以上其中之一即可</li><li>截图添加微信 Z17738332315 领取，未达到要求请勿添加</li></ul><h4 id="3、热文推荐"><a href="#3、热文推荐" class="headerlink" title="3、热文推荐"></a>3、热文推荐</h4><p>查看更多IT技术文章请<a href="https://gzh.cyouagain.cn/">点击这里</a></p><h4 id="4、扫码关注"><a href="#4、扫码关注" class="headerlink" title="4、扫码关注"></a>4、扫码关注</h4><p><img src="https://img-blog.csdnimg.cn/20200918010418937.jpg#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200918010418937.jpg#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;注：源码下载链接24h有效，丢失、超时不再补新链接&quot;&gt;&lt;a href=&quot;#注：源码下载链接24h有效，丢失、超时不再补新链接&quot; class=&quot;headerlink&quot; title=&quot;注：源码下载链接24h有效，丢失、超时不再补新链接&quot;&gt;&lt;/a&gt;&lt;font color</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>仓库ERP管理系统（springboot）</title>
    <link href="https://cyouagain.cn/posts/22575.html"/>
    <id>https://cyouagain.cn/posts/22575.html</id>
    <published>2020-10-02T07:47:56.613Z</published>
    <updated>2020-10-02T14:39:58.012Z</updated>
    
    <content type="html"><![CDATA[<h2 id="查看更多系统：系统大全，课程设计、毕业设计，请点击这里查看"><a href="#查看更多系统：系统大全，课程设计、毕业设计，请点击这里查看" class="headerlink" title="查看更多系统：系统大全，课程设计、毕业设计，请点击这里查看"></a>查看更多系统：<a href="https://blog.csdn.net/qq_40625778/article/details/108213145">系统大全，课程设计、毕业设计，请点击这里查看</a></h2><h2 id="01-系统概述"><a href="#01-系统概述" class="headerlink" title="01  系统概述"></a>01  系统概述</h2><p>基于SpringBoot框架和SaaS模式，非常好用的ERP软件，目前专注进销存+财务功能。主要模块有零售管理、采购管理、销售管理、仓库管理、财务管理、报表查询、系统管理等。支持预付款、收入支出、仓库调拨、组装拆卸、订单等特色功能。拥有库存状况、出入库统计等报表。权限控制更加精确</p><h2 id="02-技术"><a href="#02-技术" class="headerlink" title="02 技术"></a>02 技术</h2><blockquote><p>springboot + mybatis + easyui</p></blockquote><h2 id="03-运行环境"><a href="#03-运行环境" class="headerlink" title="03 运行环境"></a>03 运行环境</h2><ul><li><p>开发工具：idea/eclipse，推荐使用idea </p></li><li><p>maven3+，并且在开发工具中配置好 </p></li><li><p>jdk1.8+，推荐1.8</p></li><li><p>MySQL5.5+, 推荐5.7，5.6</p><h2 id="04-技术架构"><a href="#04-技术架构" class="headerlink" title="04 技术架构"></a>04 技术架构</h2></li><li><p>核心框架：SpringBoot 2.0.0 </p></li><li><p>持久层框架：Mybatis 1.3.2 </p></li><li><p>日志管理：Log4j 2.10.0</p></li><li><p>JS框架：Jquery 1.8.0 </p></li><li><p>UI框架: EasyUI 1.9.4 </p></li><li><p>模板框架: AdminLTE 2.4.0 </p></li><li><p>项目管理框架:Maven 3.2.3</p></li></ul><h2 id="05-功能模块"><a href="#05-功能模块" class="headerlink" title="05 功能模块"></a>05 功能模块</h2><ul><li>零售管理 </li><li>采购管理 </li><li>销售管理 </li><li>仓库管理 </li><li>财务管理 </li><li>报表查询 </li><li>商品管理 </li><li>基本信息 </li><li>系统管理</li></ul><h2 id="06-项目结构"><a href="#06-项目结构" class="headerlink" title="06 项目结构"></a>06 项目结构</h2><p><img src="https://img-blog.csdnimg.cn/20200825101150375.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200825101150375.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h2 id="07-运行截图"><a href="#07-运行截图" class="headerlink" title="07 运行截图"></a>07 运行截图</h2><h4 id="零售关系-》零售出库"><a href="#零售关系-》零售出库" class="headerlink" title="零售关系-》零售出库"></a>零售关系-》零售出库</h4><p><img src="https://img-blog.csdnimg.cn/20200825101504560.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200825101504560.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="采购管理-》采购入库"><a href="#采购管理-》采购入库" class="headerlink" title="采购管理-》采购入库"></a>采购管理-》采购入库</h4><p><img src="https://img-blog.csdnimg.cn/20200825101600963.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200825101600963.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="财务管理-》收入单"><a href="#财务管理-》收入单" class="headerlink" title="财务管理-》收入单"></a>财务管理-》收入单</h4><p><img src="https://img-blog.csdnimg.cn/20200825101834804.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200825101834804.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="商品管理-》商品信息"><a href="#商品管理-》商品信息" class="headerlink" title="商品管理-》商品信息"></a>商品管理-》商品信息</h4><p><img src="https://img-blog.csdnimg.cn/20200825102020880.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200825102020880.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h2 id="08-主要代码"><a href="#08-主要代码" class="headerlink" title="08 主要代码"></a>08 主要代码</h2><h4 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jsh.erp.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSON;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSONArray;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSONObject;</span><br><span class="line"><span class="keyword">import</span> com.github.pagehelper.PageHelper;</span><br><span class="line"><span class="keyword">import</span> com.github.pagehelper.PageInfo;</span><br><span class="line"><span class="keyword">import</span> com.jsh.erp.constants.BusinessConstants;</span><br><span class="line"><span class="keyword">import</span> com.jsh.erp.constants.ExceptionConstants;</span><br><span class="line"><span class="keyword">import</span> com.jsh.erp.datasource.entities.Tenant;</span><br><span class="line"><span class="keyword">import</span> com.jsh.erp.datasource.entities.User;</span><br><span class="line"><span class="keyword">import</span> com.jsh.erp.datasource.entities.UserEx;</span><br><span class="line"><span class="keyword">import</span> com.jsh.erp.datasource.vo.TreeNodeEx;</span><br><span class="line"><span class="keyword">import</span> com.jsh.erp.exception.BusinessParamCheckingException;</span><br><span class="line"><span class="keyword">import</span> com.jsh.erp.service.log.LogService;</span><br><span class="line"><span class="keyword">import</span> com.jsh.erp.service.tenant.TenantService;</span><br><span class="line"><span class="keyword">import</span> com.jsh.erp.service.user.UserService;</span><br><span class="line"><span class="keyword">import</span> com.jsh.erp.utils.*;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.context.request.RequestContextHolder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.context.request.ServletRequestAttributes;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.net.URLEncoder;</span><br><span class="line"><span class="keyword">import</span> java.security.NoSuchAlgorithmException;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> com.jsh.erp.utils.ResponseJsonUtil.returnJson;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Logger logger = LoggerFactory.getLogger(UserController.class);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;manage.roleId&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer manageRoleId;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> TenantService tenantService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> LogService logService;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String message = <span class="string">&quot;成功&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String HTTP = <span class="string">&quot;http://&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String CODE_OK = <span class="string">&quot;200&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(value = &quot;/login&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> BaseResponseInfo <span class="title">login</span><span class="params">(<span class="meta">@RequestParam(value = &quot;loginName&quot;, required = false)</span> String loginName,</span></span></span><br><span class="line"><span class="function"><span class="params">                        <span class="meta">@RequestParam(value = &quot;password&quot;, required = false)</span> String password,</span></span></span><br><span class="line"><span class="function"><span class="params">                        HttpServletRequest request)</span><span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        logger.info(<span class="string">&quot;============用户登录 login 方法调用开始==============&quot;</span>);</span><br><span class="line">        String msgTip = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        User user=<span class="keyword">null</span>;</span><br><span class="line">        BaseResponseInfo res = <span class="keyword">new</span> BaseResponseInfo();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            String username = loginName.trim();</span><br><span class="line">            password = password.trim();</span><br><span class="line">            <span class="comment">//判断用户是否已经登录过，登录过不再处理</span></span><br><span class="line">            Object userInfo = request.getSession().getAttribute(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">            User sessionUser = <span class="keyword">new</span> User();</span><br><span class="line">            <span class="keyword">if</span> (userInfo != <span class="keyword">null</span>) &#123;</span><br><span class="line">                sessionUser = (User) userInfo;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (sessionUser != <span class="keyword">null</span> &amp;&amp; username.equalsIgnoreCase(sessionUser.getLoginame())) &#123;</span><br><span class="line">                logger.info(<span class="string">&quot;====用户 &quot;</span> + username + <span class="string">&quot;已经登录过, login 方法调用结束====&quot;</span>);</span><br><span class="line">                msgTip = <span class="string">&quot;user already login&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//获取用户状态</span></span><br><span class="line">            <span class="keyword">int</span> userStatus = -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                request.getSession().removeAttribute(<span class="string">&quot;tenantId&quot;</span>);</span><br><span class="line">                userStatus = userService.validateUser(username, password);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">                logger.error(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;用户  &quot;</span> + username + <span class="string">&quot; 登录 login 方法 访问服务层异常====&quot;</span>, e);</span><br><span class="line">                msgTip = <span class="string">&quot;access service exception&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">switch</span> (userStatus) &#123;</span><br><span class="line">                <span class="keyword">case</span> ExceptionCodeConstants.UserExceptionCode.USER_NOT_EXIST:</span><br><span class="line">                    msgTip = <span class="string">&quot;user is not exist&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> ExceptionCodeConstants.UserExceptionCode.USER_PASSWORD_ERROR:</span><br><span class="line">                    msgTip = <span class="string">&quot;user password error&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> ExceptionCodeConstants.UserExceptionCode.BLACK_USER:</span><br><span class="line">                    msgTip = <span class="string">&quot;user is black&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> ExceptionCodeConstants.UserExceptionCode.USER_ACCESS_EXCEPTION:</span><br><span class="line">                    msgTip = <span class="string">&quot;access service error&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        msgTip = <span class="string">&quot;user can login&quot;</span>;</span><br><span class="line">                        <span class="comment">//验证通过 ，可以登录，放入session，记录登录日志</span></span><br><span class="line">                        user = userService.getUserByUserName(username);</span><br><span class="line">                        request.getSession().setAttribute(<span class="string">&quot;user&quot;</span>,user);</span><br><span class="line">                        <span class="keyword">if</span>(user.getTenantId()!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                            Tenant tenant = tenantService.getTenantByTenantId(user.getTenantId());</span><br><span class="line">                            <span class="keyword">if</span>(tenant!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                                Long tenantId = tenant.getTenantId();</span><br><span class="line">                                Integer userNumLimit = tenant.getUserNumLimit();</span><br><span class="line">                                Integer billsNumLimit = tenant.getBillsNumLimit();</span><br><span class="line">                                <span class="keyword">if</span>(tenantId!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                                    request.getSession().setAttribute(<span class="string">&quot;tenantId&quot;</span>,tenantId); <span class="comment">//租户tenantId</span></span><br><span class="line">                                    request.getSession().setAttribute(<span class="string">&quot;userNumLimit&quot;</span>,userNumLimit); <span class="comment">//用户限制数</span></span><br><span class="line">                                    request.getSession().setAttribute(<span class="string">&quot;billsNumLimit&quot;</span>,billsNumLimit); <span class="comment">//单据限制数</span></span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                        logService.insertLog(<span class="string">&quot;用户&quot;</span>,</span><br><span class="line">                                <span class="keyword">new</span> StringBuffer(BusinessConstants.LOG_OPERATION_TYPE_LOGIN).append(user.getId()).toString(),</span><br><span class="line">                                ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest());</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                        logger.error(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;查询用户名为:&quot;</span> + username + <span class="string">&quot; ，用户信息异常&quot;</span>, e);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            Map&lt;String, Object&gt; data = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">            data.put(<span class="string">&quot;msgTip&quot;</span>, msgTip);</span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             * 在IE模式下，无法获取到user数据，</span></span><br><span class="line"><span class="comment">             * 在此处明确添加上user信息</span></span><br><span class="line"><span class="comment">             * */</span></span><br><span class="line">            <span class="keyword">if</span>(user!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                data.put(<span class="string">&quot;user&quot;</span>,user);</span><br><span class="line">            &#125;</span><br><span class="line">            res.code = <span class="number">200</span>;</span><br><span class="line">            res.data = data;</span><br><span class="line">            logger.info(<span class="string">&quot;===============用户登录 login 方法调用结束===============&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            logger.error(e.getMessage());</span><br><span class="line">            res.code = <span class="number">500</span>;</span><br><span class="line">            res.data = <span class="string">&quot;用户登录失败&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(value = &quot;/getUserSession&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> BaseResponseInfo <span class="title">getSessionUser</span><span class="params">(HttpServletRequest request)</span><span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        BaseResponseInfo res = <span class="keyword">new</span> BaseResponseInfo();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Map&lt;String, Object&gt; data = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">            Object userInfo = request.getSession().getAttribute(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span>(userInfo!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                User user = (User) userInfo;</span><br><span class="line">                user.setPassword(<span class="keyword">null</span>);</span><br><span class="line">                data.put(<span class="string">&quot;user&quot;</span>, user);</span><br><span class="line">            &#125;</span><br><span class="line">            res.code = <span class="number">200</span>;</span><br><span class="line">            res.data = data;</span><br><span class="line">        &#125; <span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            res.code = <span class="number">500</span>;</span><br><span class="line">            res.data = <span class="string">&quot;获取session失败&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(value = &quot;/logout&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> BaseResponseInfo <span class="title">logout</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span><span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        BaseResponseInfo res = <span class="keyword">new</span> BaseResponseInfo();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            request.getSession().removeAttribute(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">            request.getSession().removeAttribute(<span class="string">&quot;tenantId&quot;</span>);</span><br><span class="line">            request.getSession().removeAttribute(<span class="string">&quot;userNumLimit&quot;</span>);</span><br><span class="line">            request.getSession().removeAttribute(<span class="string">&quot;billsNumLimit&quot;</span>);</span><br><span class="line">            response.sendRedirect(<span class="string">&quot;/login.html&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            res.code = <span class="number">500</span>;</span><br><span class="line">            res.data = <span class="string">&quot;退出失败&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(value = &quot;/resetPwd&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">resetPwd</span><span class="params">(<span class="meta">@RequestParam(&quot;id&quot;)</span> Long id,</span></span></span><br><span class="line"><span class="function"><span class="params">                                     HttpServletRequest request)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Map&lt;String, Object&gt; objectMap = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">        String password = <span class="string">&quot;123456&quot;</span>;</span><br><span class="line">        String md5Pwd = Tools.md5Encryp(password);</span><br><span class="line">        <span class="keyword">int</span> update = userService.resetPwd(md5Pwd, id);</span><br><span class="line">        <span class="keyword">if</span>(update &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> returnJson(objectMap, message, ErpInfo.OK.code);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> returnJson(objectMap, message, ErpInfo.ERROR.code);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(value = &quot;/updatePwd&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">updatePwd</span><span class="params">(<span class="meta">@RequestParam(&quot;userId&quot;)</span> Long userId, <span class="meta">@RequestParam(&quot;password&quot;)</span> String password,</span></span></span><br><span class="line"><span class="function"><span class="params">                            <span class="meta">@RequestParam(&quot;oldpwd&quot;)</span> String oldpwd, HttpServletRequest request)</span><span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Integer flag = <span class="number">0</span>;</span><br><span class="line">        Map&lt;String, Object&gt; objectMap = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            User user = userService.getUser(userId);</span><br><span class="line">            String oldPassword = Tools.md5Encryp(oldpwd);</span><br><span class="line">            String md5Pwd = Tools.md5Encryp(password);</span><br><span class="line">            <span class="comment">//必须和原始密码一致才可以更新密码</span></span><br><span class="line">            <span class="keyword">if</span>(user.getLoginame().equals(<span class="string">&quot;jsh&quot;</span>))&#123;</span><br><span class="line">                flag = <span class="number">3</span>; <span class="comment">//管理员jsh不能修改密码</span></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (oldPassword.equalsIgnoreCase(user.getPassword())) &#123;</span><br><span class="line">                user.setPassword(md5Pwd);</span><br><span class="line">                flag = userService.updateUserByObj(user); <span class="comment">//1-成功</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                flag = <span class="number">2</span>; <span class="comment">//原始密码输入错误</span></span><br><span class="line">            &#125;</span><br><span class="line">            objectMap.put(<span class="string">&quot;status&quot;</span>, flag);</span><br><span class="line">            <span class="keyword">if</span>(flag &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> returnJson(objectMap, message, ErpInfo.OK.code);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> returnJson(objectMap, message, ErpInfo.ERROR.code);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            logger.error(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;修改用户ID为 ： &quot;</span> + userId + <span class="string">&quot;密码信息失败&quot;</span>, e);</span><br><span class="line">            flag = <span class="number">3</span>;</span><br><span class="line">            objectMap.put(<span class="string">&quot;status&quot;</span>, flag);</span><br><span class="line">            <span class="keyword">return</span> returnJson(objectMap, message, ErpInfo.ERROR.code);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取全部用户数据列表</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(value = &quot;/getAllList&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> BaseResponseInfo <span class="title">getAllList</span><span class="params">(HttpServletRequest request)</span><span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        BaseResponseInfo res = <span class="keyword">new</span> BaseResponseInfo();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Map&lt;String, Object&gt; data = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">            List&lt;User&gt; dataList = userService.getUser();</span><br><span class="line">            <span class="keyword">if</span>(dataList!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                data.put(<span class="string">&quot;userList&quot;</span>, dataList);</span><br><span class="line">            &#125;</span><br><span class="line">            res.code = <span class="number">200</span>;</span><br><span class="line">            res.data = data;</span><br><span class="line">        &#125; <span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            res.code = <span class="number">500</span>;</span><br><span class="line">            res.data = <span class="string">&quot;获取失败&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * create by: cjl</span></span><br><span class="line"><span class="comment">     * description:</span></span><br><span class="line"><span class="comment">     *  查询分页用户列表</span></span><br><span class="line"><span class="comment">     * create time: 2019/3/8 15:08</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Param</span>: pageSize</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Param</span>: currentPage</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Param</span>: search</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> java.lang.String</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(value = &quot;/getUserList&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUserList</span><span class="params">(<span class="meta">@RequestParam(value = Constants.PAGE_SIZE, required = false)</span> Integer pageSize,</span></span></span><br><span class="line"><span class="function"><span class="params">                                       <span class="meta">@RequestParam(value = Constants.CURRENT_PAGE, required = false)</span> Integer currentPage,</span></span></span><br><span class="line"><span class="function"><span class="params">                                       <span class="meta">@RequestParam(value = Constants.SEARCH, required = false)</span> String search)</span><span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">        Map&lt;String, Object&gt; parameterMap = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">        <span class="comment">//查询参数</span></span><br><span class="line">        JSONObject obj= JSON.parseObject(search);</span><br><span class="line">        Set&lt;String&gt; key= obj.keySet();</span><br><span class="line">        <span class="keyword">for</span>(String keyEach: key)&#123;</span><br><span class="line">            parameterMap.put(keyEach,obj.getString(keyEach));</span><br><span class="line">        &#125;</span><br><span class="line">        PageQueryInfo queryInfo = <span class="keyword">new</span> PageQueryInfo();</span><br><span class="line">        Map&lt;String, Object&gt; objectMap = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">        <span class="keyword">if</span> (pageSize == <span class="keyword">null</span> || pageSize &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            pageSize = BusinessConstants.DEFAULT_PAGINATION_PAGE_SIZE;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (currentPage == <span class="keyword">null</span> || currentPage &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            currentPage = BusinessConstants.DEFAULT_PAGINATION_PAGE_NUMBER;</span><br><span class="line">        &#125;</span><br><span class="line">        PageHelper.startPage(currentPage,pageSize,<span class="keyword">true</span>);</span><br><span class="line">        List&lt;UserEx&gt; list = userService.getUserList(parameterMap);</span><br><span class="line">        <span class="comment">//获取分页查询后的数据</span></span><br><span class="line">        PageInfo&lt;UserEx&gt; pageInfo = <span class="keyword">new</span> PageInfo&lt;&gt;(list);</span><br><span class="line">        objectMap.put(<span class="string">&quot;page&quot;</span>, queryInfo);</span><br><span class="line">        <span class="keyword">if</span> (list == <span class="keyword">null</span>) &#123;</span><br><span class="line">            queryInfo.setRows(<span class="keyword">new</span> ArrayList&lt;Object&gt;());</span><br><span class="line">            queryInfo.setTotal(BusinessConstants.DEFAULT_LIST_NULL_NUMBER);</span><br><span class="line">            <span class="keyword">return</span> returnJson(objectMap, <span class="string">&quot;查找不到数据&quot;</span>, ErpInfo.OK.code);</span><br><span class="line">        &#125;</span><br><span class="line">        queryInfo.setRows(list);</span><br><span class="line">        queryInfo.setTotal(pageInfo.getTotal());</span><br><span class="line">        <span class="keyword">return</span> returnJson(objectMap, ErpInfo.OK.name, ErpInfo.OK.code);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * create by: cjl</span></span><br><span class="line"><span class="comment">     * description:</span></span><br><span class="line"><span class="comment">     *  新增用户及机构和用户关系</span></span><br><span class="line"><span class="comment">     * create time: 2019/3/8 16:06</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Param</span>: beanJson</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> java.lang.Object</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/addUser&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">addUser</span><span class="params">(<span class="meta">@RequestParam(&quot;info&quot;)</span> String beanJson, HttpServletRequest request)</span><span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        JSONObject result = ExceptionConstants.standardSuccess();</span><br><span class="line">        Long userNumLimit = Long.parseLong(request.getSession().getAttribute(<span class="string">&quot;userNumLimit&quot;</span>).toString());</span><br><span class="line">        Long count = userService.countUser(<span class="keyword">null</span>,<span class="keyword">null</span>);</span><br><span class="line">        <span class="keyword">if</span>(count&gt;= userNumLimit) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> BusinessParamCheckingException(ExceptionConstants.USER_OVER_LIMIT_FAILED_CODE,</span><br><span class="line">                    ExceptionConstants.USER_OVER_LIMIT_FAILED_MSG);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            UserEx ue= JSON.parseObject(beanJson, UserEx.class);</span><br><span class="line">            userService.addUserAndOrgUserRel(ue);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 注册用户</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> loginame</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> password</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping(value = &quot;/registerUser&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">registerUser</span><span class="params">(<span class="meta">@RequestParam(value = &quot;loginame&quot;, required = false)</span> String loginame,</span></span></span><br><span class="line"><span class="function"><span class="params">                               <span class="meta">@RequestParam(value = &quot;password&quot;, required = false)</span> String password,</span></span></span><br><span class="line"><span class="function"><span class="params">                               HttpServletRequest request)</span><span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        JSONObject result = ExceptionConstants.standardSuccess();</span><br><span class="line">        UserEx ue= <span class="keyword">new</span> UserEx();</span><br><span class="line">        ue.setUsername(loginame);</span><br><span class="line">        ue.setLoginame(loginame);</span><br><span class="line">        ue.setPassword(password);</span><br><span class="line">        userService.checkUserNameAndLoginName(ue); <span class="comment">//检查用户名和登录名</span></span><br><span class="line">        ue = userService.registerUser(ue,manageRoleId,request);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * create by: cjl</span></span><br><span class="line"><span class="comment">     * description:</span></span><br><span class="line"><span class="comment">     *  修改用户及机构和用户关系</span></span><br><span class="line"><span class="comment">     * create time: 2019/3/8 16:06</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Param</span>: beanJson</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> java.lang.Object</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/updateUser&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">updateUser</span><span class="params">(<span class="meta">@RequestParam(&quot;info&quot;)</span> String beanJson,<span class="meta">@RequestParam(&quot;id&quot;)</span> Long id)</span><span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        JSONObject result = ExceptionConstants.standardSuccess();</span><br><span class="line">        UserEx ue= JSON.parseObject(beanJson, UserEx.class);</span><br><span class="line">        ue.setId(id);</span><br><span class="line">        userService.updateUserAndOrgUserRel(ue);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@PostMapping(&quot;/deleteUser&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">deleteUser</span><span class="params">(<span class="meta">@RequestParam(&quot;ids&quot;)</span> String ids)</span><span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        JSONObject result = ExceptionConstants.standardSuccess();</span><br><span class="line">        userService.batDeleteUser(ids);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@PostMapping(&quot;/batchDeleteUser&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">batchDeleteUser</span><span class="params">(<span class="meta">@RequestParam(&quot;ids&quot;)</span> String ids)</span><span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        JSONObject result = ExceptionConstants.standardSuccess();</span><br><span class="line">        userService.batDeleteUser(ids);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/getOrganizationUserTree&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> JSONArray <span class="title">getOrganizationUserTree</span><span class="params">()</span><span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        JSONArray arr=<span class="keyword">new</span> JSONArray();</span><br><span class="line">        List&lt;TreeNodeEx&gt; organizationUserTree= userService.getOrganizationUserTree();</span><br><span class="line">        <span class="keyword">if</span>(organizationUserTree!=<span class="keyword">null</span>&amp;&amp;organizationUserTree.size()&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span>(TreeNodeEx node:organizationUserTree)&#123;</span><br><span class="line">                String str=JSON.toJSONString(node);</span><br><span class="line">                JSONObject obj=JSON.parseObject(str);</span><br><span class="line">                arr.add(obj) ;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="账户管理"><a href="#账户管理" class="headerlink" title="账户管理"></a>账户管理</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jsh.erp.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSONArray;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSONObject;</span><br><span class="line"><span class="keyword">import</span> com.jsh.erp.constants.BusinessConstants;</span><br><span class="line"><span class="keyword">import</span> com.jsh.erp.constants.ExceptionConstants;</span><br><span class="line"><span class="keyword">import</span> com.jsh.erp.datasource.entities.Account;</span><br><span class="line"><span class="keyword">import</span> com.jsh.erp.datasource.vo.AccountVo4InOutList;</span><br><span class="line"><span class="keyword">import</span> com.jsh.erp.exception.BusinessRunTimeException;</span><br><span class="line"><span class="keyword">import</span> com.jsh.erp.service.account.AccountService;</span><br><span class="line"><span class="keyword">import</span> com.jsh.erp.utils.BaseResponseInfo;</span><br><span class="line"><span class="keyword">import</span> com.jsh.erp.utils.ErpInfo;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> com.jsh.erp.utils.ResponseJsonUtil.returnJson;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> jishenghua 75271*8920</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/account&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountController</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Logger logger = LoggerFactory.getLogger(AccountController.class);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> AccountService accountService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 查找结算账户信息-下拉框</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(value = &quot;/findBySelect&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">findBySelect</span><span class="params">(HttpServletRequest request)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        String res = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            List&lt;Account&gt; dataList = accountService.findBySelect();</span><br><span class="line">            <span class="comment">//存放数据json数组</span></span><br><span class="line">            JSONArray dataArray = <span class="keyword">new</span> JSONArray();</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">null</span> != dataList) &#123;</span><br><span class="line">                <span class="keyword">for</span> (Account account : dataList) &#123;</span><br><span class="line">                    JSONObject item = <span class="keyword">new</span> JSONObject();</span><br><span class="line">                    item.put(<span class="string">&quot;Id&quot;</span>, account.getId());</span><br><span class="line">                    <span class="comment">//结算账户名称</span></span><br><span class="line">                    item.put(<span class="string">&quot;AccountName&quot;</span>, account.getName());</span><br><span class="line">                    dataArray.add(item);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            res = dataArray.toJSONString();</span><br><span class="line">        &#125; <span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            res = <span class="string">&quot;获取数据失败&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取所有结算账户</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(value = &quot;/getAccount&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> BaseResponseInfo <span class="title">getAccount</span><span class="params">(HttpServletRequest request)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        BaseResponseInfo res = <span class="keyword">new</span> BaseResponseInfo();</span><br><span class="line">        Map&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            List&lt;Account&gt; accountList = accountService.getAccount();</span><br><span class="line">            map.put(<span class="string">&quot;accountList&quot;</span>, accountList);</span><br><span class="line">            res.code = <span class="number">200</span>;</span><br><span class="line">            res.data = map;</span><br><span class="line">        &#125; <span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            res.code = <span class="number">500</span>;</span><br><span class="line">            res.data = <span class="string">&quot;获取数据失败&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 账户流水信息</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> currentPage</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> pageSize</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> accountId</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> initialAmount</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(value = &quot;/findAccountInOutList&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> BaseResponseInfo <span class="title">findAccountInOutList</span><span class="params">(<span class="meta">@RequestParam(&quot;currentPage&quot;)</span> Integer currentPage,</span></span></span><br><span class="line"><span class="function"><span class="params">                                                 <span class="meta">@RequestParam(&quot;pageSize&quot;)</span> Integer pageSize,</span></span></span><br><span class="line"><span class="function"><span class="params">                                                 <span class="meta">@RequestParam(&quot;accountId&quot;)</span> Long accountId,</span></span></span><br><span class="line"><span class="function"><span class="params">                                                 <span class="meta">@RequestParam(&quot;initialAmount&quot;)</span> BigDecimal initialAmount,</span></span></span><br><span class="line"><span class="function"><span class="params">                                                 HttpServletRequest request)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        BaseResponseInfo res = <span class="keyword">new</span> BaseResponseInfo();</span><br><span class="line">        Map&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            List&lt;AccountVo4InOutList&gt; dataList = accountService.findAccountInOutList(accountId, (currentPage-<span class="number">1</span>)*pageSize, pageSize);</span><br><span class="line">            <span class="keyword">int</span> total = accountService.findAccountInOutListCount(accountId);</span><br><span class="line">            map.put(<span class="string">&quot;total&quot;</span>, total);</span><br><span class="line">            <span class="comment">//存放数据json数组</span></span><br><span class="line">            JSONArray dataArray = <span class="keyword">new</span> JSONArray();</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">null</span> != dataList) &#123;</span><br><span class="line">                <span class="keyword">for</span> (AccountVo4InOutList aEx : dataList) &#123;</span><br><span class="line">                    String timeStr = aEx.getOperTime().toString();</span><br><span class="line">                    BigDecimal balance = accountService.getAccountSum(accountId, timeStr, <span class="string">&quot;date&quot;</span>).add(accountService.getAccountSumByHead(accountId, timeStr, <span class="string">&quot;date&quot;</span>))</span><br><span class="line">                            .add(accountService.getAccountSumByDetail(accountId, timeStr, <span class="string">&quot;date&quot;</span>)).add(accountService.getManyAccountSum(accountId, timeStr, <span class="string">&quot;date&quot;</span>)).add(initialAmount);</span><br><span class="line">                    aEx.setBalance(balance);</span><br><span class="line">                    dataArray.add(aEx);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            map.put(<span class="string">&quot;rows&quot;</span>, dataArray);</span><br><span class="line">            res.code = <span class="number">200</span>;</span><br><span class="line">            res.data = map;</span><br><span class="line">        &#125; <span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            res.code = <span class="number">500</span>;</span><br><span class="line">            res.data = <span class="string">&quot;获取数据失败&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(value = &quot;/updateAmountIsDefault&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">updateAmountIsDefault</span><span class="params">(<span class="meta">@RequestParam(&quot;isDefault&quot;)</span> Boolean isDefault,</span></span></span><br><span class="line"><span class="function"><span class="params">                                 <span class="meta">@RequestParam(&quot;accountId&quot;)</span> Long accountId,</span></span></span><br><span class="line"><span class="function"><span class="params">                                 HttpServletRequest request)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        Map&lt;String, Object&gt; objectMap = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">        <span class="keyword">int</span> res = accountService.updateAmountIsDefault(isDefault, accountId);</span><br><span class="line">        <span class="keyword">if</span>(res &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> returnJson(objectMap, ErpInfo.OK.name, ErpInfo.OK.code);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> returnJson(objectMap, ErpInfo.ERROR.name, ErpInfo.ERROR.code);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * create by: qiankunpingtai</span></span><br><span class="line"><span class="comment">     * website：https://qiankunpingtai.cn</span></span><br><span class="line"><span class="comment">     * description:</span></span><br><span class="line"><span class="comment">     *  批量删除账户信息</span></span><br><span class="line"><span class="comment">     * create time: 2019/3/29 10:49</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Param</span>: ids</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> java.lang.Object</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/batchDeleteAccountByIds&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">batchDeleteAccountByIds</span><span class="params">(<span class="meta">@RequestParam(&quot;ids&quot;)</span> String ids,<span class="meta">@RequestParam(value=&quot;deleteType&quot;,</span></span></span></span><br><span class="line"><span class="function"><span class="params"><span class="meta">            required =false,defaultValue=BusinessConstants.DELETE_TYPE_NORMAL)</span>String deleteType)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">        JSONObject result = ExceptionConstants.standardSuccess();</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * create by: qiankunpingtai</span></span><br><span class="line"><span class="comment">         * create time: 2019/4/10 10:19</span></span><br><span class="line"><span class="comment">         * website：https://qiankunpingtai.cn</span></span><br><span class="line"><span class="comment">         * description:</span></span><br><span class="line"><span class="comment">         *  出于兼容性考虑，没有传递删除类型时，默认为正常删除</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(BusinessConstants.DELETE_TYPE_NORMAL.equals(deleteType))&#123;</span><br><span class="line">             i= accountService.batchDeleteAccountByIdsNormal(ids);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(BusinessConstants.DELETE_TYPE_FORCE.equals(deleteType))&#123;</span><br><span class="line">             i= accountService.batchDeleteAccountByIds(ids);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            logger.error(<span class="string">&quot;异常码[&#123;&#125;],异常提示[&#123;&#125;],参数,ids[&#123;&#125;],deleteType[&#123;&#125;]&quot;</span>,</span><br><span class="line">                    ExceptionConstants.DELETE_REFUSED_CODE,ExceptionConstants.DELETE_REFUSED_MSG,ids,deleteType);</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> BusinessRunTimeException(ExceptionConstants.DELETE_REFUSED_CODE,</span><br><span class="line">                    ExceptionConstants.DELETE_REFUSED_MSG);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(i&lt;<span class="number">1</span>)&#123;</span><br><span class="line">            logger.error(<span class="string">&quot;异常码[&#123;&#125;],异常提示[&#123;&#125;],参数,ids[&#123;&#125;]&quot;</span>,</span><br><span class="line">                    ExceptionConstants.ACCOUNT_DELETE_FAILED_CODE,ExceptionConstants.ACCOUNT_DELETE_FAILED_MSG,ids);</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> BusinessRunTimeException(ExceptionConstants.ACCOUNT_DELETE_FAILED_CODE,</span><br><span class="line">                    ExceptionConstants.ACCOUNT_DELETE_FAILED_MSG);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="09-源码下载"><a href="#09-源码下载" class="headerlink" title="09 源码下载"></a>09 源码下载</h2><p>关注公众号【C you again】，回复“springboot 仓库ERP管理系统”免费领取。<br>亦可直接扫描主页二维码关注，回复“springboot 仓库ERP管理系统”免费领取，<a href="https://gzh.cyouagain.cn/">点此打开个人主页</a></p><p><img src="https://img-blog.csdnimg.cn/20200825104331765.jpg#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200825104331765.jpg#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h2 id="10-如何使用"><a href="#10-如何使用" class="headerlink" title="10 如何使用"></a>10 如何使用</h2><ol><li>下载代码后解压缩</li><li>导入</li></ol><ul><li>将项目导入到开发工具当中</li><li>配置maven（因为我是直接从我工程中打包的，里面含有我本地的maven配置,所以需要重新配置一下）</li><li>导入sql到MySQL当中，修改application.properties中的数据源信息，和你自己的对应上就可以了</li><li>启动之后会有网址访问提示，直接访问就ok。默认用户名密码：admin/123456</li></ul><p><img src="https://img-blog.csdnimg.cn/20200825103158555.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200825103158555.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"><br><strong>说明：此源码来源于网络，若有侵权，请联系删除！！</strong></p>]]></content>
    
    
    <summary type="html">springboot+mybatis+easyui实现ERP仓库管理系统</summary>
    
    
    
    <category term="系统源码" scheme="https://cyouagain.cn/categories/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    
    <category term="源码分享" scheme="https://cyouagain.cn/tags/%E6%BA%90%E7%A0%81%E5%88%86%E4%BA%AB/"/>
    
    <category term="系统源码" scheme="https://cyouagain.cn/tags/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    <category term="ERP管理系统" scheme="https://cyouagain.cn/tags/ERP%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>JavaWeb 图书管理系统</title>
    <link href="https://cyouagain.cn/posts/5780.html"/>
    <id>https://cyouagain.cn/posts/5780.html</id>
    <published>2020-10-02T07:47:56.611Z</published>
    <updated>2020-10-02T14:39:34.178Z</updated>
    
    <content type="html"><![CDATA[<h2 id="01-系统简述"><a href="#01-系统简述" class="headerlink" title="01 系统简述"></a>01 系统简述</h2><p>图书管理系统就是利用计算机，结合互联网对图书进行结构化、自动化管理的一种软件，来提高对图书的管理效率。</p><h2 id="02-系统特点"><a href="#02-系统特点" class="headerlink" title="02 系统特点"></a>02 系统特点</h2><p>集成主流框架，简单精简化开发，高拓展性</p><h2 id="03-技术"><a href="#03-技术" class="headerlink" title="03 技术"></a>03 技术</h2><blockquote><p>springboot + jpa + mybatis + springsecurity +javaex</p></blockquote><h4 id="后端："><a href="#后端：" class="headerlink" title="后端："></a>后端：</h4><ul><li>基础框架： SpringBoot </li><li>简单数据操作： Spring Data Jpa </li><li>复杂数据操作： Mybatis </li><li>安全框架：SpringSecurity </li><li>模板引擎： Thymeleaf</li></ul><h4 id="前端："><a href="#前端：" class="headerlink" title="前端："></a>前端：</h4><ul><li>javaEx, 其实就是对html,css,js的封装。比较接近原生 修改起来比较方便</li><li>jQuery , 讲真的jQuery用着还是很舒服, 突破各种前端框架的限制</li></ul><h2 id="04-运行环境"><a href="#04-运行环境" class="headerlink" title="04  运行环境"></a>04  运行环境</h2><blockquote><p>jdk1.8 + maven3 + mysql5.7</p></blockquote><h2 id="05-功能介绍"><a href="#05-功能介绍" class="headerlink" title="05 功能介绍"></a>05 功能介绍</h2><h4 id="图书管理"><a href="#图书管理" class="headerlink" title="图书管理"></a>图书管理</h4><h5 id="图书列表：显示已经上架的图书信息，可对上架图书进行搜索、修改、删除操作。"><a href="#图书列表：显示已经上架的图书信息，可对上架图书进行搜索、修改、删除操作。" class="headerlink" title="图书列表：显示已经上架的图书信息，可对上架图书进行搜索、修改、删除操作。"></a>图书列表：显示已经上架的图书信息，可对上架图书进行搜索、修改、删除操作。</h5><h5 id="图书上架：录入图书信息，输入图书名称、作者、图书分类，页数，定价等数据进行图书录入。"><a href="#图书上架：录入图书信息，输入图书名称、作者、图书分类，页数，定价等数据进行图书录入。" class="headerlink" title="图书上架：录入图书信息，输入图书名称、作者、图书分类，页数，定价等数据进行图书录入。"></a>图书上架：录入图书信息，输入图书名称、作者、图书分类，页数，定价等数据进行图书录入。</h5><h4 id="借阅管理"><a href="#借阅管理" class="headerlink" title="借阅管理"></a>借阅管理</h4><h5 id="搜索图书：根据图书名称、作者名称，图书分类等搜索图书。"><a href="#搜索图书：根据图书名称、作者名称，图书分类等搜索图书。" class="headerlink" title="搜索图书：根据图书名称、作者名称，图书分类等搜索图书。"></a>搜索图书：根据图书名称、作者名称，图书分类等搜索图书。</h5><h5 id="借阅图书：录入图书信息，输入图书名称、作者、图书分类，页数，定价等数据进行图书借阅。"><a href="#借阅图书：录入图书信息，输入图书名称、作者、图书分类，页数，定价等数据进行图书借阅。" class="headerlink" title="借阅图书：录入图书信息，输入图书名称、作者、图书分类，页数，定价等数据进行图书借阅。"></a>借阅图书：录入图书信息，输入图书名称、作者、图书分类，页数，定价等数据进行图书借阅。</h5><h5 id="归还图书：对已经借阅的图书进行归还操作。"><a href="#归还图书：对已经借阅的图书进行归还操作。" class="headerlink" title="归还图书：对已经借阅的图书进行归还操作。"></a>归还图书：对已经借阅的图书进行归还操作。</h5><h4 id="读者管理"><a href="#读者管理" class="headerlink" title="读者管理"></a>读者管理</h4><h5 id="读者列表：显示已经注册的读者用户。"><a href="#读者列表：显示已经注册的读者用户。" class="headerlink" title="读者列表：显示已经注册的读者用户。"></a>读者列表：显示已经注册的读者用户。</h5><h5 id="读者添加：录入用户的昵称、用户名、密码、生日、电话、邮箱等信息添加新用户。"><a href="#读者添加：录入用户的昵称、用户名、密码、生日、电话、邮箱等信息添加新用户。" class="headerlink" title="读者添加：录入用户的昵称、用户名、密码、生日、电话、邮箱等信息添加新用户。"></a>读者添加：录入用户的昵称、用户名、密码、生日、电话、邮箱等信息添加新用户。</h5><h4 id="用户中心"><a href="#用户中心" class="headerlink" title="用户中心"></a>用户中心</h4><h5 id="个人信息：查看、修改个人信息。"><a href="#个人信息：查看、修改个人信息。" class="headerlink" title="个人信息：查看、修改个人信息。"></a>个人信息：查看、修改个人信息。</h5><h5 id="用户管理：对已经添加的用户进行搜索、删除、使用权限信息进行设置。"><a href="#用户管理：对已经添加的用户进行搜索、删除、使用权限信息进行设置。" class="headerlink" title="用户管理：对已经添加的用户进行搜索、删除、使用权限信息进行设置。"></a>用户管理：对已经添加的用户进行搜索、删除、使用权限信息进行设置。</h5><h5 id="添加管理员：录入管理员的昵称、用户名、密码、生日、电话、邮箱等信息添加新管理员。"><a href="#添加管理员：录入管理员的昵称、用户名、密码、生日、电话、邮箱等信息添加新管理员。" class="headerlink" title="添加管理员：录入管理员的昵称、用户名、密码、生日、电话、邮箱等信息添加新管理员。"></a>添加管理员：录入管理员的昵称、用户名、密码、生日、电话、邮箱等信息添加新管理员。</h5><h2 id="06-运行截图"><a href="#06-运行截图" class="headerlink" title="06 运行截图"></a>06 运行截图</h2><h4 id="登录界面"><a href="#登录界面" class="headerlink" title="登录界面"></a>登录界面</h4><p><img src="https://img-blog.csdnimg.cn/20200824155218898.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200824155218898.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="首页"><a href="#首页" class="headerlink" title="首页"></a>首页</h4><p><img src="https://img-blog.csdnimg.cn/20200824161417528.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200824161417528.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="图书列表界面"><a href="#图书列表界面" class="headerlink" title="图书列表界面"></a>图书列表界面</h4><p><img src="https://img-blog.csdnimg.cn/20200824161454178.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200824161454178.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="添加图书界面"><a href="#添加图书界面" class="headerlink" title="添加图书界面"></a>添加图书界面</h4><p><img src="https://img-blog.csdnimg.cn/20200824161540493.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200824161540493.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="图书归还界面"><a href="#图书归还界面" class="headerlink" title="图书归还界面"></a>图书归还界面</h4><p><img src="https://img-blog.csdnimg.cn/20200824161628239.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200824161628239.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="读者列表界面"><a href="#读者列表界面" class="headerlink" title="读者列表界面"></a>读者列表界面</h4><p><img src="https://img-blog.csdnimg.cn/20200824161701562.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200824161701562.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="个人信息界面"><a href="#个人信息界面" class="headerlink" title="个人信息界面"></a>个人信息界面</h4><p><img src="https://img-blog.csdnimg.cn/20200824161733917.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200824161733917.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="用户管理界面"><a href="#用户管理界面" class="headerlink" title="用户管理界面"></a>用户管理界面</h4><p><img src="https://img-blog.csdnimg.cn/20200824161922752.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200824161922752.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h2 id="07-主要代码"><a href="#07-主要代码" class="headerlink" title="07 主要代码"></a>07 主要代码</h2><h4 id="图书管理-1"><a href="#图书管理-1" class="headerlink" title="图书管理"></a>图书管理</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.book.manager.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.book.manager.entity.Book;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.service.BookService;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.util.R;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.util.http.CodeEnum;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.util.ro.PageIn;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.Api;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiOperation;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> 用户管理</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Api(tags = &quot;图书管理&quot;)</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/book&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> BookService bookService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;图书搜索列表&quot;)</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/list&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">getBookList</span><span class="params">(<span class="meta">@RequestBody</span> PageIn pageIn)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (pageIn == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> R.fail(CodeEnum.PARAM_ERROR);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.success(CodeEnum.SUCCESS,bookService.getBookList(pageIn));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;添加图书&quot;)</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/add&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">addBook</span><span class="params">(<span class="meta">@RequestBody</span> Book book)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> R.success(CodeEnum.SUCCESS,bookService.addBook(book));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;编辑图书&quot;)</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/update&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">modifyBook</span><span class="params">(<span class="meta">@RequestBody</span> Book book)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> R.success(CodeEnum.SUCCESS,bookService.updateBook(book));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;图书详情&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/detail&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">bookDetail</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> R.success(CodeEnum.SUCCESS,bookService.findBookById(id));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;图书详情 根据ISBN获取&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/detailByIsbn&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">bookDetailByIsbn</span><span class="params">(String isbn)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> R.success(CodeEnum.SUCCESS,bookService.findBookByIsbn(isbn));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;删除图书&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/delete&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">delBook</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        bookService.deleteBook(id);</span><br><span class="line">        <span class="keyword">return</span> R.success(CodeEnum.SUCCESS);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="借阅管理-1"><a href="#借阅管理-1" class="headerlink" title="借阅管理"></a>借阅管理</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.book.manager.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.hutool.core.date.DateUtil;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.entity.Borrow;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.service.BookService;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.service.BorrowService;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.util.R;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.util.consts.Constants;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.util.http.CodeEnum;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.util.ro.RetBookIn;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.util.vo.BackOut;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.util.vo.BookOut;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.Api;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiOperation;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.BeanUtils;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> 用户管理</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Api(tags = &quot;借阅管理&quot;)</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/borrow&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BorrowController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> BorrowService borrowService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> BookService bookService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;借阅列表&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">getBorrowList</span><span class="params">(Integer userId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> R.success(CodeEnum.SUCCESS,borrowService.findAllBorrowByUserId(userId));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;借阅图书&quot;)</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/add&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">addBorrow</span><span class="params">(<span class="meta">@RequestBody</span> Borrow borrow)</span> </span>&#123;</span><br><span class="line">        Integer result = borrowService.addBorrow(borrow);</span><br><span class="line">        <span class="keyword">if</span> (result == Constants.BOOK_BORROWED) &#123;</span><br><span class="line">            <span class="keyword">return</span> R.success(CodeEnum.BOOK_BORROWED);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (result == Constants.USER_SIZE_NOT_ENOUGH) &#123;</span><br><span class="line">            <span class="keyword">return</span> R.success(CodeEnum.USER_NOT_ENOUGH);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (result == Constants.BOOK_SIZE_NOT_ENOUGH) &#123;</span><br><span class="line">            <span class="keyword">return</span> R.success(CodeEnum.BOOK_NOT_ENOUGH);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> R.success(CodeEnum.SUCCESS,Constants.OK);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;编辑借阅&quot;)</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/update&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">modifyBorrow</span><span class="params">(<span class="meta">@RequestBody</span> Borrow borrow)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> R.success(CodeEnum.SUCCESS,borrowService.updateBorrow(borrow));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;借阅详情&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/detail&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">borrowDetail</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> R.success(CodeEnum.SUCCESS,borrowService.findById(id));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;删除归还记录&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/delete&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">delBorrow</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        borrowService.deleteBorrow(id);</span><br><span class="line">        <span class="keyword">return</span> R.success(CodeEnum.SUCCESS);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;已借阅列表&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/borrowed&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">borrowedList</span><span class="params">(Integer userId)</span> </span>&#123;</span><br><span class="line">        List&lt;BackOut&gt; outs = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (userId!=<span class="keyword">null</span>&amp;&amp;userId&gt;<span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// 获取所有 已借阅 未归还书籍</span></span><br><span class="line">            List&lt;Borrow&gt; borrows = borrowService.findBorrowsByUserIdAndRet(userId, Constants.NO);</span><br><span class="line">            <span class="keyword">for</span> (Borrow borrow : borrows) &#123;</span><br><span class="line">                BackOut backOut = <span class="keyword">new</span> BackOut();</span><br><span class="line">                BookOut out = bookService.findBookById(borrow.getBookId());</span><br><span class="line">                BeanUtils.copyProperties(out,backOut);</span><br><span class="line"></span><br><span class="line">                backOut.setBorrowTime(DateUtil.format(borrow.getCreateTime(),Constants.DATE_FORMAT));</span><br><span class="line"></span><br><span class="line">                String endTimeStr = DateUtil.format(borrow.getEndTime(), Constants.DATE_FORMAT);</span><br><span class="line">                backOut.setEndTime(endTimeStr);</span><br><span class="line">                <span class="comment">// 判断是否逾期</span></span><br><span class="line">                String toDay = DateUtil.format(<span class="keyword">new</span> Date(), Constants.DATE_FORMAT);</span><br><span class="line">                <span class="keyword">int</span> i = toDay.compareTo(endTimeStr);</span><br><span class="line">                <span class="keyword">if</span> (i&gt;<span class="number">0</span>) &#123;</span><br><span class="line">                    backOut.setLate(Constants.YES_STR);</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    backOut.setLate(Constants.NO_STR);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                outs.add(backOut);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.success(CodeEnum.SUCCESS,outs);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;归还书籍&quot;)</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/ret&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">retBook</span><span class="params">(Integer userId, Integer bookId)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 归还图书</span></span><br><span class="line">        borrowService.retBook(userId,bookId);</span><br><span class="line">        <span class="keyword">return</span> R.success(CodeEnum.SUCCESS);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>用户管理</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.book.manager.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.hutool.core.bean.BeanUtil;</span><br><span class="line"><span class="keyword">import</span> cn.hutool.core.date.DateUtil;</span><br><span class="line"><span class="keyword">import</span> cn.hutool.core.util.StrUtil;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.entity.Users;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.service.UserService;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.util.R;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.util.consts.Constants;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.util.consts.ConvertUtil;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.util.http.CodeEnum;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.util.vo.PageOut;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.util.ro.PageIn;</span><br><span class="line"><span class="keyword">import</span> com.book.manager.util.vo.UserOut;</span><br><span class="line"><span class="keyword">import</span> com.github.pagehelper.PageInfo;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.Api;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiOperation;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.BeanUtils;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.context.SecurityContextHolder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> 用户管理</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Api(tags = &quot;用户管理&quot;)</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UsersController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;用户列表&quot;)</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/list&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">getUsers</span><span class="params">(<span class="meta">@RequestBody</span> PageIn pageIn)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (pageIn == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> R.fail(CodeEnum.PARAM_ERROR);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 封装分页出参对象</span></span><br><span class="line">        PageInfo&lt;Users&gt; userList = userService.getUserList(pageIn);</span><br><span class="line">        PageOut pageOut = <span class="keyword">new</span> PageOut();</span><br><span class="line">        pageOut.setCurrPage(userList.getPageNum());</span><br><span class="line">        pageOut.setPageSize(userList.getPageSize());</span><br><span class="line">        pageOut.setTotal((<span class="keyword">int</span>) userList.getTotal());</span><br><span class="line">        List&lt;UserOut&gt; outs = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Users users : userList.getList()) &#123;</span><br><span class="line">            UserOut out = <span class="keyword">new</span> UserOut();</span><br><span class="line">            BeanUtils.copyProperties(users,out);</span><br><span class="line">            out.setIdent(ConvertUtil.identStr(users.getIdentity()));</span><br><span class="line">            out.setBirth(DateUtil.format(users.getBirthday(),Constants.DATE_FORMAT));</span><br><span class="line">            outs.add(out);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        pageOut.setList(outs);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.success(CodeEnum.SUCCESS,pageOut);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    @ApiOperation(&quot;添加用户&quot;)</span></span><br><span class="line"><span class="comment">//    @PostMapping(&quot;/add&quot;)</span></span><br><span class="line"><span class="comment">//    public R addUsers(@RequestBody Users users) &#123;</span></span><br><span class="line"><span class="comment">//        return R.success(CodeEnum.SUCCESS,userService.addUser(users));</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;添加读者&quot;)</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/addReader&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">addReader</span><span class="params">(<span class="meta">@RequestBody</span> Users users)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (users == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> R.fail(CodeEnum.PARAM_ERROR);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 读者默认是普通用户</span></span><br><span class="line">        users.setIsAdmin(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> R.success(CodeEnum.SUCCESS,userService.addUser(users));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;添加管理员&quot;)</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/addAdmin&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">addAdmin</span><span class="params">(<span class="meta">@RequestBody</span> Users users)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (users == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> R.fail(CodeEnum.PARAM_ERROR);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 设置管理员权限</span></span><br><span class="line">        users.setIsAdmin(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> R.success(CodeEnum.SUCCESS,userService.addUser(users));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;编辑用户&quot;)</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/update&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">modifyUsers</span><span class="params">(<span class="meta">@RequestBody</span> Users users)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> R.success(CodeEnum.SUCCESS,userService.updateUser(users));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;用户详情&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/detail&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">userDetail</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        Users user = userService.findUserById(id);</span><br><span class="line">        <span class="keyword">if</span> (user!=<span class="keyword">null</span>) &#123;</span><br><span class="line">            UserOut out = <span class="keyword">new</span> UserOut();</span><br><span class="line">            BeanUtils.copyProperties(user,out);</span><br><span class="line">            out.setBirth(DateUtil.format(user.getBirthday(),Constants.DATE_FORMAT));</span><br><span class="line">            out.setIdent(ConvertUtil.identStr(user.getIdentity()));</span><br><span class="line">            <span class="keyword">return</span> R.success(CodeEnum.SUCCESS,out);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.fail(CodeEnum.NOT_FOUND);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;删除用户&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/delete&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">delUsers</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        userService.deleteUser(id);</span><br><span class="line">        <span class="keyword">return</span> R.success(CodeEnum.SUCCESS);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;获取当前用户登陆信息&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/currUser&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">getCurrUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();</span><br><span class="line">        <span class="keyword">if</span> (principal!=<span class="keyword">null</span>) &#123;</span><br><span class="line">            Map&lt;String,Object&gt; map = BeanUtil.beanToMap(principal);</span><br><span class="line">            String username = (String) map.get(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (StrUtil.isNotBlank(username)) &#123;</span><br><span class="line">                Users users = userService.findByUsername(username);</span><br><span class="line">                UserOut out = <span class="keyword">new</span> UserOut();</span><br><span class="line">                BeanUtils.copyProperties(users,out);</span><br><span class="line">                out.setBirth(DateUtil.format(users.getBirthday(),Constants.DATE_FORMAT));</span><br><span class="line">                Integer identity = users.getIdentity();</span><br><span class="line">                String ident = <span class="string">&quot;&quot;</span>;</span><br><span class="line">                <span class="keyword">if</span> (identity == Constants.STUDENT) &#123;</span><br><span class="line">                    ident = Constants.STU_STR;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span> (identity == Constants.TEACHER) &#123;</span><br><span class="line">                    ident = Constants.TEA_STR;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span> (identity == Constants.OTHER) &#123;</span><br><span class="line">                    ident = Constants.OTHER_STR;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span> (identity == Constants.ADMIN) &#123;</span><br><span class="line">                    ident = Constants.ADMIN_STR;</span><br><span class="line">                &#125;</span><br><span class="line">                out.setIdent(ident);</span><br><span class="line">                <span class="keyword">return</span> R.success(CodeEnum.SUCCESS,out);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> R.fail(CodeEnum.USER_NOT_FOUND);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="08-使用说明"><a href="#08-使用说明" class="headerlink" title="08 使用说明"></a>08 使用说明</h2><ol><li>本地搭建好java8环境,数据库MySQL5.5+；</li><li>导入sql文件至数据库中，修改数据连接(你自己库名，用户名，密码等)；</li><li>导入项目，配置maven, 等待依赖下载完成；</li><li>安装IDE，打开项目；</li><li>启动访问<a href="http://localhost:8080/">http://localhost:8080</a> 即可；</li><li>账号：【学生： stu/123】【教师： tea/123】【其他：other/123】【管理员：admin/123】 </li></ol><h2 id="09-如何导入？"><a href="#09-如何导入？" class="headerlink" title="09 如何导入？"></a>09 如何导入？</h2><ul><li>idea：直接open打开源码文件夹，记住是pom文件所在的目录 </li><li>eclipse： 直接导入- 选择已存在导入maven项目</li><li>检查maven是否配置好</li></ul><h2 id="10-源码下载"><a href="#10-源码下载" class="headerlink" title="10 源码下载"></a>10 源码下载</h2><p>关注公众号【C you again】，回复“JavaWeb 图书管理系统”免费领取。<br>亦可直接扫描主页二维码关注，回复“JavaWeb 图书管理系统”免费领取，<a href="https://gzh.cyouagain.cn/">点此打开个人主页</a></p><p><img src="https://img-blog.csdnimg.cn/20200824171745401.jpg#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200824171745401.jpg#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p><strong>说明：此源码来源于网络，若有侵权，请联系删除！！</strong></p>]]></content>
    
    
    <summary type="html">springboot + jpa + mybatis + springsecurity +javaex实现图书管理系统</summary>
    
    
    
    <category term="系统源码" scheme="https://cyouagain.cn/categories/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    
    <category term="源码分享" scheme="https://cyouagain.cn/tags/%E6%BA%90%E7%A0%81%E5%88%86%E4%BA%AB/"/>
    
    <category term="系统源码" scheme="https://cyouagain.cn/tags/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    <category term="图书管理系统" scheme="https://cyouagain.cn/tags/%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>Java GUI_图书管理系统设计与实现</title>
    <link href="https://cyouagain.cn/posts/46042.html"/>
    <id>https://cyouagain.cn/posts/46042.html</id>
    <published>2020-10-02T07:47:56.607Z</published>
    <updated>2020-10-03T08:48:07.830Z</updated>
    
    <content type="html"><![CDATA[<h2 id="01-概述"><a href="#01-概述" class="headerlink" title="01 概述"></a>01 概述</h2><p>一款功能强大的图书馆管理系统，功能齐全，小白/大学生项目实训，学习的不二之选。</p><h2 id="02-技术"><a href="#02-技术" class="headerlink" title="02 技术"></a>02 技术</h2><p><strong>此系统使用 java awt 实现</strong>。java.awt是一个软件包，包含用于创建用户界面和绘制图形图像的所有分类。在AWT术语中，诸如按钮或滚动条之类的用户界面对象称为组件。Component类是所有 AWT 组件的根。</p><h2 id="03-功能详解"><a href="#03-功能详解" class="headerlink" title="03 功能详解"></a>03 功能详解</h2><h4 id="基础维护"><a href="#基础维护" class="headerlink" title="基础维护"></a>基础维护</h4><h5 id="图书维护"><a href="#图书维护" class="headerlink" title="图书维护"></a>图书维护</h5><ul><li>添加：输入图书编号、图书名称、图书页数、图书作者、出版社、库存数量、所属类型等图书信息，点击Save按钮添加新图书。</li><li>修改：首先根据图书编号查询到所要修改的图书，然后对图书的名称、图书页数、作者、出版时间、定价、库存等信息进行修改。</li><li>删除：首先根据图书编号查询到所要删除的图书，然后进行删除操作。</li></ul><h5 id="读者维护"><a href="#读者维护" class="headerlink" title="读者维护"></a>读者维护</h5><ul><li>添加：输入读者编号、读者姓名、读者类别、读者性别、可借天数等信息，然后点击“Add”按钮添加新读者。</li><li>修改：首先根据读者编号查询到要修改的读者信息，再对读者编号、读者姓名、读者类别、读者性别、可借天数等信息进行修改，修改完成点击“保存”按钮完成修改。</li><li>删除：首先根据读者编号查询到要删除的读者信息，然后进行删除操作。</li></ul><h4 id="借阅管理"><a href="#借阅管理" class="headerlink" title="借阅管理"></a>借阅管理</h4><ul><li>借书管理：首先根据图书编号和读者编号查询到图书和读者信息，在点击“借出”按钮完成借书。</li><li>还书管理：首先根据图书编号和读者编号查询到图书和读者信息，在点击“还书”按钮完成还书。</li></ul><h4 id="查询管理"><a href="#查询管理" class="headerlink" title="查询管理"></a>查询管理</h4><ul><li>图书查询：输入图书名称、作者、出版时间中的任意一项，点击“查询”按钮查询图书。</li><li>读者查询：输入读者姓名、读者类型中的任意一项，点击“查询”按钮查询读者。</li></ul><h4 id="系统管理"><a href="#系统管理" class="headerlink" title="系统管理"></a>系统管理</h4><ul><li>修改密码：首先输入旧密码等待校验，旧密码输入正确后即可设定新的密码。</li><li>退出系统：退出图书管理系统程序。</li></ul><h2 id="04-运行截图"><a href="#04-运行截图" class="headerlink" title="04 运行截图"></a>04 运行截图</h2><h4 id="添加图书"><a href="#添加图书" class="headerlink" title="添加图书"></a>添加图书</h4><p><img src="https://img-blog.csdnimg.cn/20200824205253483.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200824205253483.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="添加读者"><a href="#添加读者" class="headerlink" title="添加读者"></a>添加读者</h4><p><img src="https://img-blog.csdnimg.cn/20200824205410691.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200824205410691.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="借书管理"><a href="#借书管理" class="headerlink" title="借书管理"></a>借书管理</h4><p><img src="https://img-blog.csdnimg.cn/20200824205603727.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200824205603727.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="图书查询"><a href="#图书查询" class="headerlink" title="图书查询"></a>图书查询</h4><p><img src="https://img-blog.csdnimg.cn/20200824205755671.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200824205755671.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h4 id="修改密码"><a href="#修改密码" class="headerlink" title="修改密码"></a>修改密码</h4><p><img src="https://img-blog.csdnimg.cn/20200824205839333.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200824205839333.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjI1Nzc4,size_16,color_FFFFFF,t_70#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><h2 id="05-主要代码"><a href="#05-主要代码" class="headerlink" title="05 主要代码"></a>05 主要代码</h2><h4 id="添加图书-1"><a href="#添加图书-1" class="headerlink" title="添加图书"></a>添加图书</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jason.frame;<span class="comment">//com.jason.frame.BookAdd.java</span></span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.*;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.text.ParseException;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> javax.swing.JOptionPane;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookAdd</span> <span class="keyword">extends</span> <span class="title">Frame</span> <span class="keyword">implements</span> <span class="title">ActionListener</span></span>&#123;</span><br><span class="line">Toolkit tool= getToolkit();</span><br><span class="line">String url=<span class="string">&quot;src/bookbk.png&quot;</span>;</span><br><span class="line">Image img=tool.getImage(url);</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">paint</span><span class="params">(Graphics g)</span></span>&#123;</span><br><span class="line">g.drawImage(img,<span class="number">0</span>,<span class="number">0</span>,<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clearAndSetBookId</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;booktxt.length;j++)&#123;</span><br><span class="line">booktxt[j].setText(<span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">String str=getInsertOrderedList();</span><br><span class="line">booktxt[<span class="number">0</span>].setEditable(<span class="keyword">false</span>);</span><br><span class="line">booktxt[<span class="number">0</span>].setText(str);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">String[] lbname=&#123;<span class="string">&quot;图书编号&quot;</span>,<span class="string">&quot;图书名称&quot;</span>,<span class="string">&quot;图书页数&quot;</span>,<span class="string">&quot;图书作者&quot;</span>,<span class="string">&quot;翻     译&quot;</span>,<span class="string">&quot;出 版 社&quot;</span>,<span class="string">&quot;出版时间&quot;</span>,<span class="string">&quot;定价&quot;</span>,<span class="string">&quot;库存数量&quot;</span>,<span class="string">&quot;所属类型&quot;</span>&#125;;</span><br><span class="line">Label[] booklb=<span class="keyword">new</span> Label[<span class="number">10</span>];</span><br><span class="line">TextField[] booktxt=<span class="keyword">new</span> TextField[<span class="number">10</span>];</span><br><span class="line">Button savebtn=<span class="keyword">new</span> Button(<span class="string">&quot;Save&quot;</span>);</span><br><span class="line">Button closebtn=<span class="keyword">new</span> Button(<span class="string">&quot;Close&quot;</span>);</span><br><span class="line">Choice booktype=<span class="keyword">new</span> Choice();</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">BookAdd</span><span class="params">()</span></span>&#123;</span><br><span class="line">setTitle(<span class="string">&quot;添加新书&quot;</span>);</span><br><span class="line">setLayout(<span class="keyword">null</span>);</span><br><span class="line">setSize(<span class="number">500</span>,<span class="number">250</span>);</span><br><span class="line">setResizable(<span class="keyword">false</span>);</span><br><span class="line"><span class="comment">//this.setOpaque(false);</span></span><br><span class="line"><span class="keyword">this</span>.setForeground(Color.BLACK);</span><br><span class="line"><span class="keyword">int</span> lx=<span class="number">50</span>,ly=<span class="number">50</span>;</span><br><span class="line">booktype.add(<span class="string">&quot;程序设计&quot;</span>);</span><br><span class="line">booktype.add(<span class="string">&quot;图形设计&quot;</span>);</span><br><span class="line">booktype.add(<span class="string">&quot;其他&quot;</span>);</span><br><span class="line">booktype.add(<span class="string">&quot;科技&quot;</span>);</span><br><span class="line">booktype.add(<span class="string">&quot;文学&quot;</span>);</span><br><span class="line">booktype.add(<span class="string">&quot;历史&quot;</span>);</span><br><span class="line">booktype.add(<span class="string">&quot;百科&quot;</span>);</span><br><span class="line">booktype.add(<span class="string">&quot;英语&quot;</span>);</span><br><span class="line">booktype.add(<span class="string">&quot;计算机&quot;</span>);</span><br><span class="line">booktype.add(<span class="string">&quot;Internet&quot;</span>);</span><br><span class="line">booktype.add(<span class="string">&quot;数学&quot;</span>);</span><br><span class="line">String str=getInsertOrderedList();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;booklb.length;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(lx&gt;<span class="number">240</span>)&#123;</span><br><span class="line">lx=<span class="number">50</span>;</span><br><span class="line">ly=ly+<span class="number">30</span>;</span><br><span class="line">&#125;</span><br><span class="line">booklb[i]=<span class="keyword">new</span> Label(lbname[i]);</span><br><span class="line">booklb[i].setBounds(lx,ly,<span class="number">50</span>,<span class="number">20</span>);</span><br><span class="line">booktxt[i]=<span class="keyword">new</span> TextField();</span><br><span class="line">booktxt[i].setBounds(lx+<span class="number">60</span>,ly,<span class="number">100</span>,<span class="number">20</span>);</span><br><span class="line">lx=lx+<span class="number">190</span>;</span><br><span class="line">add(booklb[i]);add(booktxt[i]);</span><br><span class="line">&#125;</span><br><span class="line">booktxt[<span class="number">0</span>].setEditable(<span class="keyword">false</span>);</span><br><span class="line">booktxt[<span class="number">0</span>].setText(str);</span><br><span class="line"></span><br><span class="line">booktxt[<span class="number">9</span>].setVisible(<span class="keyword">false</span>);</span><br><span class="line">booktype.setBounds(<span class="number">300</span>,<span class="number">170</span>,<span class="number">100</span>,<span class="number">20</span>);</span><br><span class="line">add(booktype);</span><br><span class="line">savebtn.setBounds(<span class="number">150</span>,<span class="number">210</span>,<span class="number">80</span>,<span class="number">25</span>);</span><br><span class="line">closebtn.setBounds(<span class="number">280</span>,<span class="number">210</span>,<span class="number">80</span>,<span class="number">25</span>);</span><br><span class="line">add(savebtn);add(closebtn);</span><br><span class="line">addWindowListener(<span class="keyword">new</span> WindowAdapter()&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">windowClosing</span><span class="params">(WindowEvent e)</span></span>&#123;</span><br><span class="line">DbOp.close();</span><br><span class="line">dispose();</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">savebtn.addActionListener(<span class="keyword">this</span>);</span><br><span class="line">closebtn.addActionListener(<span class="keyword">this</span>);</span><br><span class="line">setLocationRelativeTo(<span class="keyword">null</span>);</span><br><span class="line">setVisible(<span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getInsertOrderedList</span><span class="params">()</span></span>&#123;</span><br><span class="line">String returnstring=<span class="string">&quot;&quot;</span>;</span><br><span class="line">String sql=<span class="string">&quot;select * from book&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line">ResultSet rs=DbOp.executeQuery(sql);</span><br><span class="line"><span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line"></span><br><span class="line">count++;</span><br><span class="line">&#125;</span><br><span class="line">String[] allid=<span class="keyword">new</span> String[count];</span><br><span class="line"><span class="keyword">int</span>[] intofid=<span class="keyword">new</span> <span class="keyword">int</span>[count];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">ResultSet rs1=DbOp.executeQuery(sql);</span><br><span class="line"><span class="keyword">while</span>(rs1.next())&#123;</span><br><span class="line">allid[i]=rs1.getString(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">String mystr=allid[i].substring(<span class="number">1</span>);</span><br><span class="line">intofid[i]=Integer.parseInt(mystr);</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> temp=-<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;intofid.length;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(intofid[j]&gt;temp)&#123;</span><br><span class="line">temp=intofid[j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">returnstring=String.valueOf(temp+<span class="number">1</span>);</span><br><span class="line"><span class="keyword">int</span> len=returnstring.length();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> f=<span class="number">0</span>;f&lt;<span class="number">5</span>-len;f++)&#123;</span><br><span class="line">returnstring=<span class="string">&quot;0&quot;</span>+returnstring;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">returnstring=<span class="string">&quot;A&quot;</span>+returnstring;</span><br><span class="line">DbOp.close();</span><br><span class="line">&#125;<span class="keyword">catch</span>(SQLException ee)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> returnstring;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span>  <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span></span>&#123;</span><br><span class="line">Object ob=e.getSource();</span><br><span class="line"><span class="keyword">if</span>(ob==savebtn)&#123;</span><br><span class="line">savebtnActionPerformed();</span><br><span class="line">clearAndSetBookId();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(ob==closebtn)&#123;</span><br><span class="line">DbOp.close();</span><br><span class="line">dispose();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span>  <span class="keyword">void</span> <span class="title">savebtnActionPerformed</span><span class="params">()</span></span>&#123;</span><br><span class="line">String id=booktxt[<span class="number">0</span>].getText();</span><br><span class="line">String typestr=booktype.getSelectedItem().toString();</span><br><span class="line">String[] inputstring=<span class="keyword">new</span> String[<span class="number">9</span>];</span><br><span class="line"><span class="keyword">boolean</span> emptyequals=<span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;inputstring.length;i++)&#123;</span><br><span class="line">inputstring[i]=booktxt[i].getText();</span><br><span class="line"><span class="keyword">if</span>(inputstring[i].equals(<span class="string">&quot;&quot;</span>))&#123;</span><br><span class="line">JOptionPane.showMessageDialog(<span class="keyword">null</span>,<span class="string">&quot;请务必填写完整&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(id.equals(<span class="string">&quot;&quot;</span>))&#123;</span><br><span class="line">JOptionPane.showMessageDialog(<span class="keyword">null</span>,<span class="string">&quot;图书编号不能为空&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(IfBookIdExit(id))&#123;</span><br><span class="line">JOptionPane.showMessageDialog(<span class="keyword">null</span>,<span class="string">&quot;图书编号已存在&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">SimpleDateFormat sdf=<span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM&quot;</span>);</span><br><span class="line">sdf.parse(inputstring[<span class="number">6</span>]);</span><br><span class="line"><span class="keyword">float</span> price=Float.parseFloat(inputstring[<span class="number">7</span>]);</span><br><span class="line"><span class="keyword">int</span> stock= Integer.parseInt(inputstring[<span class="number">8</span>]);</span><br><span class="line"><span class="keyword">int</span> page=Integer.parseInt(inputstring[<span class="number">2</span>]);</span><br><span class="line">String sql=<span class="string">&quot;insert into book(id,bookname,booktype,author,translator,publisher,publish_time,price,stock,page)&quot;</span>;</span><br><span class="line">sql=sql+<span class="string">&quot;values(&#x27;&quot;</span>+id+<span class="string">&quot;&#x27;,&#x27;&quot;</span>+inputstring[<span class="number">1</span>]+<span class="string">&quot;&#x27;,&#x27;&quot;</span>+typestr+<span class="string">&quot;&#x27;,&#x27;&quot;</span>+inputstring[<span class="number">3</span>]+<span class="string">&quot;&#x27;,&#x27;&quot;</span>+inputstring[<span class="number">4</span>]+<span class="string">&quot;&#x27;,&#x27;&quot;</span>;</span><br><span class="line">sql=sql+inputstring[<span class="number">5</span>]+<span class="string">&quot;&#x27;,&#x27;&quot;</span>+inputstring[<span class="number">6</span>]+<span class="string">&quot;&#x27;,&quot;</span>+price+<span class="string">&quot;,&quot;</span>+stock+<span class="string">&quot;,&quot;</span>+page+<span class="string">&quot;)&quot;</span>;</span><br><span class="line"><span class="keyword">int</span> i=DbOp.executeUpdate(sql);</span><br><span class="line"><span class="keyword">if</span>(i==<span class="number">1</span>)&#123;</span><br><span class="line">JOptionPane.showMessageDialog(<span class="keyword">null</span>,<span class="string">&quot;图书添加成功！&quot;</span>);</span><br><span class="line">clearAllText();</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">catch</span>(ParseException e2)&#123;</span><br><span class="line">JOptionPane.showMessageDialog(<span class="keyword">null</span>,<span class="string">&quot;出版时间格式错误，正确为（年-月）&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">catch</span>(NumberFormatException e1)&#123;</span><br><span class="line">JOptionPane.showMessageDialog(<span class="keyword">null</span>,<span class="string">&quot;库存数量，价格，页数错误，应为数字&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">IfBookIdExit</span><span class="params">(String id)</span></span>&#123;</span><br><span class="line"><span class="keyword">boolean</span> right=<span class="keyword">false</span>;</span><br><span class="line">String sql=<span class="string">&quot;select*from book where id=&#x27;&quot;</span>+id+<span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line">ResultSet rs=DbOp.executeQuery(sql);</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line"></span><br><span class="line">right = <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//right = false;</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(SQLException e)&#123;</span><br><span class="line">JOptionPane.showMessageDialog(<span class="keyword">null</span>,<span class="string">&quot;无法正常读取数据&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> right;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clearAllText</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;booktxt.length;i++)&#123;</span><br><span class="line">booktxt[i].setText(<span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line"><span class="keyword">new</span> BookAdd();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="添加读者-1"><a href="#添加读者-1" class="headerlink" title="添加读者"></a>添加读者</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jason.frame;<span class="comment">//com.jason.frame.ReaderAdd.java</span></span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.*;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> javax.swing.JOptionPane;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReaderAdd</span> <span class="keyword">extends</span> <span class="title">Frame</span></span>&#123;</span><br><span class="line">Toolkit tool= getToolkit();</span><br><span class="line">String url=<span class="string">&quot;src/bookbk.png&quot;</span>;</span><br><span class="line">Image img=tool.getImage(url);</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">paint</span><span class="params">(Graphics g)</span></span>&#123;</span><br><span class="line">g.drawImage(img,<span class="number">0</span>,<span class="number">0</span>,<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clearAndSetReaderId</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;readertxt.length;j++)&#123;</span><br><span class="line">readertxt[j].setText(<span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">String str=getInsertOrderedList();</span><br><span class="line">readertxt[<span class="number">0</span>].setEditable(<span class="keyword">false</span>);</span><br><span class="line">readertxt[<span class="number">0</span>].setText(str);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">String[] labelsign=&#123;<span class="string">&quot;读者编号&quot;</span>,<span class="string">&quot;读者姓名&quot;</span>,<span class="string">&quot;读者类别&quot;</span>,<span class="string">&quot;读者性别&quot;</span>,<span class="string">&quot;可借数量&quot;</span>,<span class="string">&quot;可借天数&quot;</span>&#125;;</span><br><span class="line">Label[] readerlb=<span class="keyword">new</span> Label[<span class="number">6</span>];</span><br><span class="line"><span class="keyword">static</span> TextField[] readertxt=<span class="keyword">new</span> TextField[<span class="number">6</span>];</span><br><span class="line">Button querybtn,closebtn;</span><br><span class="line"><span class="keyword">static</span> Choice readertype,readersex;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ReaderAdd</span><span class="params">()</span></span>&#123;</span><br><span class="line">setLayout(<span class="keyword">null</span>);</span><br><span class="line">setSize(<span class="number">500</span>,<span class="number">200</span>);setResizable(<span class="keyword">false</span>);</span><br><span class="line">setTitle(<span class="string">&quot;添加新读者&quot;</span>);</span><br><span class="line">String str=getInsertOrderedList();</span><br><span class="line"><span class="keyword">int</span> lx=<span class="number">50</span>,ly=<span class="number">50</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;readertxt.length;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(lx&gt;<span class="number">240</span>)&#123;</span><br><span class="line">ly=ly+<span class="number">30</span>;</span><br><span class="line">lx=<span class="number">50</span>;</span><br><span class="line">&#125;</span><br><span class="line">readerlb[i]=<span class="keyword">new</span> Label(labelsign[i]);</span><br><span class="line">readertxt[i]=<span class="keyword">new</span> TextField();</span><br><span class="line">readerlb[i].setBounds(lx,ly,<span class="number">50</span>,<span class="number">20</span>);</span><br><span class="line">readertxt[i].setBounds(lx+<span class="number">60</span>,ly,<span class="number">100</span>,<span class="number">20</span>);</span><br><span class="line">lx=lx+<span class="number">190</span>;</span><br><span class="line">add(readerlb[i]);</span><br><span class="line">add(readertxt[i]);</span><br><span class="line">&#125;</span><br><span class="line">readertxt[<span class="number">0</span>].setEditable(<span class="keyword">false</span>);</span><br><span class="line">readertxt[<span class="number">0</span>].setText(str);</span><br><span class="line">readertype=<span class="keyword">new</span> Choice();</span><br><span class="line">readertype.add(<span class="string">&quot;教师&quot;</span>);</span><br><span class="line">readertype.add(<span class="string">&quot;学生&quot;</span>);</span><br><span class="line">readertype.add(<span class="string">&quot;作家&quot;</span>);</span><br><span class="line">readertype.add(<span class="string">&quot;职工&quot;</span>);</span><br><span class="line">readertype.add(<span class="string">&quot;其他&quot;</span>);</span><br><span class="line">readersex=<span class="keyword">new</span> Choice();</span><br><span class="line">readersex.add(<span class="string">&quot;男&quot;</span>);</span><br><span class="line">readersex.add(<span class="string">&quot;女&quot;</span>);</span><br><span class="line">readertxt[<span class="number">2</span>].setVisible(<span class="keyword">false</span>);</span><br><span class="line">readertxt[<span class="number">3</span>].setVisible(<span class="keyword">false</span>);</span><br><span class="line">readertype.setBounds(<span class="number">110</span>,<span class="number">80</span>,<span class="number">100</span>,<span class="number">20</span>);</span><br><span class="line">readersex.setBounds(<span class="number">300</span>,<span class="number">80</span>,<span class="number">100</span>,<span class="number">20</span>);</span><br><span class="line">add(readertype);add(readersex);</span><br><span class="line">querybtn=<span class="keyword">new</span> Button(<span class="string">&quot;Add&quot;</span>);</span><br><span class="line">closebtn=<span class="keyword">new</span> Button(<span class="string">&quot;Close&quot;</span>);</span><br><span class="line">querybtn.setBounds(<span class="number">130</span>,<span class="number">140</span>,<span class="number">50</span>,<span class="number">20</span>);</span><br><span class="line">closebtn.setBounds(<span class="number">310</span>,<span class="number">140</span>,<span class="number">50</span>,<span class="number">20</span>);</span><br><span class="line">add(querybtn);add(closebtn);</span><br><span class="line">querybtn.addActionListener(<span class="keyword">new</span> ActionListener()&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span></span>&#123;</span><br><span class="line">updateActionPerformed(e);</span><br><span class="line">clearAndSetReaderId();</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">closebtn.addActionListener(<span class="keyword">new</span> ActionListener()&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span></span>&#123;</span><br><span class="line">DbOp.close();</span><br><span class="line">dispose();</span><br><span class="line"><span class="comment">//System.exit(0);</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">addWindowListener(<span class="keyword">new</span> WindowAdapter()&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">windowClosing</span><span class="params">(WindowEvent e)</span></span>&#123;</span><br><span class="line">DbOp.close();</span><br><span class="line">dispose();</span><br><span class="line"><span class="comment">//System.exit(0);</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">setLocationRelativeTo(<span class="keyword">null</span>);</span><br><span class="line">setVisible(<span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getInsertOrderedList</span><span class="params">()</span></span>&#123;</span><br><span class="line">String returnstring=<span class="string">&quot;&quot;</span>;</span><br><span class="line">String sql=<span class="string">&quot;select * from reader&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line">ResultSet rs=DbOp.executeQuery(sql);</span><br><span class="line"><span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line"></span><br><span class="line">count++;</span><br><span class="line">&#125;</span><br><span class="line">String[] allid=<span class="keyword">new</span> String[count];</span><br><span class="line"><span class="keyword">int</span>[] intofid=<span class="keyword">new</span> <span class="keyword">int</span>[count];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">ResultSet rs1=DbOp.executeQuery(sql);</span><br><span class="line"><span class="keyword">while</span>(rs1.next())&#123;</span><br><span class="line">allid[i]=rs1.getString(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">intofid[i]=Integer.parseInt(allid[i]);</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> temp=-<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;intofid.length;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(intofid[j]&gt;temp)&#123;</span><br><span class="line">temp=intofid[j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">returnstring=String.valueOf(temp+<span class="number">1</span>);</span><br><span class="line"><span class="keyword">int</span> len=returnstring.length();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> f=<span class="number">0</span>;f&lt;<span class="number">5</span>-len;f++)&#123;</span><br><span class="line">returnstring=<span class="string">&quot;0&quot;</span>+returnstring;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">DbOp.close();</span><br><span class="line">&#125;<span class="keyword">catch</span>(SQLException ee)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> returnstring;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">updateActionPerformed</span><span class="params">(ActionEvent e)</span></span>&#123;</span><br><span class="line">String[] readerstr=<span class="keyword">new</span> String[<span class="number">6</span>];</span><br><span class="line">readerstr[<span class="number">2</span>]=readertype.getSelectedItem().toString();</span><br><span class="line">readerstr[<span class="number">3</span>]=readersex.getSelectedItem().toString();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;readerstr.length;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(i==<span class="number">2</span>||i==<span class="number">3</span>)&#123;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">readerstr[i]=readertxt[i].getText();</span><br><span class="line"><span class="keyword">if</span>(readerstr[i].equals(<span class="string">&quot;&quot;</span>))&#123;</span><br><span class="line">JOptionPane.showMessageDialog(<span class="keyword">null</span>,<span class="string">&quot;请务必填写完整&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">String id=readerstr[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">if</span>(IfReaderExit(id))&#123;</span><br><span class="line">JOptionPane.showMessageDialog(<span class="keyword">null</span>,<span class="string">&quot;该读者已经存在！&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="keyword">int</span> max_num=Integer.parseInt(readerstr[<span class="number">4</span>]);</span><br><span class="line"><span class="keyword">int</span> days_num=Integer.parseInt(readerstr[<span class="number">5</span>]);</span><br><span class="line">String sql=<span class="string">&quot;insert into reader(id,readername,readertype,sex,max_num,days_num) values(&#x27;&quot;</span>;</span><br><span class="line">sql=sql+id+<span class="string">&quot;&#x27;,&#x27;&quot;</span>+readerstr[<span class="number">1</span>]+<span class="string">&quot;&#x27;,&#x27;&quot;</span>+readerstr[<span class="number">2</span>]+<span class="string">&quot;&#x27;,&#x27;&quot;</span>+readerstr[<span class="number">3</span>]+<span class="string">&quot;&#x27;,&quot;</span>+max_num+<span class="string">&quot;,&quot;</span>+days_num+<span class="string">&quot;)&quot;</span>;</span><br><span class="line"><span class="keyword">int</span> a=DbOp.executeUpdate(sql);</span><br><span class="line"><span class="keyword">if</span>(a==<span class="number">1</span>)&#123;</span><br><span class="line">JOptionPane.showMessageDialog(<span class="keyword">null</span>,<span class="string">&quot;读者添加成功&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">JOptionPane.showMessageDialog(<span class="keyword">null</span>,<span class="string">&quot;读者添加失败&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">DbOp.close();</span><br><span class="line">&#125;<span class="keyword">catch</span>(NumberFormatException e1)&#123;</span><br><span class="line">JOptionPane.showMessageDialog(<span class="keyword">null</span>,<span class="string">&quot;可借数量和可借天数必须是整数&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">IfReaderExit</span><span class="params">(String id)</span></span>&#123;</span><br><span class="line">String sql=<span class="string">&quot;select * from reader where id=&#x27;&quot;</span>+id+<span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">ResultSet rs=DbOp.executeQuery(sql);</span><br><span class="line"><span class="keyword">if</span>(rs.next())&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">catch</span>(SQLException e)&#123;</span><br><span class="line">JOptionPane.showMessageDialog(<span class="keyword">null</span>,<span class="string">&quot;查询数据错误&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line"><span class="keyword">new</span> ReaderAdd();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="修改密码-1"><a href="#修改密码-1" class="headerlink" title="修改密码"></a>修改密码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jason.frame;<span class="comment">//com.jason.frame.ChangePassWord.java;</span></span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.*;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> javax.swing.JOptionPane;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ChangePassWord</span> <span class="keyword">extends</span> <span class="title">Frame</span></span>&#123;</span><br><span class="line">String[] sign=&#123;<span class="string">&quot;旧密码：&quot;</span>,<span class="string">&quot;设定新密码：&quot;</span>,<span class="string">&quot;重复新密码：&quot;</span>&#125;;</span><br><span class="line">Label[] textlb=<span class="keyword">new</span> Label[<span class="number">3</span>];</span><br><span class="line">TextField[] passtxt=<span class="keyword">new</span> TextField[<span class="number">3</span>];</span><br><span class="line">Button reset=<span class="keyword">new</span> Button(<span class="string">&quot;新密码设定&quot;</span>);</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ChangePassWord</span><span class="params">()</span></span>&#123;</span><br><span class="line">setTitle(<span class="string">&quot;修改密码&quot;</span>);</span><br><span class="line">setSize(<span class="number">300</span>,<span class="number">250</span>);</span><br><span class="line">setLayout(<span class="keyword">null</span>);</span><br><span class="line">setResizable(<span class="keyword">false</span>);</span><br><span class="line"><span class="keyword">int</span> y=<span class="number">50</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)&#123;</span><br><span class="line">textlb[i]=<span class="keyword">new</span> Label(sign[i]);</span><br><span class="line">passtxt[i]=<span class="keyword">new</span> TextField();</span><br><span class="line">textlb[i].setBounds(<span class="number">50</span>,y,<span class="number">80</span>,<span class="number">20</span>);</span><br><span class="line">passtxt[i].setBounds(<span class="number">130</span>,y,<span class="number">100</span>,<span class="number">20</span>);</span><br><span class="line">passtxt[i].setEchoChar(<span class="string">&#x27;●&#x27;</span>);</span><br><span class="line">add(textlb[i]);add(passtxt[i]);</span><br><span class="line">y=y+<span class="number">50</span>;</span><br><span class="line">&#125;</span><br><span class="line">reset.setBounds(<span class="number">110</span>,<span class="number">200</span>,<span class="number">80</span>,<span class="number">20</span>);</span><br><span class="line">add(reset);</span><br><span class="line">setLocationRelativeTo(<span class="keyword">null</span>);</span><br><span class="line">reset.addActionListener(<span class="keyword">new</span> ActionListener()&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span></span>&#123;</span><br><span class="line">setNewPassWord(e);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">addWindowListener(<span class="keyword">new</span> WindowAdapter()&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">windowClosing</span><span class="params">(WindowEvent e)</span></span>&#123;</span><br><span class="line">System.exit(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">setVisible(<span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNewPassWord</span><span class="params">(ActionEvent e)</span></span>&#123;</span><br><span class="line">String[] password=<span class="keyword">new</span> String[<span class="number">3</span>];</span><br><span class="line">String sql;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;password.length;i++)&#123;</span><br><span class="line">password[i]=passtxt[i].getText();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(!password[<span class="number">0</span>].equals(<span class="string">&quot;&quot;</span>))&#123;</span><br><span class="line">sql=<span class="string">&quot;select * from user where username=&#x27;&quot;</span>+GlobalVar.login_user+<span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">JOptionPane.showMessageDialog(<span class="keyword">null</span>,<span class="string">&quot;Empty String Just Input&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(password[<span class="number">0</span>].equals(password[<span class="number">1</span>]))&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">ResultSet rs=DbOp.executeQuery(sql);</span><br><span class="line"><span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line"><span class="keyword">if</span>(password[<span class="number">0</span>].equals(rs.getString(<span class="string">&quot;password&quot;</span>)))&#123;</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">JOptionPane.showMessageDialog(<span class="keyword">null</span>,<span class="string">&quot;Sorroy It&#x27;s Fail It&#x27;s not Old PassWord&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">catch</span>(SQLException ee)&#123;</span><br><span class="line">JOptionPane.showMessageDialog(<span class="keyword">null</span>,<span class="string">&quot;Sorroy It&#x27;s Fail Some Data Wrong&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(password[<span class="number">0</span>].equals(password[<span class="number">1</span>]))&#123;</span><br><span class="line">JOptionPane.showMessageDialog(<span class="keyword">null</span>,<span class="string">&quot;Sorroy It&#x27;s Fail Same From Old Password&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(!password[<span class="number">1</span>].equals(password[<span class="number">2</span>]))&#123;</span><br><span class="line">JOptionPane.showMessageDialog(<span class="keyword">null</span>,<span class="string">&quot;Sorroy It&#x27;s Fail  Again Password wrong&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(password[<span class="number">1</span>].equals(<span class="string">&quot;&quot;</span>)&amp;&amp;password[<span class="number">1</span>].equals(<span class="string">&quot;&quot;</span>))&#123;</span><br><span class="line">JOptionPane.showMessageDialog(<span class="keyword">null</span>,<span class="string">&quot;Sorroy It&#x27;s Fail  one Empty&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">sql=<span class="string">&quot;&quot;</span>;</span><br><span class="line">sql=<span class="string">&quot;update user set password=&#x27;&quot;</span>+password[<span class="number">1</span>]+<span class="string">&quot;&#x27;where username=&#x27;&quot;</span>+GlobalVar.login_user+<span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line"><span class="keyword">int</span> da=DbOp.executeUpdate(sql);</span><br><span class="line"><span class="keyword">if</span>(da==<span class="number">1</span>)&#123;</span><br><span class="line">JOptionPane.showMessageDialog(<span class="keyword">null</span>,<span class="string">&quot;yet It&#x27;s Successed  Update PassWord&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">JOptionPane.showMessageDialog(<span class="keyword">null</span>,<span class="string">&quot;Sorroy It&#x27;s Fail  try again&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line"><span class="keyword">new</span> ChangePassWord();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="06-源码下载"><a href="#06-源码下载" class="headerlink" title="06 源码下载"></a>06 源码下载</h2><p>关注公众号【C you again】，回复“Java GUI图书管理系统”免费领取。<br>亦可直接扫描主页二维码关注，回复“Java GUI图书管理系统”免费领取，<a href="https://gzh.cyouagain.cn/">点此打开个人主页</a></p><p><img src="https://img-blog.csdnimg.cn/20200824212418769.jpg#pic_center" class="lazyload" data-srcset="https://img-blog.csdnimg.cn/20200824212418769.jpg#pic_center" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="在这里插入图片描述"></p><p><strong>说明：此源码来源于网络，若有侵权，请联系删除！！</strong></p>]]></content>
    
    
    <summary type="html">java awt +MySql+eclipse/idea 实现图书管理系统</summary>
    
    
    
    <category term="系统源码" scheme="https://cyouagain.cn/categories/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    
    <category term="源码分享" scheme="https://cyouagain.cn/tags/%E6%BA%90%E7%A0%81%E5%88%86%E4%BA%AB/"/>
    
    <category term="系统源码" scheme="https://cyouagain.cn/tags/%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81/"/>
    
    <category term="图书管理系统" scheme="https://cyouagain.cn/tags/%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
</feed>
